# ==============================================================================
# Astral Draft v4 - Production Environment Variables
# ==============================================================================
# This file contains all environment variables required for production deployment.
# Copy this file to .env.production and fill in the actual values.
# Never commit actual production values to version control!
# ==============================================================================

# ==========================================================================
# Core Application Settings
# ==========================================================================

# Node.js Environment (REQUIRED)
NODE_ENV=production

# Application URL (REQUIRED)
NEXTAUTH_URL=https://astraldraft.com

# Next.js Configuration
NEXT_TELEMETRY_DISABLED=1
NEXT_SHARP=1

# ==========================================================================
# Authentication & Security
# ==========================================================================

# NextAuth.js Secret (REQUIRED - Generate with: openssl rand -base64 32)
NEXTAUTH_SECRET=your-super-secure-nextauth-secret-here

# JWT Secret for API authentication (REQUIRED)
JWT_SECRET=your-jwt-secret-here

# API Key for internal services (REQUIRED)
API_SECRET_KEY=your-api-secret-key-here

# Session Configuration
SESSION_TIMEOUT=86400
SECURE_COOKIES=true

# CORS Configuration
CORS_ORIGIN=https://astraldraft.com

# ==========================================================================
# Database Configuration
# ==========================================================================

# Primary Database URL (REQUIRED)
# Format: postgresql://username:password@host:port/database?options
DATABASE_URL=postgresql://username:password@production-db-host:5432/astral_draft_v4?sslmode=require&connection_limit=20&pool_timeout=20

# Read Replica Database URL (Optional but recommended)
DATABASE_READ_URL=postgresql://username:password@production-db-read-host:5432/astral_draft_v4?sslmode=require&connection_limit=10

# Database Pool Configuration
DATABASE_POOL_MIN=5
DATABASE_POOL_MAX=20
DATABASE_POOL_TIMEOUT=30000

# ==========================================================================
# Redis Configuration
# ==========================================================================

# Redis URL for caching and sessions (REQUIRED)
REDIS_URL=redis://production-redis-host:6379/0

# Redis Cluster Configuration (if using Redis Cluster)
REDIS_CLUSTER_NODES=redis-node1:6379,redis-node2:6379,redis-node3:6379

# Redis Authentication
REDIS_PASSWORD=your-redis-password

# Cache Configuration
CACHE_TTL=3600
SESSION_STORE_TTL=86400

# ==========================================================================
# External APIs & Services
# ==========================================================================

# Sports Data API Configuration
SPORTSIO_API_KEY=your-sportsio-api-key
SPORTSIO_BASE_URL=https://api.sportsdata.io/v3/nfl

# Real-time Sports Data
REALTIME_SPORTS_API_KEY=your-realtime-api-key
REALTIME_SPORTS_WEBHOOK_SECRET=your-webhook-secret

# AI/ML Services (Gemini AI)
GEMINI_API_KEY=your-gemini-api-key
GEMINI_MODEL=gemini-pro
GEMINI_MAX_TOKENS=2048

# Oracle Prediction Service
ORACLE_API_ENDPOINT=https://api.astraldraft.com/oracle
ORACLE_API_KEY=your-oracle-api-key

# ==========================================================================
# Email Configuration
# ==========================================================================

# Email Provider Settings (using Resend)
RESEND_API_KEY=your-resend-api-key
FROM_EMAIL=noreply@astraldraft.com
SUPPORT_EMAIL=support@astraldraft.com

# Email Templates
EMAIL_TEMPLATE_WELCOME=welcome-template-id
EMAIL_TEMPLATE_DRAFT_REMINDER=draft-reminder-template-id
EMAIL_TEMPLATE_TRADE_NOTIFICATION=trade-notification-template-id

# SMTP Fallback (Optional)
SMTP_HOST=smtp.example.com
SMTP_PORT=587
SMTP_USER=your-smtp-username
SMTP_PASS=your-smtp-password
SMTP_SECURE=true

# ==========================================================================
# File Storage & CDN
# ==========================================================================

# AWS S3 Configuration
AWS_ACCESS_KEY_ID=your-aws-access-key
AWS_SECRET_ACCESS_KEY=your-aws-secret-key
AWS_REGION=us-east-1
AWS_S3_BUCKET=astral-draft-production

# CloudFront CDN
CDN_URL=https://cdn.astraldraft.com

# Image Upload Configuration
MAX_FILE_SIZE=5242880
ALLOWED_IMAGE_TYPES=image/jpeg,image/png,image/webp

# ==========================================================================
# Monitoring & Observability
# ==========================================================================

# Sentry Error Tracking (REQUIRED)
SENTRY_DSN=https://your-sentry-dsn@sentry.io/project-id
SENTRY_ORG=your-sentry-org
SENTRY_PROJECT=astral-draft-v4
SENTRY_AUTH_TOKEN=your-sentry-auth-token

# Application Performance Monitoring
APM_SERVICE_NAME=astral-draft-v4
APM_ENVIRONMENT=production
APM_SERVER_URL=https://your-apm-server.com

# Analytics
GOOGLE_ANALYTICS_ID=GA-XXXXXXXXX
MIXPANEL_TOKEN=your-mixpanel-token

# Health Check Configuration
HEALTH_CHECK_ENDPOINT=/api/health
HEALTH_CHECK_SECRET=your-health-check-secret

# ==========================================================================
# Payment Processing
# ==========================================================================

# Stripe Configuration (if using paid features)
STRIPE_PUBLIC_KEY=pk_live_xxxxxxxxxx
STRIPE_SECRET_KEY=sk_live_xxxxxxxxxx
STRIPE_WEBHOOK_SECRET=whsec_xxxxxxxxxx

# Payment Configuration
CURRENCY=USD
ENABLE_PAYMENTS=true

# ==========================================================================
# Security & Compliance
# ==========================================================================

# Rate Limiting
RATE_LIMIT_REQUESTS_PER_MINUTE=100
RATE_LIMIT_BURST=20

# Security Headers
CONTENT_SECURITY_POLICY_ENABLED=true
HSTS_MAX_AGE=31536000

# Data Privacy
GDPR_COMPLIANCE=true
COOKIE_CONSENT_REQUIRED=true

# Audit Logging
AUDIT_LOG_ENABLED=true
AUDIT_LOG_LEVEL=info

# ==========================================================================
# Feature Flags & Toggles
# ==========================================================================

# Core Features
ENABLE_DRAFT_ROOM=true
ENABLE_TRADE_ANALYZER=true
ENABLE_ORACLE_PREDICTIONS=true
ENABLE_REAL_TIME_UPDATES=true

# Premium Features
ENABLE_PREMIUM_ANALYTICS=true
ENABLE_AI_DRAFT_COACH=true
ENABLE_ADVANCED_STATS=true

# Experimental Features
ENABLE_MOBILE_APP_INTEGRATION=false
ENABLE_BLOCKCHAIN_FEATURES=false
ENABLE_SOCIAL_FEATURES=true

# ==========================================================================
# Performance & Optimization
# ==========================================================================

# Caching Strategy
ENABLE_REDIS_CACHE=true
ENABLE_EDGE_CACHE=true
CACHE_STRATEGY=aggressive

# CDN Configuration
ENABLE_CDN=true
CDN_CACHE_TTL=3600

# Database Query Optimization
ENABLE_QUERY_CACHE=true
QUERY_CACHE_TTL=300

# API Response Optimization
ENABLE_GZIP_COMPRESSION=true
ENABLE_RESPONSE_CACHING=true

# ==========================================================================
# WebSocket & Real-time Features
# ==========================================================================

# WebSocket Configuration
WEBSOCKET_ENABLED=true
WEBSOCKET_HEARTBEAT_INTERVAL=30000
WEBSOCKET_MAX_CONNECTIONS=10000

# Real-time Draft Updates
DRAFT_WEBSOCKET_ENABLED=true
DRAFT_UPDATE_THROTTLE=100

# Push Notifications
PUSH_NOTIFICATIONS_ENABLED=true
VAPID_PUBLIC_KEY=your-vapid-public-key
VAPID_PRIVATE_KEY=your-vapid-private-key

# ==========================================================================
# Deployment & Infrastructure
# ==========================================================================

# Container Configuration
CONTAINER_MEMORY_LIMIT=1024m
CONTAINER_CPU_LIMIT=1000m

# Load Balancer Configuration
LOAD_BALANCER_HEALTH_CHECK=/api/health
LOAD_BALANCER_TIMEOUT=30

# Auto-scaling Configuration
AUTO_SCALE_MIN_INSTANCES=2
AUTO_SCALE_MAX_INSTANCES=10
AUTO_SCALE_TARGET_CPU=70

# ==========================================================================
# Backup & Disaster Recovery
# ==========================================================================

# Backup Configuration
BACKUP_ENABLED=true
BACKUP_SCHEDULE=0 2 * * *
BACKUP_RETENTION_DAYS=30

# Disaster Recovery
DR_ENABLED=true
DR_REGION=us-west-2
DR_DATABASE_URL=postgresql://username:password@dr-db-host:5432/astral_draft_v4

# ==========================================================================
# Legal & Compliance
# ==========================================================================

# Terms and Privacy
TERMS_OF_SERVICE_URL=https://astraldraft.com/terms
PRIVACY_POLICY_URL=https://astraldraft.com/privacy
COOKIE_POLICY_URL=https://astraldraft.com/cookies

# GDPR Configuration
GDPR_DATA_RETENTION_DAYS=2555
GDPR_COOKIE_CONSENT_REQUIRED=true

# ==========================================================================
# Development & Debugging (Production Safe)
# ==========================================================================

# Logging Configuration
LOG_LEVEL=warn
LOG_FORMAT=json
LOG_TIMESTAMP=true

# Debug Configuration (Keep disabled in production)
DEBUG_ENABLED=false
VERBOSE_LOGGING=false

# Performance Monitoring
PERFORMANCE_MONITORING=true
SLOW_QUERY_THRESHOLD=1000

# ==========================================================================
# Version Information
# ==========================================================================

# Application Version (Auto-populated by CI/CD)
APP_VERSION=4.0.0
BUILD_NUMBER=
GIT_COMMIT_SHA=
BUILD_TIMESTAMP=

# ==============================================================================
# Environment Variable Validation
# ==============================================================================
# These variables are used by the application to validate required env vars
# ==============================================================================

# Required Environment Variables (used for validation)
REQUIRED_ENV_VARS=NODE_ENV,NEXTAUTH_URL,NEXTAUTH_SECRET,DATABASE_URL,REDIS_URL,SENTRY_DSN

# Optional Environment Variables (used for feature enablement)
OPTIONAL_ENV_VARS=STRIPE_SECRET_KEY,GOOGLE_ANALYTICS_ID,AWS_ACCESS_KEY_ID