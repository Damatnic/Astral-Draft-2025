{"version":3,"file":"LeagueHistoryView-Cfy1aSxJ.js","sources":["../../components/history/ChampionChart.tsx","../../views/LeagueHistoryView.tsx"],"sourcesContent":["\n\n\nimport React from 'react';\nimport { motion } from 'framer-motion';\nimport type { LeagueHistoryEntry, Team } from '../../types';\nimport { Avatar } from '../ui/Avatar';\nimport Tooltip from '../ui/Tooltip';\n\ninterface ChampionChartProps {\n    history: LeagueHistoryEntry[];\n    teams: Team[];\n}\n\nconst ChampionChart: React.FC<ChampionChartProps> = ({ history, teams }) => {\n    const championCounts = React.useMemo(() => {\n        const counts: { [teamId: number]: number } = {};\n        history.forEach((entry: any) => {\n            counts[entry.championTeamId] = (counts[entry.championTeamId] || 0) + 1;\n        });\n\n        return Object.entries(counts)\n            .map(([teamId, count]) => {\n                const team = teams.find((t: any) => t.id === Number(teamId));\n                return {\n                    team,\n                    count\n                };\n            })\n            .filter((item: any) => item.team)\n            .sort((a, b) => b.count - a.count);\n    }, [history, teams]);\n\n    if (championCounts.length === 0) {\n        return null;\n    }\n\n    const maxCount = Math.max(...championCounts.map((c: any) => c.count), 1);\n\n    return (\n        <div className=\"w-full h-56 flex items-end justify-center gap-4 px-4\">\n            {championCounts.map(({ team, count }, index) => (\n                <motion.div\n                    key={team!.id}\n                    className=\"w-16 flex flex-col items-center gap-2\"\n                    {...{\n                        initial: { opacity: 0, y: 30 },\n                        animate: { opacity: 1, y: 0 },\n                        transition: { delay: index * 0.1, type: 'spring' },\n                    }}\n                >\n                    <Tooltip text={`${count} championship${count > 1 ? 's' : ''}`}>\n                        <div\n                            className=\"w-full bg-gradient-to-t from-yellow-500 to-yellow-300 rounded-t-md hover:shadow-lg hover:shadow-yellow-400/30 transition-shadow\"\n                            style={{ height: `${(count / maxCount) * 100}%` }}\n                        ></div>\n                    </Tooltip>\n                    <Avatar avatar={team!.avatar} className=\"w-12 h-12 text-3xl rounded-lg\" alt={team!.name}/>\n                    <p className=\"text-xs text-center font-semibold truncate w-full\">{team!.name}</p>\n                </motion.div>\n            ))}\n        </div>\n    );\n};\n\nexport default ChampionChart;\n","\n\nimport React from 'react';\nimport { useAppState } from '../contexts/AppContext';\nimport type { League } from '../types';\nimport { Widget } from '../components/ui/Widget';\nimport { CrownIcon } from '../components/icons/CrownIcon';\nimport { TelescopeIcon } from '../components/icons/TelescopeIcon';\nimport { useLeague } from '../hooks/useLeague';\nimport ChampionChart from '../components/history/ChampionChart';\n\nconst LeagueHistoryContent: React.FC<{ league: League, dispatch: React.Dispatch<any> }> = ({ league, dispatch }) => {\n    const history = league.history || [];\n\n    return (\n         <div className=\"w-full h-full flex flex-col p-4 sm:p-6 lg:p-8 overflow-y-auto\">\n            <header className=\"flex-shrink-0 flex justify-between items-center mb-6\">\n                <div>\n                    <h1 className=\"font-display text-3xl sm:text-4xl font-extrabold tracking-wider uppercase text-[var(--text-primary)]\">\n                        League History\n                    </h1>\n                    <p className=\"text-sm text-[var(--text-secondary)] tracking-widest\">{league.name}</p>\n                </div>\n                <button onClick={() => dispatch({ type: 'SET_VIEW', payload: 'LEAGUE_HUB' })} className=\"px-4 py-2 bg-white/10 rounded-lg text-sm hover:bg-white/20\">\n                    Back to League Hub\n                </button>\n            </header>\n            <main className=\"flex-grow space-y-6\">\n                <Widget title=\"Hall of Champions\" icon={<CrownIcon />}>\n                     <div className=\"p-4\">\n                        {history.length > 0 ? (\n                           <ChampionChart history={history} teams={league.teams} />\n                        ) : (\n                            <p className=\"text-sm text-gray-400 col-span-full text-center py-8\">No champions have been crowned yet.</p>\n                        )}\n                    </div>\n                </Widget>\n                 <Widget title=\"Past Seasons\" icon={<TelescopeIcon />}>\n                    <div className=\"p-4 space-y-3\">\n                        {history.length > 0 ? history.map(entry => (\n                            <div key={entry.season} className=\"bg-black/10 p-3 rounded-lg flex items-center justify-between hover:bg-black/20 transition-colors\">\n                                <p className=\"font-bold text-white\">{entry.season} Season</p>\n                                <button\n                                    onClick={() => {\n                                        dispatch({ type: 'SET_ARCHIVE_SEASON', payload: entry.season });\n                                        dispatch({ type: 'SET_VIEW', payload: 'SEASON_ARCHIVE' });\n                                    }}\n                                    className=\"px-3 py-1.5 text-xs font-bold bg-cyan-500/10 text-cyan-300 rounded-md hover:bg-cyan-500/20\"\n                                >\n                                    View Archive\n                                </button>\n                            </div>\n                        )) : (\n                            <p className=\"text-sm text-gray-400 text-center py-8\">No past seasons to display.</p>\n                        )}\n                    </div>\n                </Widget>\n            </main>\n        </div>\n    );\n};\n\nconst LeagueHistoryView: React.FC = () => {\n    const { dispatch } = useAppState();\n    const { league } = useLeague();\n    \n    if (!league) {\n        return (\n            <div className=\"p-8 text-center w-full h-full flex flex-col items-center justify-center\">\n                <p>Please select a league to view its history.</p>\n                 <button onClick={() => dispatch({ type: 'SET_VIEW', payload: 'DASHBOARD' })} className=\"mt-4 px-4 py-2 bg-cyan-500 rounded\">\n                    Back to Dashboard\n                </button>\n            </div>\n        );\n    }\n    \n    return <LeagueHistoryContent league={league} dispatch={dispatch} />;\n};\n\nexport default LeagueHistoryView;"],"names":["ChampionChart","history","teams","championCounts","React","counts","entry","teamId","count","t","item","a","b","maxCount","c","jsxDEV","team","index","motion","Tooltip","this","Avatar","LeagueHistoryContent","league","dispatch","Widget","CrownIcon","TelescopeIcon","LeagueHistoryView","useAppState","useLeague"],"mappings":"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"}