import{R as u,j as e,m as d,u as f}from"./index-COBmtdYu.js";import{W as m}from"./Widget-BuBclpAe.js";import{C as c}from"./CrownIcon-CHkayc6c.js";import{T as N}from"./TelescopeIcon-CiP2rfm-.js";import{u as x}from"./useLeague-Cpfoz4PJ.js";import{A as b}from"./Avatar-BTFtifDF.js";import{T as p}from"./Tooltip-DfORbG6k.js";const h=({history:t,teams:i})=>{const r=u.useMemo(()=>{const a={};return t.forEach(s=>{a[s.championTeamId]=(a[s.championTeamId]||0)+1}),Object.entries(a).map(([s,n])=>({team:i.find(o=>o.id===Number(s)),count:n})).filter(s=>s.team).sort((s,n)=>n.count-s.count)},[t,i]);if(r.length===0)return null;const l=Math.max(...r.map(a=>a.count),1);return e.jsxDEV("div",{className:"w-full h-56 flex items-end justify-center gap-4 px-4",children:r.map(({team:a,count:s},n)=>e.jsxDEV(d.div,{className:"w-16 flex flex-col items-center gap-2",initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{delay:n*.1,type:"spring"},children:[e.jsxDEV(p,{text:`${s} championship${s>1?"s":""}`,children:e.jsxDEV("div",{className:"w-full bg-gradient-to-t from-yellow-500 to-yellow-300 rounded-t-md hover:shadow-lg hover:shadow-yellow-400/30 transition-shadow",style:{height:`${s/l*100}%`}},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/components/history/ChampionChart.tsx",lineNumber:53,columnNumber:25},void 0)},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/components/history/ChampionChart.tsx",lineNumber:52,columnNumber:21},void 0),e.jsxDEV(b,{avatar:a.avatar,className:"w-12 h-12 text-3xl rounded-lg",alt:a.name},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/components/history/ChampionChart.tsx",lineNumber:58,columnNumber:21},void 0),e.jsxDEV("p",{className:"text-xs text-center font-semibold truncate w-full",children:a.name},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/components/history/ChampionChart.tsx",lineNumber:59,columnNumber:21},void 0)]},a.id,!0,{fileName:"C:/Users/damat/_REPOS/Astral Draft/components/history/ChampionChart.tsx",lineNumber:43,columnNumber:17},void 0))},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/components/history/ChampionChart.tsx",lineNumber:41,columnNumber:9},void 0)},v=({league:t,dispatch:i})=>{const r=t.history||[];return e.jsxDEV("div",{className:"w-full h-full flex flex-col p-4 sm:p-6 lg:p-8 overflow-y-auto",children:[e.jsxDEV("header",{className:"flex-shrink-0 flex justify-between items-center mb-6",children:[e.jsxDEV("div",{children:[e.jsxDEV("h1",{className:"font-display text-3xl sm:text-4xl font-extrabold tracking-wider uppercase text-[var(--text-primary)]",children:"League History"},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/LeagueHistoryView.tsx",lineNumber:19,columnNumber:21},void 0),e.jsxDEV("p",{className:"text-sm text-[var(--text-secondary)] tracking-widest",children:t.name},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/LeagueHistoryView.tsx",lineNumber:22,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/LeagueHistoryView.tsx",lineNumber:18,columnNumber:17},void 0),e.jsxDEV("button",{onClick:()=>i({type:"SET_VIEW",payload:"LEAGUE_HUB"}),className:"px-4 py-2 bg-white/10 rounded-lg text-sm hover:bg-white/20",children:"Back to League Hub"},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/LeagueHistoryView.tsx",lineNumber:24,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/LeagueHistoryView.tsx",lineNumber:17,columnNumber:13},void 0),e.jsxDEV("main",{className:"flex-grow space-y-6",children:[e.jsxDEV(m,{title:"Hall of Champions",icon:e.jsxDEV(c,{},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/LeagueHistoryView.tsx",lineNumber:29,columnNumber:57},void 0),children:e.jsxDEV("div",{className:"p-4",children:r.length>0?e.jsxDEV(h,{history:r,teams:t.teams},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/LeagueHistoryView.tsx",lineNumber:32,columnNumber:28},void 0):e.jsxDEV("p",{className:"text-sm text-gray-400 col-span-full text-center py-8",children:"No champions have been crowned yet."},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/LeagueHistoryView.tsx",lineNumber:34,columnNumber:29},void 0)},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/LeagueHistoryView.tsx",lineNumber:30,columnNumber:22},void 0)},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/LeagueHistoryView.tsx",lineNumber:29,columnNumber:17},void 0),e.jsxDEV(m,{title:"Past Seasons",icon:e.jsxDEV(N,{},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/LeagueHistoryView.tsx",lineNumber:38,columnNumber:53},void 0),children:e.jsxDEV("div",{className:"p-4 space-y-3",children:r.length>0?r.map(l=>e.jsxDEV("div",{className:"bg-black/10 p-3 rounded-lg flex items-center justify-between hover:bg-black/20 transition-colors",children:[e.jsxDEV("p",{className:"font-bold text-white",children:[l.season," Season"]},void 0,!0,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/LeagueHistoryView.tsx",lineNumber:42,columnNumber:33},void 0),e.jsxDEV("button",{onClick:()=>{i({type:"SET_ARCHIVE_SEASON",payload:l.season}),i({type:"SET_VIEW",payload:"SEASON_ARCHIVE"})},className:"px-3 py-1.5 text-xs font-bold bg-cyan-500/10 text-cyan-300 rounded-md hover:bg-cyan-500/20",children:"View Archive"},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/LeagueHistoryView.tsx",lineNumber:43,columnNumber:33},void 0)]},l.season,!0,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/LeagueHistoryView.tsx",lineNumber:41,columnNumber:29},void 0)):e.jsxDEV("p",{className:"text-sm text-gray-400 text-center py-8",children:"No past seasons to display."},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/LeagueHistoryView.tsx",lineNumber:54,columnNumber:29},void 0)},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/LeagueHistoryView.tsx",lineNumber:39,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/LeagueHistoryView.tsx",lineNumber:38,columnNumber:18},void 0)]},void 0,!0,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/LeagueHistoryView.tsx",lineNumber:28,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/LeagueHistoryView.tsx",lineNumber:16,columnNumber:10},void 0)},A=()=>{const{dispatch:t}=f(),{league:i}=x();return i?e.jsxDEV(v,{league:i,dispatch:t},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/LeagueHistoryView.tsx",lineNumber:78,columnNumber:12},void 0):e.jsxDEV("div",{className:"p-8 text-center w-full h-full flex flex-col items-center justify-center",children:[e.jsxDEV("p",{children:"Please select a league to view its history."},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/LeagueHistoryView.tsx",lineNumber:70,columnNumber:17},void 0),e.jsxDEV("button",{onClick:()=>t({type:"SET_VIEW",payload:"DASHBOARD"}),className:"mt-4 px-4 py-2 bg-cyan-500 rounded",children:"Back to Dashboard"},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/LeagueHistoryView.tsx",lineNumber:71,columnNumber:18},void 0)]},void 0,!0,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/LeagueHistoryView.tsx",lineNumber:69,columnNumber:13},void 0)};export{A as default};
