import{j as e,R as s,m as P,S as h}from"./index-COBmtdYu.js";import{M as g}from"./Modal-B7Hn7XWX.js";import{q as A}from"./geminiService-1862MQGr.js";import{u as S}from"./useLeague-Cpfoz4PJ.js";const j=({className:t})=>e.jsxDEV("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:t||"h-5 w-5",children:[e.jsxDEV("path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5C17.7 10.2 18 9 18 7c0-2.2-1.8-4-4-4S9.8 3.5 9 5.5c-.8 2-.3 3.2.5 4.5.8.8 1.3 1.5 1.5 2.5"},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/components/icons/LightbulbIcon.tsx",lineNumber:6,columnNumber:9},void 0),e.jsxDEV("path",{d:"M9 18h6"},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/components/icons/LightbulbIcon.tsx",lineNumber:7,columnNumber:9},void 0),e.jsxDEV("path",{d:"M10 22h4"},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/components/icons/LightbulbIcon.tsx",lineNumber:8,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/damat/_REPOS/Astral Draft/components/icons/LightbulbIcon.tsx",lineNumber:5,columnNumber:5},void 0),_=({playerToAdd:t,myTeam:l,leagueId:D,dispatch:r,onClose:i})=>{const{league:E}=S(),[n,c]=s.useState(1),[u,f]=s.useState(l.roster[l.roster.length-1]?.id),[m,b]=s.useState(null),[o,N]=s.useState(!1),d=E?.settings.aiAssistanceLevel==="FULL",x=async()=>{if(!d)return;N(!0),b(null);const a=await A(l);b(a),a&&(c(a.suggestedBid),a.optimalDropPlayerId&&f(a.optimalDropPlayerId)),N(!1)};s.useEffect(()=>{x()},[t.id]);const v=()=>{if(n>l.faab){r({type:"ADD_NOTIFICATION",payload:{message:"Error: Bid exceeds your FAAB budget.",type:"SYSTEM"}});return}if(n<=0){r({type:"ADD_NOTIFICATION",payload:{message:"Error: Bid must be positive.",type:"SYSTEM"}});return}r({type:"PLACE_WAIVER_CLAIM",payload:{leagueId:D,claim:{teamId:l.id,playerId:t.id,bid:n,playerToDropId:u}}}),r({type:"ADD_NOTIFICATION",payload:{message:`Waiver claim for ${t.name} placed!`,type:"WAIVER"}}),i()},p="mobile-touch-target w-full bg-black/10 dark:bg-gray-900/50 border border-[var(--panel-border)] rounded-md px-3 py-3 text-sm placeholder:text-[var(--text-secondary)] focus:outline-none focus:ring-2 focus:ring-cyan-400",C="block text-sm font-medium text-[var(--text-secondary)] mb-1";return e.jsxDEV(g,{onClose:i,children:e.jsxDEV(P.div,{className:"glass-pane rounded-xl shadow-2xl w-full max-w-lg",initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},children:[e.jsxDEV("header",{className:"p-6 border-b border-[var(--panel-border)] text-center",children:[e.jsxDEV("h2",{className:"text-2xl font-bold font-display",children:"Place Waiver Claim"},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/components/team/PlaceClaimModal.tsx",lineNumber:88,columnNumber:21},void 0),e.jsxDEV("p",{className:"text-lg text-cyan-300",children:[t.name," (",t.position,")"]},void 0,!0,{fileName:"C:/Users/damat/_REPOS/Astral Draft/components/team/PlaceClaimModal.tsx",lineNumber:89,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/damat/_REPOS/Astral Draft/components/team/PlaceClaimModal.tsx",lineNumber:87,columnNumber:17},void 0),e.jsxDEV("main",{className:"p-6 space-y-4",children:[e.jsxDEV("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxDEV("div",{children:[e.jsxDEV("label",{htmlFor:"bid-amount",className:C,children:["Bid Amount (Max: $",l.faab,")"]},void 0,!0,{fileName:"C:/Users/damat/_REPOS/Astral Draft/components/team/PlaceClaimModal.tsx",lineNumber:95,columnNumber:29},void 0),e.jsxDEV("input",{id:"bid-amount",type:"number",value:n,onChange:a=>c(Math.max(0,parseInt(a.target.value,10)||0)),className:p},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/components/team/PlaceClaimModal.tsx",lineNumber:96,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/Users/damat/_REPOS/Astral Draft/components/team/PlaceClaimModal.tsx",lineNumber:94,columnNumber:25},void 0),e.jsxDEV("div",{children:[e.jsxDEV("label",{htmlFor:"player-drop",className:C,children:"Player to Drop"},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/components/team/PlaceClaimModal.tsx",lineNumber:105,columnNumber:30},void 0),e.jsxDEV("select",{id:"player-drop",value:u,onChange:a=>f(parseInt(a.target.value)),className:p,children:l.roster.map(a=>e.jsxDEV("option",{value:a.id,children:[a.name," (",a.position,")"]},a.id,!0,{fileName:"C:/Users/damat/_REPOS/Astral Draft/components/team/PlaceClaimModal.tsx",lineNumber:113,columnNumber:37},void 0))},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/components/team/PlaceClaimModal.tsx",lineNumber:106,columnNumber:30},void 0)]},void 0,!0,{fileName:"C:/Users/damat/_REPOS/Astral Draft/components/team/PlaceClaimModal.tsx",lineNumber:104,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/damat/_REPOS/Astral Draft/components/team/PlaceClaimModal.tsx",lineNumber:93,columnNumber:21},void 0),d&&(m||o)&&e.jsxDEV("div",{className:"p-4 border-t border-b border-[var(--panel-border)]",children:[e.jsxDEV("h3",{className:"font-bold text-center text-cyan-300 mb-2",children:"Oracle's Advice"},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/components/team/PlaceClaimModal.tsx",lineNumber:120,columnNumber:30},void 0),o?e.jsxDEV("div",{className:"h-14 flex items-center justify-center text-sm text-gray-400",children:"Consulting the cosmos..."},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/components/team/PlaceClaimModal.tsx",lineNumber:122,columnNumber:34},void 0):m&&e.jsxDEV("div",{className:"text-center",children:[e.jsxDEV("p",{className:"text-xs text-gray-300 italic",children:['"',m.summary,'"']},void 0,!0,{fileName:"C:/Users/damat/_REPOS/Astral Draft/components/team/PlaceClaimModal.tsx",lineNumber:125,columnNumber:37},void 0),e.jsxDEV("p",{className:"font-bold text-base mt-1",children:["Suggested Bid: ",e.jsxDEV("span",{className:"text-yellow-300",children:["$",m.suggestedBid]},void 0,!0,{fileName:"C:/Users/damat/_REPOS/Astral Draft/components/team/PlaceClaimModal.tsx",lineNumber:126,columnNumber:92},void 0)]},void 0,!0,{fileName:"C:/Users/damat/_REPOS/Astral Draft/components/team/PlaceClaimModal.tsx",lineNumber:126,columnNumber:37},void 0)]},void 0,!0,{fileName:"C:/Users/damat/_REPOS/Astral Draft/components/team/PlaceClaimModal.tsx",lineNumber:124,columnNumber:33},void 0)]},void 0,!0,{fileName:"C:/Users/damat/_REPOS/Astral Draft/components/team/PlaceClaimModal.tsx",lineNumber:119,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/damat/_REPOS/Astral Draft/components/team/PlaceClaimModal.tsx",lineNumber:92,columnNumber:17},void 0),e.jsxDEV("footer",{className:"p-6 flex justify-between items-center gap-4 border-t border-[var(--panel-border)]",children:[d?e.jsxDEV("button",{onClick:x,disabled:o,className:"mobile-touch-target flex items-center gap-2 px-4 py-3 bg-transparent border border-cyan-400/50 text-cyan-300 font-bold rounded-lg hover:bg-cyan-400/20 disabled:opacity-50",children:[o?e.jsxDEV("div",{className:"w-5 h-5 border-2 border-t-transparent border-white rounded-full animate-spin"},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/components/team/PlaceClaimModal.tsx",lineNumber:136,columnNumber:44},void 0):e.jsxDEV(h,{},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/components/team/PlaceClaimModal.tsx",lineNumber:136,columnNumber:147},void 0),"Re-Analyze"]},void 0,!0,{fileName:"C:/Users/damat/_REPOS/Astral Draft/components/team/PlaceClaimModal.tsx",lineNumber:135,columnNumber:25},void 0):e.jsxDEV("div",{},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/components/team/PlaceClaimModal.tsx",lineNumber:140,columnNumber:25},void 0),e.jsxDEV("div",{className:"flex gap-2",children:[e.jsxDEV("button",{type:"button",onClick:i,className:"mobile-touch-target px-4 py-3 bg-transparent border border-[var(--panel-border)] text-[var(--text-secondary)] font-bold rounded-lg hover:bg-white/10",children:"Cancel"},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/components/team/PlaceClaimModal.tsx",lineNumber:143,columnNumber:25},void 0),e.jsxDEV("button",{onClick:v,className:"mobile-touch-target px-6 py-3 bg-gradient-to-r from-green-500 to-cyan-500 text-white font-bold rounded-lg",children:"Submit Claim"},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/components/team/PlaceClaimModal.tsx",lineNumber:144,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/damat/_REPOS/Astral Draft/components/team/PlaceClaimModal.tsx",lineNumber:142,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/damat/_REPOS/Astral Draft/components/team/PlaceClaimModal.tsx",lineNumber:133,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/damat/_REPOS/Astral Draft/components/team/PlaceClaimModal.tsx",lineNumber:79,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/components/team/PlaceClaimModal.tsx",lineNumber:78,columnNumber:9},void 0)};export{j as L,_ as P};
