import{j as e,u as N,R as x,A as b,m as w}from"./index-COBmtdYu.js";import{W as g}from"./Widget-BuBclpAe.js";import{A as S}from"./Avatar-BTFtifDF.js";import{u as E}from"./useLeague-Cpfoz4PJ.js";import{F as v}from"./FlameIcon-wyamR1Et.js";import{C as D}from"./CompareIcon-DX3iuZ60.js";import{T as V}from"./TrendingUpIcon-DP-GMy0c.js";const p=(a,d,m)=>{const i=d.filter(t=>t.week<m&&(t.teamA.teamId===a||t.teamB.teamId===a)).sort((t,o)=>o.week-t.week);if(i.length===0)return null;let r=null,u=0;for(const t of i){const o=t.teamA.teamId===a?t.teamA:t.teamB,c=t.teamA.teamId===a?t.teamB:t.teamA;let s;if(o.score>c.score?s="W":o.score<c.score?s="L":s="T",r===null)r=s,u=1;else if(s===r)u++;else break}return r==="T"||u===0?null:{type:r,count:u}},h=({className:a})=>e.jsxDEV("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:a||"h-5 w-5",children:[e.jsxDEV("line",{x1:"2",y1:"12",x2:"22",y2:"12"},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/components/icons/SnowflakeIcon.tsx",lineNumber:6,columnNumber:9},void 0),e.jsxDEV("line",{x1:"12",y1:"2",x2:"12",y2:"22"},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/components/icons/SnowflakeIcon.tsx",lineNumber:7,columnNumber:9},void 0),e.jsxDEV("path",{d:"m20 16-4-4 4-4"},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/components/icons/SnowflakeIcon.tsx",lineNumber:8,columnNumber:9},void 0),e.jsxDEV("path",{d:"m4 8 4 4-4 4"},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/components/icons/SnowflakeIcon.tsx",lineNumber:9,columnNumber:9},void 0),e.jsxDEV("path",{d:"m16 4-4 4-4-4"},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/components/icons/SnowflakeIcon.tsx",lineNumber:10,columnNumber:9},void 0),e.jsxDEV("path",{d:"m8 20 4-4 4 4"},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/components/icons/SnowflakeIcon.tsx",lineNumber:11,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/damat/_REPOS/Astral Draft/components/icons/SnowflakeIcon.tsx",lineNumber:5,columnNumber:5},void 0),A=({league:a,myTeamId:d,myUserId:m,dispatch:i})=>{const[r,u]=x.useState(new Set),t=[...a.teams].sort((s,l)=>{const n=s.record.wins+s.record.ties*.5,f=l.record.wins+l.record.ties*.5;return n!==f?f-n:0}),o=s=>{u(l=>{const n=new Set(l);return n.has(s)?n.delete(s):n.size<2&&n.add(s),n})},c=()=>{if(r.size===2){const[s,l]=Array.from(r);i({type:"SET_TEAMS_TO_COMPARE",payload:[s,l]})}};return e.jsxDEV("div",{className:"w-full h-full flex flex-col p-4 sm:p-6 lg:p-8 overflow-y-auto",children:[e.jsxDEV("header",{className:"flex-shrink-0 flex justify-between items-center mb-6",children:[e.jsxDEV("div",{children:[e.jsxDEV("h1",{className:"font-display text-3xl sm:text-4xl font-extrabold tracking-wider uppercase text-[var(--text-primary)]",children:"League Standings"},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/LeagueStandingsView.tsx",lineNumber:54,columnNumber:21},void 0),e.jsxDEV("p",{className:"text-sm text-[var(--text-secondary)] tracking-widest",children:a.name},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/LeagueStandingsView.tsx",lineNumber:57,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/LeagueStandingsView.tsx",lineNumber:53,columnNumber:17},void 0),e.jsxDEV("div",{className:"flex items-center gap-2",children:[e.jsxDEV("button",{onClick:()=>i({type:"SET_VIEW",payload:"PROJECTED_STANDINGS"}),className:"px-4 py-2 bg-purple-500/20 text-purple-300 rounded-lg text-sm hover:bg-purple-500/30 flex items-center gap-2",children:[e.jsxDEV(V,{},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/LeagueStandingsView.tsx",lineNumber:64,columnNumber:25},void 0)," View Projections"]},void 0,!0,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/LeagueStandingsView.tsx",lineNumber:60,columnNumber:21},void 0),e.jsxDEV(b,{children:r.size===2&&e.jsxDEV(w.button,{onClick:c,className:"px-4 py-2 bg-cyan-500 text-black font-bold rounded-lg text-sm flex items-center gap-2",initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},children:[e.jsxDEV(D,{},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/LeagueStandingsView.tsx",lineNumber:77,columnNumber:33},void 0)," Compare Teams"]},void 0,!0,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/LeagueStandingsView.tsx",lineNumber:68,columnNumber:29},void 0)},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/LeagueStandingsView.tsx",lineNumber:66,columnNumber:21},void 0),e.jsxDEV("button",{onClick:()=>i({type:"SET_VIEW",payload:"TEAM_HUB"}),className:"px-4 py-2 bg-white/10 rounded-lg text-sm hover:bg-white/20",children:"Back to My Team"},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/LeagueStandingsView.tsx",lineNumber:81,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/LeagueStandingsView.tsx",lineNumber:59,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/LeagueStandingsView.tsx",lineNumber:52,columnNumber:13},void 0),e.jsxDEV("main",{className:"flex-grow",children:e.jsxDEV(g,{title:`Current Standings - Week ${a.currentWeek}`,children:e.jsxDEV("div",{className:"p-2",children:e.jsxDEV("table",{className:"w-full text-sm text-left",children:[e.jsxDEV("thead",{className:"bg-black/10",children:e.jsxDEV("tr",{children:[e.jsxDEV("th",{className:"p-3 w-12"},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/LeagueStandingsView.tsx",lineNumber:92,columnNumber:37},void 0),e.jsxDEV("th",{className:"p-3",children:"Rank"},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/LeagueStandingsView.tsx",lineNumber:93,columnNumber:37},void 0),e.jsxDEV("th",{className:"p-3",children:"Team"},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/LeagueStandingsView.tsx",lineNumber:94,columnNumber:37},void 0),e.jsxDEV("th",{className:"p-3 text-center",children:"W"},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/LeagueStandingsView.tsx",lineNumber:95,columnNumber:37},void 0),e.jsxDEV("th",{className:"p-3 text-center",children:"L"},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/LeagueStandingsView.tsx",lineNumber:96,columnNumber:37},void 0),e.jsxDEV("th",{className:"p-3 text-center",children:"T"},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/LeagueStandingsView.tsx",lineNumber:97,columnNumber:37},void 0),e.jsxDEV("th",{className:"p-3 text-center",children:"Streak"},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/LeagueStandingsView.tsx",lineNumber:98,columnNumber:37},void 0)]},void 0,!0,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/LeagueStandingsView.tsx",lineNumber:91,columnNumber:33},void 0)},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/LeagueStandingsView.tsx",lineNumber:90,columnNumber:29},void 0),e.jsxDEV("tbody",{children:t.map((s,l)=>{const n=p(s.id,a.schedule,a.currentWeek),f=r.has(s.id);return e.jsxDEV("tr",{className:`border-t border-white/5 ${s.id===d?"bg-cyan-500/10":""} ${f?"bg-cyan-500/20":""}`,children:[e.jsxDEV("td",{className:"p-3 text-center",children:e.jsxDEV("input",{type:"checkbox",checked:f,onChange:()=>o(s.id),disabled:r.size>=2&&!f,className:"h-4 w-4 rounded bg-gray-700 border-gray-600 text-cyan-500 focus:ring-cyan-600 cursor-pointer disabled:cursor-not-allowed"},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/LeagueStandingsView.tsx",lineNumber:108,columnNumber:49},void 0)},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/LeagueStandingsView.tsx",lineNumber:107,columnNumber:45},void 0),e.jsxDEV("td",{className:"p-3 font-bold text-cyan-400",children:l+1},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/LeagueStandingsView.tsx",lineNumber:116,columnNumber:45},void 0),e.jsxDEV("td",{className:"p-3",children:e.jsxDEV("div",{className:"flex items-center gap-2",children:[e.jsxDEV(S,{avatar:s.avatar,className:"w-8 h-8 text-xl rounded-md"},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/LeagueStandingsView.tsx",lineNumber:119,columnNumber:53},void 0),e.jsxDEV("div",{children:[e.jsxDEV("button",{onClick:()=>{s.owner.id===m?i({type:"SET_VIEW",payload:"PROFILE"}):i({type:"SET_MANAGER_PROFILE",payload:s.owner.id})},className:"font-semibold text-white text-left hover:underline",children:s.name},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/LeagueStandingsView.tsx",lineNumber:121,columnNumber:57},void 0),e.jsxDEV("p",{className:"text-xs text-gray-400",children:s.owner.name},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/LeagueStandingsView.tsx",lineNumber:133,columnNumber:57},void 0)]},void 0,!0,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/LeagueStandingsView.tsx",lineNumber:120,columnNumber:53},void 0)]},void 0,!0,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/LeagueStandingsView.tsx",lineNumber:118,columnNumber:49},void 0)},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/LeagueStandingsView.tsx",lineNumber:117,columnNumber:45},void 0),e.jsxDEV("td",{className:"p-3 font-mono text-center",children:s.record.wins},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/LeagueStandingsView.tsx",lineNumber:137,columnNumber:45},void 0),e.jsxDEV("td",{className:"p-3 font-mono text-center",children:s.record.losses},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/LeagueStandingsView.tsx",lineNumber:138,columnNumber:45},void 0),e.jsxDEV("td",{className:"p-3 font-mono text-center",children:s.record.ties},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/LeagueStandingsView.tsx",lineNumber:139,columnNumber:45},void 0),e.jsxDEV("td",{className:"p-3 font-mono text-center",children:n?e.jsxDEV("span",{className:`flex items-center justify-center gap-1 ${n.type==="W"?"text-orange-400":"text-blue-400"}`,children:[n.type==="W"?e.jsxDEV(v,{},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/LeagueStandingsView.tsx",lineNumber:143,columnNumber:80},void 0):e.jsxDEV(h,{},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/LeagueStandingsView.tsx",lineNumber:143,columnNumber:96},void 0),n.count]},void 0,!0,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/LeagueStandingsView.tsx",lineNumber:142,columnNumber:53},void 0):"-"},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/LeagueStandingsView.tsx",lineNumber:140,columnNumber:45},void 0)]},s.id,!0,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/LeagueStandingsView.tsx",lineNumber:106,columnNumber:41},void 0)})},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/LeagueStandingsView.tsx",lineNumber:101,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/LeagueStandingsView.tsx",lineNumber:89,columnNumber:25},void 0)},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/LeagueStandingsView.tsx",lineNumber:88,columnNumber:22},void 0)},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/LeagueStandingsView.tsx",lineNumber:87,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/LeagueStandingsView.tsx",lineNumber:86,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/LeagueStandingsView.tsx",lineNumber:51,columnNumber:9},void 0)},U=()=>{const{state:a,dispatch:d}=N(),{league:m,myTeam:i}=E();return e.jsxDEV("div",{className:"w-full h-full",children:!m||!i?e.jsxDEV("div",{className:"p-8 text-center w-full h-full flex flex-col items-center justify-center",children:[e.jsxDEV("p",{children:"Select a league to view standings."},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/LeagueStandingsView.tsx",lineNumber:168,columnNumber:21},void 0),e.jsxDEV("button",{onClick:()=>d({type:"SET_VIEW",payload:"DASHBOARD"}),className:"mt-4 px-4 py-2 bg-cyan-500 rounded",children:"Back to Dashboard"},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/LeagueStandingsView.tsx",lineNumber:169,columnNumber:22},void 0)]},void 0,!0,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/LeagueStandingsView.tsx",lineNumber:167,columnNumber:17},void 0):e.jsxDEV(A,{league:m,myTeamId:i.id,myUserId:a.user.id,dispatch:d},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/LeagueStandingsView.tsx",lineNumber:174,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/LeagueStandingsView.tsx",lineNumber:165,columnNumber:9},void 0)};export{U as default};
