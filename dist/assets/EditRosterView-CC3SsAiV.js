import{R as c,p as x,j as e,m as b,u as E,A as v}from"./index-COBmtdYu.js";import{u as D}from"./useLeague-Cpfoz4PJ.js";import{W as w}from"./Widget-BuBclpAe.js";import{A as f}from"./Avatar-BTFtifDF.js";import{M as p}from"./Modal-B7Hn7XWX.js";import{C as A}from"./CloseIcon-YuQ4-ZlT.js";import{S as R}from"./SearchIcon-BtMVtm22.js";import{U as V,a as h}from"./UserRemoveIcon-yoakCnYM.js";import{P}from"./PencilIcon-C9uUW4us.js";const S=({league:d,team:i,dispatch:a,onClose:l})=>{const[n,o]=c.useState(""),m=new Set(d.teams.flatMap(t=>t.roster.map(N=>N.id))),u=x.filter(t=>!m.has(t.id)).filter(t=>t.name.toLowerCase().includes(n.toLowerCase())).slice(0,100),s=t=>{a({type:"MANUAL_ADD_PLAYER",payload:{leagueId:d.id,teamId:i.id,player:t}}),a({type:"ADD_NOTIFICATION",payload:{message:`${t.name} added to ${i.name}.`,type:"SYSTEM"}}),l()};return e.jsxDEV(p,{onClose:l,children:e.jsxDEV(b.div,{className:"glass-pane rounded-xl shadow-2xl w-full max-w-md max-h-[80vh] flex flex-col",onClick:t=>t.stopPropagation(),initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},children:[e.jsxDEV("header",{className:"p-4 border-b border-[var(--panel-border)] flex justify-between items-center",children:[e.jsxDEV("h2",{className:"text-xl font-bold font-display",children:["Add Player to ",i.name]},void 0,!0,{fileName:"C:/Users/damat/_REPOS/Astral Draft/components/commissioner/AddPlayerModal.tsx",lineNumber:47,columnNumber:21},void 0),e.jsxDEV("button",{onClick:l,className:"mobile-touch-target p-3 rounded-full hover:bg-white/10","aria-label":"Close modal",children:e.jsxDEV(A,{},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/components/commissioner/AddPlayerModal.tsx",lineNumber:48,columnNumber:139},void 0)},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/components/commissioner/AddPlayerModal.tsx",lineNumber:48,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/damat/_REPOS/Astral Draft/components/commissioner/AddPlayerModal.tsx",lineNumber:46,columnNumber:17},void 0),e.jsxDEV("div",{className:"p-4 border-b border-[var(--panel-border)]",children:e.jsxDEV("div",{className:"relative",children:[e.jsxDEV("input",{type:"text",placeholder:"Search free agents...",value:n,onChange:t=>o(t.target.value),className:"w-full bg-black/20 p-2 pl-8 rounded-md border border-white/10 focus:ring-2 focus:ring-cyan-400 focus:outline-none",autoFocus:!0},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/components/commissioner/AddPlayerModal.tsx",lineNumber:53,columnNumber:25},void 0),e.jsxDEV(R,{className:"absolute left-2 top-1/2 -translate-y-1/2 h-5 w-5 text-gray-500"},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/components/commissioner/AddPlayerModal.tsx",lineNumber:61,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/damat/_REPOS/Astral Draft/components/commissioner/AddPlayerModal.tsx",lineNumber:52,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/components/commissioner/AddPlayerModal.tsx",lineNumber:51,columnNumber:17},void 0),e.jsxDEV("main",{className:"flex-grow p-2 overflow-y-auto",children:u.map(t=>e.jsxDEV("button",{onClick:()=>s(t),className:"w-full flex items-center justify-between p-2 hover:bg-black/20 rounded-md text-left",children:[e.jsxDEV("div",{className:"flex items-center gap-2",children:[e.jsxDEV(f,{avatar:t.astralIntelligence?.spiritAnimal?.[0]||"ðŸˆ",className:"w-8 h-8 text-xl rounded-md"},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/components/commissioner/AddPlayerModal.tsx",lineNumber:73,columnNumber:33},void 0),e.jsxDEV("div",{children:[e.jsxDEV("p",{className:"font-semibold text-sm",children:t.name},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/components/commissioner/AddPlayerModal.tsx",lineNumber:75,columnNumber:37},void 0),e.jsxDEV("p",{className:"text-xs text-gray-400",children:[t.position," - ",t.team]},void 0,!0,{fileName:"C:/Users/damat/_REPOS/Astral Draft/components/commissioner/AddPlayerModal.tsx",lineNumber:76,columnNumber:37},void 0)]},void 0,!0,{fileName:"C:/Users/damat/_REPOS/Astral Draft/components/commissioner/AddPlayerModal.tsx",lineNumber:74,columnNumber:33},void 0)]},void 0,!0,{fileName:"C:/Users/damat/_REPOS/Astral Draft/components/commissioner/AddPlayerModal.tsx",lineNumber:72,columnNumber:29},void 0),e.jsxDEV("span",{className:"text-xs font-bold text-green-400",children:"ADD"},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/components/commissioner/AddPlayerModal.tsx",lineNumber:79,columnNumber:29},void 0)]},t.id,!0,{fileName:"C:/Users/damat/_REPOS/Astral Draft/components/commissioner/AddPlayerModal.tsx",lineNumber:67,columnNumber:25},void 0))},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/components/commissioner/AddPlayerModal.tsx",lineNumber:65,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/damat/_REPOS/Astral Draft/components/commissioner/AddPlayerModal.tsx",lineNumber:38,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/components/commissioner/AddPlayerModal.tsx",lineNumber:37,columnNumber:9},void 0)},k=()=>{const{state:d,dispatch:i}=E(),{league:a}=D(),[l,n]=c.useState(a?.teams[0]?.id||null),[o,m]=c.useState(!1);if(!a||d.user.id!==a.commissionerId)return e.jsxDEV("div",{className:"p-8 text-center",children:[e.jsxDEV("p",{className:"text-red-400",children:"Access Denied. You are not the commissioner of this league."},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/EditRosterView.tsx",lineNumber:23,columnNumber:17},void 0),e.jsxDEV("button",{onClick:()=>i({type:"SET_VIEW",payload:"DASHBOARD"}),className:"mt-4 px-4 py-2 bg-cyan-500 rounded",children:"Back to Dashboard"},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/EditRosterView.tsx",lineNumber:24,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/EditRosterView.tsx",lineNumber:22,columnNumber:13},void 0);const r=a.teams.find(s=>s.id===l),u=s=>{r&&window.confirm(`Are you sure you want to remove ${s.name} from ${r.name}?`)&&(i({type:"MANUAL_REMOVE_PLAYER",payload:{leagueId:a.id,teamId:r.id,playerId:s.id}}),i({type:"ADD_NOTIFICATION",payload:{message:`${s.name} removed from ${r.name}.`,type:"SYSTEM"}}))};return e.jsxDEV("div",{className:"w-full h-full flex flex-col p-4 sm:p-6 lg:p-8 overflow-y-auto",children:[e.jsxDEV("header",{className:"flex-shrink-0 flex justify-between items-center mb-6",children:[e.jsxDEV("div",{children:[e.jsxDEV("h1",{className:"font-display text-3xl sm:text-4xl font-extrabold tracking-wider uppercase text-[var(--text-primary)]",children:"Edit Rosters"},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/EditRosterView.tsx",lineNumber:45,columnNumber:21},void 0),e.jsxDEV("p",{className:"text-sm text-[var(--text-secondary)] tracking-widest",children:a.name},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/EditRosterView.tsx",lineNumber:48,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/EditRosterView.tsx",lineNumber:44,columnNumber:17},void 0),e.jsxDEV("button",{onClick:()=>i({type:"SET_VIEW",payload:"COMMISSIONER_TOOLS"}),className:"px-4 py-2 bg-white/10 rounded-lg text-sm hover:bg-white/20",children:"Back to Tools"},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/EditRosterView.tsx",lineNumber:50,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/EditRosterView.tsx",lineNumber:43,columnNumber:13},void 0),e.jsxDEV("main",{className:"flex-grow max-w-4xl mx-auto w-full",children:e.jsxDEV(w,{title:"Roster Management",icon:e.jsxDEV(P,{},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/EditRosterView.tsx",lineNumber:55,columnNumber:57},void 0),children:e.jsxDEV("div",{className:"p-4 space-y-4",children:[e.jsxDEV("div",{children:[e.jsxDEV("label",{htmlFor:"team-select",className:"block text-sm font-medium text-gray-400 mb-1",children:"Select Team to Edit"},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/EditRosterView.tsx",lineNumber:58,columnNumber:29},void 0),e.jsxDEV("select",{id:"team-select",value:l||"",onChange:s=>n(Number(s.target.value)),className:"w-full bg-black/20 p-2 rounded-md border border-white/10 focus:ring-2 focus:ring-cyan-400 focus:outline-none",children:a.teams.map(s=>e.jsxDEV("option",{value:s.id,children:s.name},s.id,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/EditRosterView.tsx",lineNumber:66,columnNumber:37},void 0))},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/EditRosterView.tsx",lineNumber:59,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/EditRosterView.tsx",lineNumber:57,columnNumber:25},void 0),r&&e.jsxDEV("div",{className:"p-3 bg-black/10 rounded-lg",children:[e.jsxDEV("div",{className:"flex justify-between items-center mb-3",children:[e.jsxDEV("h3",{className:"font-bold text-lg text-cyan-300",children:["Roster for ",r.name," (",r.roster.length,"/",a.settings.rosterSize,")"]},void 0,!0,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/EditRosterView.tsx",lineNumber:74,columnNumber:37},void 0),e.jsxDEV("button",{onClick:()=>m(!0),disabled:r.roster.length>=a.settings.rosterSize,className:"flex items-center gap-1.5 px-3 py-1.5 text-xs font-bold bg-green-500/10 text-green-300 rounded-md hover:bg-green-500/20 disabled:opacity-50 disabled:cursor-not-allowed",children:[e.jsxDEV(V,{},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/EditRosterView.tsx",lineNumber:80,columnNumber:41},void 0)," Add Player"]},void 0,!0,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/EditRosterView.tsx",lineNumber:75,columnNumber:37},void 0)]},void 0,!0,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/EditRosterView.tsx",lineNumber:73,columnNumber:33},void 0),e.jsxDEV("div",{className:"space-y-2 max-h-96 overflow-y-auto",children:[r.roster.map(s=>e.jsxDEV("div",{className:"flex items-center justify-between p-2 bg-white/5 rounded-md",children:[e.jsxDEV("div",{className:"flex items-center gap-2",children:[e.jsxDEV(f,{avatar:s.astralIntelligence?.spiritAnimal?.[0]||"ðŸˆ",className:"w-8 h-8 text-xl rounded-md"},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/EditRosterView.tsx",lineNumber:87,columnNumber:49},void 0),e.jsxDEV("div",{children:[e.jsxDEV("p",{className:"font-semibold text-sm",children:s.name},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/EditRosterView.tsx",lineNumber:89,columnNumber:53},void 0),e.jsxDEV("p",{className:"text-xs text-gray-400",children:[s.position," - ",s.team]},void 0,!0,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/EditRosterView.tsx",lineNumber:90,columnNumber:53},void 0)]},void 0,!0,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/EditRosterView.tsx",lineNumber:88,columnNumber:49},void 0)]},void 0,!0,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/EditRosterView.tsx",lineNumber:86,columnNumber:45},void 0),e.jsxDEV("button",{onClick:()=>u(s),className:"flex items-center gap-1 px-2 py-1 text-xs font-bold bg-red-500/10 text-red-300 rounded-md hover:bg-red-500/20",children:[e.jsxDEV(h,{},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/EditRosterView.tsx",lineNumber:97,columnNumber:49},void 0)," Remove"]},void 0,!0,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/EditRosterView.tsx",lineNumber:93,columnNumber:45},void 0)]},s.id,!0,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/EditRosterView.tsx",lineNumber:85,columnNumber:41},void 0)),r.roster.length===0&&e.jsxDEV("p",{className:"text-center text-sm text-gray-500 py-8",children:"This roster is empty."},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/EditRosterView.tsx",lineNumber:101,columnNumber:74},void 0)]},void 0,!0,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/EditRosterView.tsx",lineNumber:83,columnNumber:33},void 0)]},void 0,!0,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/EditRosterView.tsx",lineNumber:72,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/EditRosterView.tsx",lineNumber:56,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/EditRosterView.tsx",lineNumber:55,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/EditRosterView.tsx",lineNumber:54,columnNumber:13},void 0),e.jsxDEV(v,{children:o&&r&&e.jsxDEV(S,{league:a,team:r,dispatch:i,onClose:()=>m(!1)},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/EditRosterView.tsx",lineNumber:110,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/EditRosterView.tsx",lineNumber:108,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/EditRosterView.tsx",lineNumber:42,columnNumber:9},void 0)};export{k as default};
