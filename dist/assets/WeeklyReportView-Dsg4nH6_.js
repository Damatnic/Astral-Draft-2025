import{j as e,u as y,R as a,m as E}from"./index-COBmtdYu.js";import{u as R,v}from"./geminiService-1862MQGr.js";import{T as h}from"./TrophyIcon-CfAYaZE7.js";import{F as w}from"./FlameIcon-wyamR1Et.js";import{Z as k}from"./ZapIcon-CiiS0iRN.js";import{L as V}from"./LoadingSpinner-DSQnnH7P.js";import{u as W}from"./useLeague-Cpfoz4PJ.js";import{E as P}from"./ErrorDisplay-DvGa1LPk.js";const C=({report:t})=>e.jsxDEV("div",{className:"p-4 sm:p-6 lg:p-8",children:[e.jsxDEV("h2",{className:"font-display text-2xl sm:text-3xl font-bold text-center mb-6",children:e.jsxDEV("span",{className:"bg-clip-text text-transparent bg-gradient-to-r from-green-300 via-cyan-300 to-indigo-400",children:t.title},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/components/reports/WeeklyReportDisplay.tsx",lineNumber:17,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/components/reports/WeeklyReportDisplay.tsx",lineNumber:16,columnNumber:13},void 0),e.jsxDEV("div",{className:"max-w-3xl mx-auto",children:[e.jsxDEV("p",{className:"text-sm text-gray-300 leading-relaxed mb-8 whitespace-pre-wrap text-center italic",children:['"',t.summary,'"']},void 0,!0,{fileName:"C:/Users/damat/_REPOS/Astral Draft/components/reports/WeeklyReportDisplay.tsx",lineNumber:23,columnNumber:17},void 0),t.powerPlay&&e.jsxDEV("div",{className:"mb-8 p-4 bg-purple-500/10 border border-purple-400/20 rounded-lg text-center",children:[e.jsxDEV("h3",{className:"font-bold text-lg text-purple-300 mb-1 flex items-center justify-center gap-2",children:[e.jsxDEV(k,{},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/components/reports/WeeklyReportDisplay.tsx",lineNumber:29,columnNumber:119},void 0)," Power Play of the Week"]},void 0,!0,{fileName:"C:/Users/damat/_REPOS/Astral Draft/components/reports/WeeklyReportDisplay.tsx",lineNumber:29,columnNumber:25},void 0),e.jsxDEV("p",{className:"font-semibold text-white",children:[t.powerPlay.move," by ",t.powerPlay.teamName]},void 0,!0,{fileName:"C:/Users/damat/_REPOS/Astral Draft/components/reports/WeeklyReportDisplay.tsx",lineNumber:30,columnNumber:25},void 0),e.jsxDEV("p",{className:"text-xs text-gray-400 mt-1 italic",children:['"',t.powerPlay.rationale,'"']},void 0,!0,{fileName:"C:/Users/damat/_REPOS/Astral Draft/components/reports/WeeklyReportDisplay.tsx",lineNumber:31,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/damat/_REPOS/Astral Draft/components/reports/WeeklyReportDisplay.tsx",lineNumber:28,columnNumber:21},void 0),e.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxDEV("div",{className:"bg-white/5 p-4 rounded-lg flex flex-col items-center text-center",children:[e.jsxDEV(w,{},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/components/reports/WeeklyReportDisplay.tsx",lineNumber:39,columnNumber:25},void 0),e.jsxDEV("h3",{className:"font-bold text-lg text-cyan-300 mt-2 mb-1",children:"Game of the Week"},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/components/reports/WeeklyReportDisplay.tsx",lineNumber:40,columnNumber:25},void 0),e.jsxDEV("p",{className:"font-semibold text-white",children:[t.gameOfWeek.teamAName," vs. ",t.gameOfWeek.teamBName]},void 0,!0,{fileName:"C:/Users/damat/_REPOS/Astral Draft/components/reports/WeeklyReportDisplay.tsx",lineNumber:41,columnNumber:25},void 0),e.jsxDEV("p",{className:"text-xs text-gray-400 mt-1",children:['"',t.gameOfWeek.reason,'"']},void 0,!0,{fileName:"C:/Users/damat/_REPOS/Astral Draft/components/reports/WeeklyReportDisplay.tsx",lineNumber:42,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/damat/_REPOS/Astral Draft/components/reports/WeeklyReportDisplay.tsx",lineNumber:38,columnNumber:21},void 0),e.jsxDEV("div",{className:"bg-white/5 p-4 rounded-lg flex flex-col items-center text-center",children:[e.jsxDEV(h,{},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/components/reports/WeeklyReportDisplay.tsx",lineNumber:47,columnNumber:25},void 0),e.jsxDEV("h3",{className:"font-bold text-lg text-yellow-300 mt-2 mb-1",children:"Player of the Week"},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/components/reports/WeeklyReportDisplay.tsx",lineNumber:48,columnNumber:25},void 0),e.jsxDEV("p",{className:"font-semibold text-white",children:t.playerOfWeek.playerName},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/components/reports/WeeklyReportDisplay.tsx",lineNumber:49,columnNumber:25},void 0),e.jsxDEV("p",{className:"text-xs text-gray-400",children:[t.playerOfWeek.teamName," - ",t.playerOfWeek.stats," points"]},void 0,!0,{fileName:"C:/Users/damat/_REPOS/Astral Draft/components/reports/WeeklyReportDisplay.tsx",lineNumber:50,columnNumber:25},void 0),e.jsxDEV("p",{className:"text-xs text-gray-400 mt-1",children:['"',t.playerOfWeek.reason,'"']},void 0,!0,{fileName:"C:/Users/damat/_REPOS/Astral Draft/components/reports/WeeklyReportDisplay.tsx",lineNumber:51,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/damat/_REPOS/Astral Draft/components/reports/WeeklyReportDisplay.tsx",lineNumber:46,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/damat/_REPOS/Astral Draft/components/reports/WeeklyReportDisplay.tsx",lineNumber:36,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/damat/_REPOS/Astral Draft/components/reports/WeeklyReportDisplay.tsx",lineNumber:22,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/damat/_REPOS/Astral Draft/components/reports/WeeklyReportDisplay.tsx",lineNumber:15,columnNumber:9},void 0),O=({className:t})=>e.jsxDEV("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:t||"h-5 w-5",children:[e.jsxDEV("rect",{width:"18",height:"18",x:"3",y:"3",rx:"2"},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/components/icons/FilmIcon.tsx",lineNumber:6,columnNumber:9},void 0),e.jsxDEV("path",{d:"M7 3v18"},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/components/icons/FilmIcon.tsx",lineNumber:7,columnNumber:9},void 0),e.jsxDEV("path",{d:"M3 7.5h4"},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/components/icons/FilmIcon.tsx",lineNumber:8,columnNumber:9},void 0),e.jsxDEV("path",{d:"M3 12h18"},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/components/icons/FilmIcon.tsx",lineNumber:9,columnNumber:9},void 0),e.jsxDEV("path",{d:"M3 16.5h4"},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/components/icons/FilmIcon.tsx",lineNumber:10,columnNumber:9},void 0),e.jsxDEV("path",{d:"M17 3v18"},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/components/icons/FilmIcon.tsx",lineNumber:11,columnNumber:9},void 0),e.jsxDEV("path",{d:"M17 7.5h4"},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/components/icons/FilmIcon.tsx",lineNumber:12,columnNumber:9},void 0),e.jsxDEV("path",{d:"M17 16.5h4"},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/components/icons/FilmIcon.tsx",lineNumber:13,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/damat/_REPOS/Astral Draft/components/icons/FilmIcon.tsx",lineNumber:5,columnNumber:5},void 0),S=({league:t,dispatch:l})=>{const[i,c]=a.useState(null),[f,m]=a.useState(!0),[o,n]=a.useState(null),[s,d]=a.useState(t.currentWeek>1?t.currentWeek-1:1),[p,N]=a.useState(0),x=t.currentWeek-1,u=a.useCallback(async()=>{if(!(!t||s<1)){m(!0),n(null);try{const[r,D]=await Promise.all([R(t,s),v(t,s)]);r?c({...r,powerPlay:D||void 0}):n("The Oracle could not produce a weekly report.")}catch(r){console.error(r),n("An error occurred while consulting the Oracle for a weekly report.")}finally{m(!1)}}},[t,s]);a.useEffect(()=>{u()},[u,p]);const b=()=>N(r=>r+1);return e.jsxDEV("div",{className:"w-full h-full flex flex-col p-4 sm:p-6 lg:p-8 overflow-y-auto",children:[e.jsxDEV("header",{className:"flex-shrink-0 flex justify-between items-center mb-6",children:[e.jsxDEV("div",{children:[e.jsxDEV("h1",{className:"font-display text-3xl sm:text-4xl font-extrabold tracking-wider uppercase text-[var(--text-primary)]",children:"The Oracle's Report"},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/WeeklyReportView.tsx",lineNumber:57,columnNumber:21},void 0),e.jsxDEV("p",{className:"text-sm text-[var(--text-secondary)] tracking-widest",children:t.name},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/WeeklyReportView.tsx",lineNumber:60,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/WeeklyReportView.tsx",lineNumber:56,columnNumber:17},void 0),e.jsxDEV("div",{className:"flex items-center gap-4",children:[e.jsxDEV("button",{onClick:()=>l({type:"SET_VIEW",payload:"WEEKLY_RECAP_VIDEO"}),className:"flex items-center gap-2 px-4 py-2 bg-purple-500/20 text-purple-300 rounded-lg text-sm hover:bg-purple-500/30",children:[e.jsxDEV(O,{},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/WeeklyReportView.tsx",lineNumber:67,columnNumber:25},void 0)," Generate AI Recap Video"]},void 0,!0,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/WeeklyReportView.tsx",lineNumber:63,columnNumber:21},void 0),e.jsxDEV("div",{className:"flex items-center gap-2",children:[e.jsxDEV("button",{onClick:()=>d(r=>r-1),disabled:s<=1,className:"px-3 py-1 bg-white/10 rounded-lg text-sm hover:bg-white/20 disabled:opacity-50",children:"<"},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/WeeklyReportView.tsx",lineNumber:70,columnNumber:25},void 0),e.jsxDEV("span",{className:"font-bold w-24 text-center",children:["Week ",s]},void 0,!0,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/WeeklyReportView.tsx",lineNumber:73,columnNumber:25},void 0),e.jsxDEV("button",{onClick:()=>d(r=>r+1),disabled:s>=x,className:"px-3 py-1 bg-white/10 rounded-lg text-sm hover:bg-white/20 disabled:opacity-50",children:">"},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/WeeklyReportView.tsx",lineNumber:74,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/WeeklyReportView.tsx",lineNumber:69,columnNumber:21},void 0),e.jsxDEV("button",{onClick:()=>l({type:"SET_VIEW",payload:"TEAM_HUB"}),className:"px-4 py-2 bg-white/10 rounded-lg text-sm hover:bg-white/20",children:"Back to Team"},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/WeeklyReportView.tsx",lineNumber:78,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/WeeklyReportView.tsx",lineNumber:62,columnNumber:18},void 0)]},void 0,!0,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/WeeklyReportView.tsx",lineNumber:55,columnNumber:13},void 0),e.jsxDEV("main",{className:"flex-grow glass-pane rounded-2xl",children:e.jsxDEV(E.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},children:f?e.jsxDEV("div",{className:"p-6",children:e.jsxDEV(V,{text:"Compiling the weekly report..."},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/WeeklyReportView.tsx",lineNumber:94,columnNumber:57},void 0)},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/WeeklyReportView.tsx",lineNumber:94,columnNumber:36},void 0):o?e.jsxDEV(P,{message:o,onRetry:b},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/WeeklyReportView.tsx",lineNumber:97,columnNumber:36},void 0):i?e.jsxDEV(C,{report:i},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/WeeklyReportView.tsx",lineNumber:100,columnNumber:36},void 0):e.jsxDEV("div",{className:"p-6 text-center text-gray-400",children:"No report available for this week."},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/WeeklyReportView.tsx",lineNumber:102,columnNumber:32},void 0)},s,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/WeeklyReportView.tsx",lineNumber:84,columnNumber:18},void 0)},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/WeeklyReportView.tsx",lineNumber:83,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/WeeklyReportView.tsx",lineNumber:54,columnNumber:9},void 0)},L=()=>{const{dispatch:t}=y(),{league:l}=W();return l?e.jsxDEV(S,{league:l,dispatch:t},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/WeeklyReportView.tsx",lineNumber:125,columnNumber:12},void 0):e.jsxDEV("div",{className:"p-8 text-center w-full h-full flex flex-col items-center justify-center",children:[e.jsxDEV("p",{children:"Please select a league to view reports."},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/WeeklyReportView.tsx",lineNumber:117,columnNumber:17},void 0),e.jsxDEV("button",{onClick:()=>t({type:"SET_VIEW",payload:"DASHBOARD"}),className:"mt-4 px-4 py-2 bg-cyan-500 rounded",children:"Back to Dashboard"},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/WeeklyReportView.tsx",lineNumber:118,columnNumber:18},void 0)]},void 0,!0,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/WeeklyReportView.tsx",lineNumber:116,columnNumber:13},void 0)};export{L as WeeklyReportView,L as default};
