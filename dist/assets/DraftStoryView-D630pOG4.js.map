{"version":3,"file":"DraftStoryView-D630pOG4.js","sources":["../../components/icons/FirstPlaceIcon.tsx","../../views/DraftStoryView.tsx"],"sourcesContent":["\nimport React from 'react';\n\nexport const FirstPlaceIcon: React.FC<{ className?: string }> = ({ className }) => (\n    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\" className={className || \"w-6 h-6\"}>\n        <path d=\"M6 9H4.5a2.5 2.5 0 0 1 0-5H6\"/>\n        <path d=\"M18 9h1.5a2.5 2.5 0 0 0 0-5H18\"/>\n        <path d=\"M4 22h16\"/>\n        <path d=\"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22\"/>\n        <path d=\"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22\"/>\n        <path d=\"M18 2H6v7a6 6 0 0 0 12 0V2Z\"/>\n        <path d=\"M12 12V2\"/>\n    </svg>\n);\n","\n\nimport React from 'react';\nimport { useAppState } from '../contexts/AppContext';\nimport { generateDraftStoryHighlights } from '../services/geminiService';\nimport type { League, DraftEvent, Player, Team } from '../types';\nimport { Widget } from '../components/ui/Widget';\nimport LoadingSpinner from '../components/ui/LoadingSpinner';\nimport { motion } from 'framer-motion';\nimport { players } from '../data/players';\nimport { Avatar } from '../components/ui/Avatar';\nimport { SparklesIcon } from '../components/icons/SparklesIcon';\nimport { FirstPlaceIcon } from '../components/icons/FirstPlaceIcon';\nimport { GemIcon } from '../components/icons/GemIcon';\nimport { ZapIcon } from '../components/icons/ZapIcon';\nimport { useLeague } from '../hooks/useLeague';\n\nconst eventIcons: { [key: string]: React.ReactNode } = {\n    FIRST_PICK: <FirstPlaceIcon />,\n    QB_RUSH: <ZapIcon />,\n    DRAFT_STEAL: <GemIcon />,\n    THE_REACH: <ZapIcon />,\n    MR_IRRELEVANT: <SparklesIcon />,\n};\n\nconst HighlightCard: React.FC<{ event: DraftEvent, player?: Player, team?: Team }> = ({ event, player, team }) => {\n    const icon = eventIcons[event.type] || <SparklesIcon />;\n    return (\n        <div className=\"flex items-start gap-4\">\n            <div className=\"flex flex-col items-center\">\n                <div className=\"flex items-center justify-center w-12 h-12 bg-cyan-400/10 rounded-full text-cyan-300 border-2 border-cyan-400/20\">\n                    {icon}\n                </div>\n            </div>\n            <div className=\"pt-2\">\n                <p className=\"text-xs text-gray-400\">PICK {event.timestamp}</p>\n                <p className=\"font-semibold text-white\">{event.content}</p>\n                 {player && team && (\n                    <div className=\"flex items-center gap-2 mt-1 text-xs text-gray-300\">\n                        <Avatar avatar={team.avatar} className=\"w-5 h-5 text-sm rounded-full\" />\n                        <span>{team.name} selects <strong className=\"text-yellow-300\">{player.name}</strong></span>\n                    </div>\n                )}\n            </div>\n        </div>\n    );\n};\n\nconst DraftStoryContent: React.FC<{ league: League, dispatch: React.Dispatch<any> }> = ({ league, dispatch }) => {\n    const [highlights, setHighlights] = React.useState<DraftEvent[]>([]);\n    const [isLoading, setIsLoading] = React.useState(true);\n    const [error, setError] = React.useState<string | null>(null);\n\n    React.useEffect(() => {\n        const fetchHighlights = async () => {\n            setIsLoading(true);\n            try {\n                const data = await generateDraftStoryHighlights(league);\n                if (data) {\n                    setHighlights(data.sort((a,b) => a.timestamp - b.timestamp));\n                } else {\n                    setError(\"The Oracle couldn't find the story in this draft.\");\n                }\n            } catch (e) {\n                setError(\"An error occurred while consulting the Oracle.\");\n            } finally {\n                setIsLoading(false);\n            }\n        };\n        fetchHighlights();\n    }, [league]);\n\n    return (\n        <div className=\"w-full h-full flex flex-col p-4 sm:p-6 lg:p-8 overflow-y-auto\">\n            <header className=\"flex-shrink-0 flex justify-between items-center mb-6\">\n                <div>\n                    <h1 className=\"font-display text-3xl sm:text-4xl font-extrabold tracking-wider uppercase text-[var(--text-primary)]\">\n                        The Story of the Draft\n                    </h1>\n                    <p className=\"text-sm text-[var(--text-secondary)] tracking-widest\">{league.name}</p>\n                </div>\n                <button onClick={() => dispatch({ type: 'SET_VIEW', payload: 'ANALYTICS_HUB' })} className=\"mobile-touch-target px-4 py-3 bg-white/10 rounded-lg text-sm hover:bg-white/20\">\n                    Back to Analytics\n                </button>\n            </header>\n            <main className=\"flex-grow max-w-3xl mx-auto w-full\">\n                <Widget title=\"Key Moments & Highlights\">\n                    <div className=\"p-6\">\n                    {isLoading ? <LoadingSpinner text=\"Reading the tea leaves...\" /> :\n                     error ? <p className=\"text-center text-red-400\">{error}</p> :\n                     (\n                        <div className=\"relative space-y-8\">\n                            {/* Vertical line */}\n                            <div className=\"absolute left-6 top-0 bottom-0 w-0.5 bg-white/10\"></div>\n                            \n                            {highlights.map((event, index) => (\n                                <motion.div\n                                    key={event.id}\n                                    {...{\n                                        initial: { opacity: 0, x: -20 },\n                                        animate: { opacity: 1, x: 0 },\n                                        transition: { delay: index * 0.15 },\n                                    }}\n                                >\n                                    <HighlightCard \n                                        event={event}\n                                        player={players.find(p => p.id === event.playerId)}\n                                        team={league.teams.find(t => t.id === event.teamId)}\n                                    />\n                                </motion.div>\n                            ))}\n                        </div>\n                     )}\n                    </div>\n                </Widget>\n            </main>\n        </div>\n    );\n};\n\n\nconst DraftStoryView: React.FC = () => {\n    const { dispatch } = useAppState();\n    const { league } = useLeague();\n\n    if (!league) {\n        return (\n            <div className=\"p-8 text-center w-full h-full flex flex-col items-center justify-center\">\n                <p>Please select a completed league to view its draft story.</p>\n                <button onClick={() => dispatch({ type: 'SET_VIEW', payload: 'DASHBOARD' })} className=\"mobile-touch-target mt-4 px-4 py-3 bg-cyan-500 rounded\">\n                    Back to Dashboard\n                </button>\n            </div>\n        );\n    }\n    \n    return <DraftStoryContent league={league} dispatch={dispatch} />;\n};\n\nexport default DraftStoryView;"],"names":["FirstPlaceIcon","className","jsxDEV","this","eventIcons","ZapIcon","GemIcon","SparklesIcon","HighlightCard","event","player","team","icon","Avatar","DraftStoryContent","league","dispatch","highlights","setHighlights","React","isLoading","setIsLoading","error","setError","data","generateDraftStoryHighlights","a","b","Widget","LoadingSpinner","index","motion","players","p","t","DraftStoryView","useAppState","useLeague"],"mappings":"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"}