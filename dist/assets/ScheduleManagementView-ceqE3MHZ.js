import{u as f,R as N,j as e}from"./index-COBmtdYu.js";import{u as x}from"./useLeague-Cpfoz4PJ.js";import{W as h}from"./Widget-BuBclpAe.js";import{E as m}from"./ErrorDisplay-DvGa1LPk.js";import{C as b}from"./CalendarIcon-DioXSrpe.js";import{A as d}from"./Avatar-BTFtifDF.js";const w=({matchup:r,league:n})=>{const a=n?.teams.find(l=>l.id===r.teamA.teamId),t=n?.teams.find(l=>l.id===r.teamB.teamId);return!a||!t?null:e.jsxDEV("div",{className:"p-3 bg-black/10 rounded-lg flex items-center justify-center gap-4",children:[e.jsxDEV("div",{className:"flex items-center gap-2",children:[e.jsxDEV(d,{avatar:a.avatar,className:"w-8 h-8 rounded-md"},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/ScheduleManagementView.tsx",lineNumber:20,columnNumber:17},void 0),e.jsxDEV("span",{className:"font-semibold",children:a.name},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/ScheduleManagementView.tsx",lineNumber:21,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/ScheduleManagementView.tsx",lineNumber:19,columnNumber:13},void 0),e.jsxDEV("span",{className:"text-red-400 font-bold",children:"vs"},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/ScheduleManagementView.tsx",lineNumber:23,columnNumber:13},void 0),e.jsxDEV("div",{className:"flex items-center gap-2",children:[e.jsxDEV("span",{className:"font-semibold",children:t.name},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/ScheduleManagementView.tsx",lineNumber:25,columnNumber:17},void 0),e.jsxDEV(d,{avatar:t.avatar,className:"w-8 h-8 rounded-md"},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/ScheduleManagementView.tsx",lineNumber:26,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/ScheduleManagementView.tsx",lineNumber:24,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/ScheduleManagementView.tsx",lineNumber:18,columnNumber:9},void 0)},V=()=>{const{state:r,dispatch:n}=f(),{league:a}=x(),[t,l]=N.useState(1);if(!a||r.user.id!==a.commissionerId)return e.jsxDEV(m,{title:"Access Denied",message:"You are not the commissioner of this league.",onRetry:()=>n({type:"SET_VIEW",payload:"DASHBOARD"})},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/ScheduleManagementView.tsx",lineNumber:38,columnNumber:16},void 0);if(a.schedule.length===0)return e.jsxDEV(m,{title:"No Schedule",message:"The league schedule has not been generated yet. It will be created after the draft.",onRetry:()=>n({type:"SET_VIEW",payload:"COMMISSIONER_TOOLS"})},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/ScheduleManagementView.tsx",lineNumber:42,columnNumber:16},void 0);const u=a.schedule.filter(s=>s.week===t),i=Math.max(...a.schedule.map(s=>s.week)),c=()=>{window.confirm(`Are you sure you want to regenerate all matchups for Week ${t}? This cannot be undone.`)&&(n({type:"EDIT_MATCHUPS",payload:{leagueId:a.id,week:t}}),n({type:"ADD_NOTIFICATION",payload:{message:`Matchups for Week ${t} have been regenerated.`,type:"SYSTEM"}}))};return e.jsxDEV("div",{className:"w-full h-full flex flex-col p-4 sm:p-6 lg:p-8 overflow-y-auto",children:[e.jsxDEV("header",{className:"flex-shrink-0 flex justify-between items-center mb-6",children:[e.jsxDEV("div",{children:[e.jsxDEV("h1",{className:"font-display text-3xl sm:text-4xl font-extrabold tracking-wider uppercase text-[var(--text-primary)]",children:"Schedule Management"},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/ScheduleManagementView.tsx",lineNumber:59,columnNumber:21},void 0),e.jsxDEV("p",{className:"text-sm text-[var(--text-secondary)] tracking-widest",children:a.name},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/ScheduleManagementView.tsx",lineNumber:62,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/ScheduleManagementView.tsx",lineNumber:58,columnNumber:17},void 0),e.jsxDEV("button",{onClick:()=>n({type:"SET_VIEW",payload:"COMMISSIONER_TOOLS"}),className:"px-4 py-2 bg-white/10 rounded-lg text-sm hover:bg-white/20",children:"Back to Tools"},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/ScheduleManagementView.tsx",lineNumber:64,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/ScheduleManagementView.tsx",lineNumber:57,columnNumber:13},void 0),e.jsxDEV("main",{className:"flex-grow max-w-2xl mx-auto w-full",children:e.jsxDEV(h,{title:"League Schedule",icon:e.jsxDEV(b,{},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/ScheduleManagementView.tsx",lineNumber:69,columnNumber:55},void 0),children:[e.jsxDEV("div",{className:"p-4 border-b border-white/10 flex justify-between items-center",children:[e.jsxDEV("div",{className:"flex items-center gap-2",children:[e.jsxDEV("button",{onClick:()=>l(s=>Math.max(1,s-1)),disabled:t===1,className:"px-3 py-1 bg-white/10 rounded-lg text-sm hover:bg-white/20 disabled:opacity-50",children:"< Prev"},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/ScheduleManagementView.tsx",lineNumber:72,columnNumber:29},void 0),e.jsxDEV("span",{className:"font-bold w-20 text-center",children:["Week ",t]},void 0,!0,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/ScheduleManagementView.tsx",lineNumber:75,columnNumber:29},void 0),e.jsxDEV("button",{onClick:()=>l(s=>Math.min(i,s+1)),disabled:t===i,className:"px-3 py-1 bg-white/10 rounded-lg text-sm hover:bg-white/20 disabled:opacity-50",children:"Next >"},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/ScheduleManagementView.tsx",lineNumber:76,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/ScheduleManagementView.tsx",lineNumber:71,columnNumber:25},void 0),e.jsxDEV("button",{onClick:c,className:"px-4 py-2 text-sm font-bold bg-red-500/20 text-red-300 rounded-lg hover:bg-red-500/30",children:"Regenerate Matchups"},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/ScheduleManagementView.tsx",lineNumber:80,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/ScheduleManagementView.tsx",lineNumber:70,columnNumber:21},void 0),e.jsxDEV("div",{className:"p-4 space-y-2",children:u.map((s,o)=>e.jsxDEV(w,{matchup:s,league:a},o,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/ScheduleManagementView.tsx",lineNumber:89,columnNumber:29},void 0))},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/ScheduleManagementView.tsx",lineNumber:87,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/ScheduleManagementView.tsx",lineNumber:69,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/ScheduleManagementView.tsx",lineNumber:68,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/ScheduleManagementView.tsx",lineNumber:56,columnNumber:9},void 0)};export{V as default};
