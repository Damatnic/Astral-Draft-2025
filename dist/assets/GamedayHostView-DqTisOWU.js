import{u as x,R as N,j as e,A as v,m as b}from"./index-COBmtdYu.js";import{u as w}from"./useLeague-Cpfoz4PJ.js";import{E as n}from"./ErrorDisplay-DvGa1LPk.js";import"./geminiService-1862MQGr.js";import{A as E}from"./Avatar-BTFtifDF.js";import{f as p}from"./time-Dhalli9x.js";import{u as y}from"./useLiveData-ecYnbsuh.js";import"./productionSportsDataService-DQpmh5u2.js";const S=()=>{const{state:o,dispatch:m}=x(),{league:t,myTeam:s}=w(),i=t?.schedule.find(a=>a.week===t.currentWeek&&(a.teamA.teamId===s?.id||a.teamB.teamId===s?.id)),u=i?.teamA.teamId===s?.id?i?.teamB.teamId:i?.teamA.teamId,l=t?.teams.find(a=>a.id===u);y(t,s,l);const d=i?o.gamedayEvents[i.id]||[]:[],r=d.length>0?d[d.length-1]:null;return N.useEffect(()=>{r&&r.text.includes("commentary")},[r,i,s,l,m]),!t||!s?e.jsxDEV(n,{title:"Error",message:"Could not load league data.",onRetry:()=>m({type:"SET_VIEW",payload:"DASHBOARD"})},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/GamedayHostView.tsx",lineNumber:52,columnNumber:16},void 0):!i||!l?e.jsxDEV(n,{title:"Bye Week",message:"You don't have a matchup this week.",onRetry:()=>m({type:"SET_VIEW",payload:"TEAM_HUB"})},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/GamedayHostView.tsx",lineNumber:55,columnNumber:16},void 0):e.jsxDEV("div",{className:"w-full h-full flex flex-col p-4 sm:p-6 lg:p-8 overflow-y-auto",children:[e.jsxDEV("header",{className:"flex-shrink-0 flex justify-between items-center mb-6",children:[e.jsxDEV("div",{children:[e.jsxDEV("h1",{className:"font-display text-3xl sm:text-4xl font-extrabold tracking-wider uppercase text-[var(--text-primary)]",children:"AI Gameday Host"},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/GamedayHostView.tsx",lineNumber:62,columnNumber:21},void 0),e.jsxDEV("p",{className:"text-sm text-[var(--text-secondary)] tracking-widest",children:[s.name," vs. ",l.name]},void 0,!0,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/GamedayHostView.tsx",lineNumber:65,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/GamedayHostView.tsx",lineNumber:61,columnNumber:17},void 0),e.jsxDEV("button",{onClick:()=>m({type:"SET_VIEW",payload:"TEAM_HUB"}),className:"px-4 py-2 bg-white/10 rounded-lg text-sm hover:bg-white/20",children:"Back to Team Hub"},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/GamedayHostView.tsx",lineNumber:67,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/GamedayHostView.tsx",lineNumber:60,columnNumber:13},void 0),e.jsxDEV("main",{className:"flex-grow grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxDEV("div",{className:"lg:col-span-2 glass-pane rounded-2xl flex items-center justify-center p-8",children:e.jsxDEV(v,{mode:"wait",children:e.jsxDEV(b.div,{className:"text-center",initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:1.2},transition:{duration:.5,type:"spring"},children:r?e.jsxDEV(e.Fragment,{children:[e.jsxDEV(E,{avatar:t.teams.find(a=>a.id===r.teamId)?.avatar||"🏈",className:"w-24 h-24 text-6xl mx-auto rounded-lg mb-4"},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/GamedayHostView.tsx",lineNumber:86,columnNumber:37},void 0),e.jsxDEV("p",{className:"font-display text-3xl font-bold",children:r.text},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/GamedayHostView.tsx",lineNumber:87,columnNumber:37},void 0)]},void 0,!0,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/GamedayHostView.tsx",lineNumber:85,columnNumber:33},void 0):e.jsxDEV("p",{className:"text-2xl text-gray-400",children:"Waiting for kickoff..."},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/GamedayHostView.tsx",lineNumber:90,columnNumber:33},void 0)},r?.id||"waiting",!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/GamedayHostView.tsx",lineNumber:74,columnNumber:25},void 0)},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/GamedayHostView.tsx",lineNumber:73,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/GamedayHostView.tsx",lineNumber:72,columnNumber:17},void 0),e.jsxDEV("div",{className:"glass-pane rounded-2xl flex flex-col",children:[e.jsxDEV("h3",{className:"p-3 font-bold text-center border-b border-[var(--panel-border)]",children:"Event Timeline"},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/GamedayHostView.tsx",lineNumber:96,columnNumber:21},void 0),e.jsxDEV("div",{className:"flex-grow p-2 space-y-2 overflow-y-auto",children:d.slice().reverse().map(a=>{const f=t.teams.find(c=>c.id===a.teamId);return e.jsxDEV("div",{className:"p-2 bg-black/20 rounded-md text-sm",children:[e.jsxDEV("div",{className:"flex justify-between items-center text-xs text-gray-400 mb-1",children:[e.jsxDEV("span",{className:"font-bold text-cyan-300",children:f?.name},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/GamedayHostView.tsx",lineNumber:103,columnNumber:41},void 0),e.jsxDEV("span",{children:p(a.timestamp)},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/GamedayHostView.tsx",lineNumber:104,columnNumber:41},void 0)]},void 0,!0,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/GamedayHostView.tsx",lineNumber:102,columnNumber:37},void 0),e.jsxDEV("p",{children:a.text},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/GamedayHostView.tsx",lineNumber:106,columnNumber:37},void 0)]},a.id,!0,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/GamedayHostView.tsx",lineNumber:101,columnNumber:33},void 0)})},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/GamedayHostView.tsx",lineNumber:97,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/GamedayHostView.tsx",lineNumber:95,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/GamedayHostView.tsx",lineNumber:71,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/GamedayHostView.tsx",lineNumber:59,columnNumber:9},void 0)};export{S as default};
