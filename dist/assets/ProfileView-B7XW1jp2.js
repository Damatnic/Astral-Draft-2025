import{R as t,j as e,m as P,u as V,A as w}from"./index-COBmtdYu.js";import{W as x}from"./Widget-BuBclpAe.js";import{U as h}from"./UserIcon-BfcCuDmG.js";import{A as E}from"./Avatar-BTFtifDF.js";import{P as v}from"./PencilIcon-C9uUW4us.js";import{M as g}from"./Modal-B7Hn7XWX.js";import{B as S}from"./BookOpenIcon-GvN48JPf.js";import{c as C,a as A,A as O}from"./AchievementsWidget-BQqVW3wL.js";import"./TrophyIcon-CfAYaZE7.js";import"./FlameIcon-wyamR1Et.js";const R=({user:a,dispatch:r,onClose:o})=>{const[i,d]=t.useState(a.name),[l,m]=t.useState(a.avatar),[s,u]=t.useState(a.bio||""),[f,p]=t.useState(!1);t.useEffect(()=>{p(i!==a.name||l!==a.avatar||s!==(a.bio||""))},[i,l,s,a]);const D=()=>{r({type:"UPDATE_USER_PROFILE",payload:{name:i,avatar:l,bio:s}}),r({type:"ADD_NOTIFICATION",payload:{message:"Profile updated!",type:"SYSTEM"}}),o()},c="mobile-touch-target w-full bg-black/10 dark:bg-gray-900/50 border border-[var(--panel-border)] rounded-md px-3 py-3 text-sm placeholder:text-[var(--text-secondary)] focus:outline-none focus:ring-2 focus:ring-cyan-400",N="block text-sm font-medium text-[var(--text-secondary)] mb-1";return e.jsxDEV(g,{onClose:o,children:e.jsxDEV(P.div,{className:"glass-pane rounded-xl shadow-2xl w-full max-w-lg",onClick:n=>n.stopPropagation(),initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},children:[e.jsxDEV("header",{className:"p-4 border-b border-[var(--panel-border)]",children:e.jsxDEV("h2",{className:"text-xl font-bold font-display flex items-center gap-2",children:[e.jsxDEV(v,{},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/components/core/EditProfileModal.tsx",lineNumber:50,columnNumber:13},void 0),"Edit Profile"]},void 0,!0,{fileName:"C:/Users/damat/_REPOS/Astral Draft/components/core/EditProfileModal.tsx",lineNumber:49,columnNumber:11},void 0)},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/components/core/EditProfileModal.tsx",lineNumber:48,columnNumber:9},void 0),e.jsxDEV("main",{className:"p-6 space-y-4",children:[e.jsxDEV("div",{className:"flex items-center gap-4",children:[e.jsxDEV(E,{avatar:l,className:"w-24 h-24 text-6xl rounded-lg flex-shrink-0"},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/components/core/EditProfileModal.tsx",lineNumber:56,columnNumber:13},void 0),e.jsxDEV("div",{className:"flex-grow space-y-4",children:[e.jsxDEV("div",{children:[e.jsxDEV("label",{htmlFor:"user-name",className:N,children:"Display Name"},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/components/core/EditProfileModal.tsx",lineNumber:59,columnNumber:17},void 0),e.jsxDEV("input",{id:"user-name",type:"text",value:i,onChange:n=>d(n.target.value),className:c,required:!0},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/components/core/EditProfileModal.tsx",lineNumber:60,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/damat/_REPOS/Astral Draft/components/core/EditProfileModal.tsx",lineNumber:58,columnNumber:15},void 0),e.jsxDEV("div",{children:[e.jsxDEV("label",{htmlFor:"user-avatar",className:N,children:"Avatar (Emoji or Image URL)"},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/components/core/EditProfileModal.tsx",lineNumber:63,columnNumber:17},void 0),e.jsxDEV("input",{id:"user-avatar",type:"text",value:l,onChange:n=>m(n.target.value),className:c,required:!0,placeholder:"😎 or https://..."},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/components/core/EditProfileModal.tsx",lineNumber:64,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/damat/_REPOS/Astral Draft/components/core/EditProfileModal.tsx",lineNumber:62,columnNumber:15},void 0)]},void 0,!0,{fileName:"C:/Users/damat/_REPOS/Astral Draft/components/core/EditProfileModal.tsx",lineNumber:57,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/damat/_REPOS/Astral Draft/components/core/EditProfileModal.tsx",lineNumber:55,columnNumber:11},void 0),e.jsxDEV("div",{children:[e.jsxDEV("label",{htmlFor:"user-bio",className:N,children:"Bio"},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/components/core/EditProfileModal.tsx",lineNumber:69,columnNumber:13},void 0),e.jsxDEV("textarea",{id:"user-bio",value:s,onChange:n=>u(n.target.value),className:`${c} h-24 resize-none`,placeholder:"Tell everyone a little about your management style...",maxLength:150},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/components/core/EditProfileModal.tsx",lineNumber:70,columnNumber:13},void 0),e.jsxDEV("p",{className:"text-xs text-right text-gray-500",children:[s.length,"/150"]},void 0,!0,{fileName:"C:/Users/damat/_REPOS/Astral Draft/components/core/EditProfileModal.tsx",lineNumber:78,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/damat/_REPOS/Astral Draft/components/core/EditProfileModal.tsx",lineNumber:68,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/damat/_REPOS/Astral Draft/components/core/EditProfileModal.tsx",lineNumber:54,columnNumber:9},void 0),e.jsxDEV("footer",{className:"p-4 flex justify-end gap-2 border-t border-[var(--panel-border)]",children:[e.jsxDEV("button",{onClick:o,className:"px-4 py-2 text-sm font-bold bg-transparent border border-transparent hover:border-[var(--panel-border)] rounded-md",children:"Cancel"},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/components/core/EditProfileModal.tsx",lineNumber:82,columnNumber:11},void 0),e.jsxDEV("button",{onClick:D,disabled:!f,className:"px-6 py-2 text-sm font-bold bg-cyan-500 text-black rounded-md disabled:opacity-50 disabled:cursor-not-allowed",children:"Save Changes"},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/components/core/EditProfileModal.tsx",lineNumber:83,columnNumber:11},void 0)]},void 0,!0,{fileName:"C:/Users/damat/_REPOS/Astral Draft/components/core/EditProfileModal.tsx",lineNumber:81,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/damat/_REPOS/Astral Draft/components/core/EditProfileModal.tsx",lineNumber:39,columnNumber:7},void 0)},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/components/core/EditProfileModal.tsx",lineNumber:38,columnNumber:5},void 0)},_=({className:a})=>e.jsxDEV("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:a||"h-4 w-4",children:[e.jsxDEV("path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/components/icons/LogOutIcon.tsx",lineNumber:6,columnNumber:9},void 0),e.jsxDEV("polyline",{points:"16 17 21 12 16 7"},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/components/icons/LogOutIcon.tsx",lineNumber:7,columnNumber:9},void 0),e.jsxDEV("line",{x1:"21",y1:"12",x2:"9",y2:"12"},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/components/icons/LogOutIcon.tsx",lineNumber:8,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/damat/_REPOS/Astral Draft/components/icons/LogOutIcon.tsx",lineNumber:5,columnNumber:5},void 0),b=({label:a,value:r})=>e.jsxDEV("div",{className:"bg-white/5 p-3 rounded-lg text-center",children:[e.jsxDEV("p",{className:"text-sm text-gray-400",children:a},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/ProfileView.tsx",lineNumber:17,columnNumber:9},void 0),e.jsxDEV("p",{className:"text-2xl font-bold text-white",children:r},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/ProfileView.tsx",lineNumber:18,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/ProfileView.tsx",lineNumber:16,columnNumber:5},void 0),H=()=>{const{state:a,dispatch:r}=V(),[o,i]=t.useState(!1),d=t.useMemo(()=>C(a.user,a.leagues),[a.leagues,a.user]),l=t.useMemo(()=>A(a.user.id,a.leagues),[a.leagues,a.user.id]),m=a.user.memberSince?new Date(a.user.memberSince).toLocaleDateString("en-US",{year:"numeric",month:"long"}):"a long time ago";return e.jsxDEV("div",{className:"w-full h-full flex flex-col p-4 sm:p-6 lg:p-8 overflow-y-auto",children:[e.jsxDEV("header",{className:"flex-shrink-0 flex justify-between items-center mb-6",children:[e.jsxDEV("h1",{className:"font-display text-3xl sm:text-4xl font-extrabold tracking-wider uppercase text-[var(--text-primary)]",children:"Manager Profile"},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/ProfileView.tsx",lineNumber:41,columnNumber:17},void 0),e.jsxDEV("button",{onClick:()=>r({type:"SET_VIEW",payload:"DASHBOARD"}),className:"px-4 py-2 bg-white/10 rounded-lg text-sm hover:bg-white/20",children:"Back to Dashboard"},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/ProfileView.tsx",lineNumber:44,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/ProfileView.tsx",lineNumber:40,columnNumber:13},void 0),e.jsxDEV("main",{className:"flex-grow max-w-7xl mx-auto w-full",children:e.jsxDEV("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxDEV("div",{className:"lg:col-span-1 space-y-6",children:[e.jsxDEV(x,{title:"Identity",icon:e.jsxDEV(h,{},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/ProfileView.tsx",lineNumber:52,columnNumber:56},void 0),children:e.jsxDEV("div",{className:"p-4 flex flex-col items-center text-center",children:[e.jsxDEV(E,{avatar:a.user.avatar,className:"w-28 h-28 text-7xl rounded-full mb-4 ring-4 ring-cyan-400/50"},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/ProfileView.tsx",lineNumber:54,columnNumber:33},void 0),e.jsxDEV("h2",{className:"text-2xl font-bold font-display",children:a.user.name},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/ProfileView.tsx",lineNumber:55,columnNumber:33},void 0),e.jsxDEV("p",{className:"text-xs text-gray-400",children:["Member since ",m]},void 0,!0,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/ProfileView.tsx",lineNumber:56,columnNumber:33},void 0),e.jsxDEV("p",{className:"text-sm text-gray-300 mt-3 italic",children:['"',a.user.bio||"No bio set.",'"']},void 0,!0,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/ProfileView.tsx",lineNumber:57,columnNumber:33},void 0),e.jsxDEV("div",{className:"flex gap-2 mt-4",children:[e.jsxDEV("button",{onClick:()=>i(!0),className:"flex items-center gap-2 px-4 py-1.5 bg-transparent border border-cyan-400/50 text-cyan-300 font-bold text-xs rounded-md hover:bg-cyan-400/20",children:[e.jsxDEV(v,{},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/ProfileView.tsx",lineNumber:63,columnNumber:41},void 0),"Edit Profile"]},void 0,!0,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/ProfileView.tsx",lineNumber:59,columnNumber:37},void 0),e.jsxDEV("button",{onClick:()=>r({type:"LOGOUT"}),className:"flex items-center gap-2 px-4 py-1.5 bg-red-500/10 border border-red-500/20 text-red-300 font-bold text-xs rounded-md hover:bg-red-500/20",children:[e.jsxDEV(_,{},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/ProfileView.tsx",lineNumber:70,columnNumber:41},void 0),"Logout"]},void 0,!0,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/ProfileView.tsx",lineNumber:66,columnNumber:38},void 0)]},void 0,!0,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/ProfileView.tsx",lineNumber:58,columnNumber:33},void 0)]},void 0,!0,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/ProfileView.tsx",lineNumber:53,columnNumber:29},void 0)},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/ProfileView.tsx",lineNumber:52,columnNumber:25},void 0),e.jsxDEV(x,{title:"Career Stats",children:e.jsxDEV("div",{className:"p-4 grid grid-cols-2 gap-4",children:[e.jsxDEV(b,{label:"Championships",value:d.championships},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/ProfileView.tsx",lineNumber:78,columnNumber:33},void 0),e.jsxDEV(b,{label:"Leagues Joined",value:d.leaguesJoined},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/ProfileView.tsx",lineNumber:79,columnNumber:33},void 0)]},void 0,!0,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/ProfileView.tsx",lineNumber:77,columnNumber:29},void 0)},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/ProfileView.tsx",lineNumber:76,columnNumber:25},void 0),e.jsxDEV(O,{badges:a.user.badges||[]},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/ProfileView.tsx",lineNumber:82,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/ProfileView.tsx",lineNumber:51,columnNumber:21},void 0),e.jsxDEV("div",{className:"lg:col-span-2 space-y-6",children:e.jsxDEV(x,{title:"League History",icon:e.jsxDEV(S,{},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/ProfileView.tsx",lineNumber:87,columnNumber:62},void 0),children:e.jsxDEV("div",{className:"p-4 space-y-3",children:[l.map(s=>{const u=a.leagues.find(f=>f.id===s.leagueId);return e.jsxDEV("div",{className:"bg-black/10 p-3 rounded-lg flex items-center justify-between hover:bg-black/20 transition-colors",children:[e.jsxDEV("div",{children:[e.jsxDEV("p",{className:"font-bold text-white",children:[s.season," Season - ",e.jsxDEV("span",{className:"text-cyan-300",children:s.leagueName},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/ProfileView.tsx",lineNumber:94,columnNumber:109},void 0)]},void 0,!0,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/ProfileView.tsx",lineNumber:94,columnNumber:49},void 0),s.isComplete?e.jsxDEV("p",{className:"text-sm text-gray-300",children:["Finished ",e.jsxDEV("span",{className:"font-bold",children:s.rank},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/ProfileView.tsx",lineNumber:97,columnNumber:66},void 0)," / ",u?.teams.length," (",s.record.wins,"-",s.record.losses,"-",s.record.ties,")",s.isChampion&&e.jsxDEV("span",{className:"ml-2",children:"🏆"},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/ProfileView.tsx",lineNumber:98,columnNumber:78},void 0)]},void 0,!0,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/ProfileView.tsx",lineNumber:96,columnNumber:53},void 0):e.jsxDEV("p",{className:"text-sm text-gray-300",children:["Current Record: ",s.record.wins,"-",s.record.losses,"-",s.record.ties," (Rank ",s.rank,")"]},void 0,!0,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/ProfileView.tsx",lineNumber:101,columnNumber:53},void 0)]},void 0,!0,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/ProfileView.tsx",lineNumber:93,columnNumber:45},void 0),e.jsxDEV("button",{onClick:()=>{r({type:"SET_ACTIVE_LEAGUE",payload:s.leagueId}),s.isComplete?(r({type:"SET_SEASON_REVIEW_YEAR",payload:s.season}),r({type:"SET_VIEW",payload:"SEASON_REVIEW"})):r({type:"SET_VIEW",payload:"LEAGUE_HUB"})},className:"px-3 py-1.5 text-xs font-bold bg-cyan-500/10 text-cyan-300 rounded-md hover:bg-cyan-500/20",children:s.isComplete?"Season Review":"Go to Hub"},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/ProfileView.tsx",lineNumber:104,columnNumber:45},void 0)]},s.key,!0,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/ProfileView.tsx",lineNumber:92,columnNumber:41},void 0)}),l.length===0&&e.jsxDEV("p",{className:"text-sm text-center text-gray-500 py-4",children:"No league history yet. Complete a season!"},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/ProfileView.tsx",lineNumber:121,columnNumber:64},void 0)]},void 0,!0,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/ProfileView.tsx",lineNumber:88,columnNumber:30},void 0)},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/ProfileView.tsx",lineNumber:87,columnNumber:25},void 0)},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/ProfileView.tsx",lineNumber:86,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/ProfileView.tsx",lineNumber:49,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/ProfileView.tsx",lineNumber:48,columnNumber:13},void 0),e.jsxDEV(w,{children:o&&e.jsxDEV(R,{user:a.user,dispatch:r,onClose:()=>i(!1)},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/ProfileView.tsx",lineNumber:129,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/ProfileView.tsx",lineNumber:127,columnNumber:14},void 0)]},void 0,!0,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/ProfileView.tsx",lineNumber:39,columnNumber:9},void 0)};export{H as default};
