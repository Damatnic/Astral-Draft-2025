import{u as R,j as e,R as f,a as V,S as T,A as _,m as y}from"./index-COBmtdYu.js";import{y as O}from"./geminiService-1862MQGr.js";import{W as P}from"./Widget-BuBclpAe.js";import{A as c}from"./Avatar-BTFtifDF.js";import{C as g}from"./CloseIcon-YuQ4-ZlT.js";import{u as U}from"./useLeague-Cpfoz4PJ.js";import{E as k}from"./ErrorDisplay-DvGa1LPk.js";import{u as j}from"./mobileOptimizationUtils-CutDyZPi.js";const A=({roster:t,onSelect:a,selectedId:i,disabledId:r})=>e.jsxDEV("div",{className:"space-y-2 h-96 overflow-y-auto pr-2",children:t.map(s=>e.jsxDEV("button",{onClick:()=>a(s.id),disabled:s.id===r,className:`w-full p-2 rounded-lg flex items-center gap-3 text-left transition-all duration-200
                        ${s.id===i?"bg-cyan-500/30 ring-2 ring-cyan-400":"bg-black/10 hover:bg-black/20"}
                        ${s.id===r?"opacity-40 cursor-not-allowed":"cursor-pointer"}
                    `,children:[e.jsxDEV(c,{avatar:s.astralIntelligence?.spiritAnimal?.split(",")[0]||"🏈",className:"w-10 h-10 text-2xl rounded-md flex-shrink-0"},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/StartSitToolView.tsx",lineNumber:34,columnNumber:21},void 0),e.jsxDEV("div",{children:[e.jsxDEV("p",{className:"font-bold text-sm",children:s.name},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/StartSitToolView.tsx",lineNumber:36,columnNumber:25},void 0),e.jsxDEV("p",{className:"text-xs text-gray-400",children:[s.position," - ",s.team]},void 0,!0,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/StartSitToolView.tsx",lineNumber:37,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/StartSitToolView.tsx",lineNumber:35,columnNumber:21},void 0)]},s.id,!0,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/StartSitToolView.tsx",lineNumber:25,columnNumber:17},void 0))},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/StartSitToolView.tsx",lineNumber:23,columnNumber:9},void 0),h=({player:t,onClear:a,label:i,weeklyProjection:r})=>e.jsxDEV("div",{className:"glass-pane rounded-xl p-4 flex flex-col items-center justify-center h-48",children:t?e.jsxDEV("div",{className:"text-center relative w-full h-full flex flex-col items-center justify-center",children:[e.jsxDEV("button",{onClick:a,className:"absolute top-1 right-1 text-red-400 hover:text-red-300 transition-colors p-1 rounded-full bg-black/20",children:e.jsxDEV(g,{className:"h-3 w-3"},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/StartSitToolView.tsx",lineNumber:50,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/StartSitToolView.tsx",lineNumber:49,columnNumber:17},void 0),e.jsxDEV(c,{avatar:t.astralIntelligence?.spiritAnimal?.split(",")[0]||"🏈",className:"w-16 h-16 text-4xl rounded-lg"},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/StartSitToolView.tsx",lineNumber:52,columnNumber:17},void 0),e.jsxDEV("p",{className:"font-bold mt-2",children:t.name},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/StartSitToolView.tsx",lineNumber:53,columnNumber:17},void 0),e.jsxDEV("p",{className:"text-xs text-gray-400",children:[t.position," - ",t.team]},void 0,!0,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/StartSitToolView.tsx",lineNumber:54,columnNumber:17},void 0),r!==void 0&&e.jsxDEV("p",{className:"text-xs text-cyan-300 mt-1",children:["Proj: ",e.jsxDEV("span",{className:"font-bold",children:r.toFixed(2)},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/StartSitToolView.tsx",lineNumber:56,columnNumber:70},void 0)]},void 0,!0,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/StartSitToolView.tsx",lineNumber:56,columnNumber:22},void 0)]},void 0,!0,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/StartSitToolView.tsx",lineNumber:48,columnNumber:13},void 0):e.jsxDEV("div",{className:"text-center text-gray-400",children:[e.jsxDEV("p",{className:"text-xl font-bold",children:i},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/StartSitToolView.tsx",lineNumber:61,columnNumber:17},void 0),e.jsxDEV("p",{className:"text-sm",children:"Select a player from your roster below."},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/StartSitToolView.tsx",lineNumber:62,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/StartSitToolView.tsx",lineNumber:60,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/StartSitToolView.tsx",lineNumber:46,columnNumber:6},void 0),p=({player:t,isRecommended:a,weeklyProjection:i})=>e.jsxDEV("div",{className:`relative p-4 rounded-xl border-2 transition-all duration-300 ${a?"border-green-400 bg-green-500/10 shadow-lg shadow-green-500/20":"border-gray-600/50 opacity-60"}`,children:[a&&e.jsxDEV("div",{className:"absolute top-2 right-2 px-2 py-0.5 text-xs font-bold bg-green-400 text-black rounded-full",children:"RECOMMENDED"},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/StartSitToolView.tsx",lineNumber:71,columnNumber:27},void 0),e.jsxDEV("div",{className:"flex flex-col items-center text-center",children:[e.jsxDEV(c,{avatar:t.astralIntelligence?.spiritAnimal?.split(",")[0]||"🏈",className:"w-20 h-20 text-5xl rounded-lg"},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/StartSitToolView.tsx",lineNumber:73,columnNumber:13},void 0),e.jsxDEV("p",{className:"font-bold mt-2 text-lg",children:t.name},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/StartSitToolView.tsx",lineNumber:74,columnNumber:13},void 0),e.jsxDEV("p",{className:"text-sm text-gray-400",children:[t.position," - ",t.team]},void 0,!0,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/StartSitToolView.tsx",lineNumber:75,columnNumber:13},void 0),i!==void 0&&e.jsxDEV("p",{className:"text-sm text-cyan-300 mt-1",children:["Proj: ",e.jsxDEV("span",{className:"font-bold",children:i.toFixed(2)},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/StartSitToolView.tsx",lineNumber:77,columnNumber:65},void 0)]},void 0,!0,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/StartSitToolView.tsx",lineNumber:77,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/StartSitToolView.tsx",lineNumber:72,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/StartSitToolView.tsx",lineNumber:70,columnNumber:5},void 0),I=({advice:t,playerA:a,playerB:i,playerAProj:r,playerBProj:s})=>{const{isMobile:o}=j(),l=t.recommendedPlayerId===a.id;return e.jsxDEV(y.div,{className:"mt-6",initial:{opacity:0,y:10},animate:{opacity:1,y:0},children:e.jsxDEV(P,{title:"Oracle's Recommendation",children:e.jsxDEV("div",{className:"p-4",children:[e.jsxDEV("div",{className:`grid ${o?"grid-cols-1 gap-6":"grid-cols-[1fr_auto_1fr]"} items-center gap-4`,children:[e.jsxDEV(p,{player:a,isRecommended:l,weeklyProjection:r},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/StartSitToolView.tsx",lineNumber:104,columnNumber:25},void 0),!o&&e.jsxDEV("div",{className:"font-bold text-gray-400 text-2xl",children:"VS"},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/StartSitToolView.tsx",lineNumber:105,columnNumber:39},void 0),o&&e.jsxDEV("div",{className:"flex justify-center",children:e.jsxDEV("div",{className:"font-bold text-gray-400 text-xl",children:"VS"},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/StartSitToolView.tsx",lineNumber:108,columnNumber:33},void 0)},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/StartSitToolView.tsx",lineNumber:107,columnNumber:29},void 0),e.jsxDEV(p,{player:i,isRecommended:!l,weeklyProjection:s},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/StartSitToolView.tsx",lineNumber:111,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/StartSitToolView.tsx",lineNumber:103,columnNumber:21},void 0),e.jsxDEV("p",{className:"text-sm text-gray-300 italic text-center mt-4 pt-4 border-t border-white/10",children:['"',t.summary,'"']},void 0,!0,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/StartSitToolView.tsx",lineNumber:113,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/StartSitToolView.tsx",lineNumber:102,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/StartSitToolView.tsx",lineNumber:101,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/StartSitToolView.tsx",lineNumber:94,columnNumber:9},void 0)},B=({league:t,myTeam:a,dispatch:i})=>{const{isMobile:r}=j(),[s,o]=f.useState(null),[l,N]=f.useState(null),[S,x]=f.useState(null),[b,v]=f.useState(!1),C=async()=>{if(!s||!l)return;const d=a.roster.find(n=>n.id===s),D=a.roster.find(n=>n.id===l);if(!(!d||!D)){v(!0),x(null);try{const n=await O(d,D,t);x(n)}catch(n){console.error("Error getting start/sit advice:",n),i({type:"ADD_NOTIFICATION",payload:{message:"The Oracle could not be reached.",type:"SYSTEM"}})}finally{v(!1)}}},m=a.roster.find(d=>d.id===s),u=a.roster.find(d=>d.id===l),w=m?.stats.weeklyProjections[t.currentWeek],E=u?.stats.weeklyProjections[t.currentWeek];return e.jsxDEV("div",{className:"w-full h-full flex flex-col p-4 sm:p-6 lg:p-8 overflow-y-auto",children:[e.jsxDEV("header",{className:"flex-shrink-0 flex flex-col sm:flex-row sm:justify-between sm:items-center mb-6 gap-4",children:[e.jsxDEV("div",{children:[e.jsxDEV("h1",{className:"font-display text-2xl sm:text-3xl lg:text-4xl font-extrabold tracking-wider uppercase text-[var(--text-primary)]",children:"Start/Sit Tool"},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/StartSitToolView.tsx",lineNumber:157,columnNumber:21},void 0),e.jsxDEV("p",{className:"text-sm text-[var(--text-secondary)] tracking-widest",children:[t.name," - Week ",t.currentWeek]},void 0,!0,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/StartSitToolView.tsx",lineNumber:160,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/StartSitToolView.tsx",lineNumber:156,columnNumber:17},void 0),e.jsxDEV("button",{onClick:()=>i({type:"SET_VIEW",payload:"TEAM_HUB"}),className:"w-full sm:w-auto px-4 py-2 bg-white/10 rounded-lg text-sm hover:bg-white/20 min-h-[44px]",children:"Back to Team Hub"},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/StartSitToolView.tsx",lineNumber:162,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/StartSitToolView.tsx",lineNumber:155,columnNumber:13},void 0),e.jsxDEV("main",{className:"flex-grow max-w-6xl mx-auto w-full",children:[e.jsxDEV("div",{className:`grid ${r?"grid-cols-1 gap-6":"grid-cols-[1fr_auto_1fr]"} items-center gap-4 mb-6`,children:[e.jsxDEV(h,{player:m,onClear:()=>o(null),label:"Player A",weeklyProjection:w},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/StartSitToolView.tsx",lineNumber:169,columnNumber:22},void 0),!r&&e.jsxDEV(V,{className:"w-8 h-8 text-cyan-400 mx-auto"},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/StartSitToolView.tsx",lineNumber:170,columnNumber:36},void 0),r&&e.jsxDEV("div",{className:"flex justify-center",children:e.jsxDEV(V,{className:"w-8 h-8 text-cyan-400 rotate-90"},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/StartSitToolView.tsx",lineNumber:173,columnNumber:30},void 0)},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/StartSitToolView.tsx",lineNumber:172,columnNumber:26},void 0),e.jsxDEV(h,{player:u,onClear:()=>N(null),label:"Player B",weeklyProjection:E},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/StartSitToolView.tsx",lineNumber:176,columnNumber:22},void 0)]},void 0,!0,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/StartSitToolView.tsx",lineNumber:168,columnNumber:17},void 0),e.jsxDEV(P,{title:"Select Players From Your Roster",children:e.jsxDEV("div",{className:`p-4 grid ${r?"grid-cols-1 gap-6":"grid-cols-2"} gap-4`,children:[e.jsxDEV("div",{className:r?"order-1":"",children:[e.jsxDEV("div",{className:"text-sm font-semibold text-cyan-300 mb-2",children:"Player A Selection"},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/StartSitToolView.tsx",lineNumber:182,columnNumber:29},void 0),e.jsxDEV(A,{roster:a.roster,onSelect:o,selectedId:s,disabledId:l},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/StartSitToolView.tsx",lineNumber:183,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/StartSitToolView.tsx",lineNumber:181,columnNumber:25},void 0),e.jsxDEV("div",{className:r?"order-2":"",children:[e.jsxDEV("div",{className:"text-sm font-semibold text-cyan-300 mb-2",children:"Player B Selection"},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/StartSitToolView.tsx",lineNumber:186,columnNumber:29},void 0),e.jsxDEV(A,{roster:a.roster,onSelect:N,selectedId:l,disabledId:s},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/StartSitToolView.tsx",lineNumber:187,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/StartSitToolView.tsx",lineNumber:185,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/StartSitToolView.tsx",lineNumber:180,columnNumber:22},void 0)},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/StartSitToolView.tsx",lineNumber:179,columnNumber:17},void 0),e.jsxDEV("div",{className:"mt-6 text-center",children:e.jsxDEV("button",{onClick:C,disabled:!s||!l||b,className:"w-full sm:w-auto px-8 py-3 bg-gradient-to-r from-cyan-500 to-indigo-500 text-white font-bold rounded-lg shadow-lg hover:scale-105 transition-transform disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2 mx-auto min-h-[44px] justify-center",children:b?e.jsxDEV(e.Fragment,{children:[e.jsxDEV("div",{className:"w-5 h-5 border-2 border-t-transparent border-white rounded-full animate-spin"},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/StartSitToolView.tsx",lineNumber:200,columnNumber:33},void 0),"Analyzing..."]},void 0,!0,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/StartSitToolView.tsx",lineNumber:199,columnNumber:29},void 0):e.jsxDEV(e.Fragment,{children:[e.jsxDEV(T,{},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/StartSitToolView.tsx",lineNumber:205,columnNumber:33},void 0),"Ask the Oracle"]},void 0,!0,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/StartSitToolView.tsx",lineNumber:204,columnNumber:29},void 0)},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/StartSitToolView.tsx",lineNumber:193,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/StartSitToolView.tsx",lineNumber:192,columnNumber:17},void 0),e.jsxDEV(_,{children:S&&m&&u&&e.jsxDEV(I,{advice:S,playerA:m,playerB:u,playerAProj:w,playerBProj:E},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/StartSitToolView.tsx",lineNumber:214,columnNumber:25},void 0)},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/StartSitToolView.tsx",lineNumber:212,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/StartSitToolView.tsx",lineNumber:167,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/StartSitToolView.tsx",lineNumber:154,columnNumber:9},void 0)},G=()=>{const{dispatch:t}=R(),{league:a,myTeam:i}=U();return!a||!i?e.jsxDEV("div",{className:"w-full h-full flex items-center justify-center p-4",children:[e.jsxDEV("p",{children:"Could not load tool. Please select a league with an active season first."},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/StartSitToolView.tsx",lineNumber:229,columnNumber:17},void 0),e.jsxDEV("button",{onClick:()=>t({type:"SET_VIEW",payload:"DASHBOARD"}),className:"ml-4 px-4 py-2 bg-cyan-500 rounded",children:"Back to Dashboard"},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/StartSitToolView.tsx",lineNumber:230,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/StartSitToolView.tsx",lineNumber:228,columnNumber:13},void 0):a.settings.aiAssistanceLevel==="BASIC"?e.jsxDEV(k,{title:"Feature Disabled",message:"The Start/Sit Tool is disabled in leagues with Basic AI Assistance.",onRetry:()=>t({type:"SET_VIEW",payload:"TEAM_HUB"})},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/StartSitToolView.tsx",lineNumber:238,columnNumber:16},void 0):e.jsxDEV(B,{league:a,myTeam:i,dispatch:t},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/StartSitToolView.tsx",lineNumber:241,columnNumber:12},void 0)};export{G as default};
