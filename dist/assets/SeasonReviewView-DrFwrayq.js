import{j as e,S as x,u as w,R as n}from"./index-COBmtdYu.js";import{x as b}from"./geminiService-1862MQGr.js";import{C as p}from"./ChartBarIcon-CEVV4YNe.js";import{u as D}from"./useLeague-Cpfoz4PJ.js";import{E as S}from"./ErrorDisplay-DvGa1LPk.js";const R=({superlative:s,team:t})=>e.jsxDEV("div",{className:"bg-white/5 p-4 rounded-lg",children:[e.jsxDEV("h4",{className:"font-bold text-white",children:s.title},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/components/reports/SeasonReviewDisplay.tsx",lineNumber:14,columnNumber:9},void 0),e.jsxDEV("p",{className:"text-sm text-yellow-300 font-semibold",children:s.teamName},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/components/reports/SeasonReviewDisplay.tsx",lineNumber:15,columnNumber:9},void 0),e.jsxDEV("p",{className:"text-xs text-gray-400 mt-1 italic",children:['"',s.rationale,'"']},void 0,!0,{fileName:"C:/Users/damat/_REPOS/Astral Draft/components/reports/SeasonReviewDisplay.tsx",lineNumber:16,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/damat/_REPOS/Astral Draft/components/reports/SeasonReviewDisplay.tsx",lineNumber:13,columnNumber:5},void 0),E=({review:s,teams:t})=>e.jsxDEV("div",{className:"p-4 sm:p-6 lg:p-8",children:[e.jsxDEV("h2",{className:"font-display text-2xl sm:text-3xl font-bold text-center mb-6",children:e.jsxDEV("span",{className:"bg-clip-text text-transparent bg-gradient-to-r from-green-300 via-cyan-300 to-indigo-400",children:s.title},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/components/reports/SeasonReviewDisplay.tsx",lineNumber:24,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/components/reports/SeasonReviewDisplay.tsx",lineNumber:23,columnNumber:13},void 0),e.jsxDEV("div",{className:"max-w-4xl mx-auto space-y-8",children:[e.jsxDEV("p",{className:"text-sm text-gray-300 leading-relaxed whitespace-pre-wrap text-center italic",children:['"',s.summary,'"']},void 0,!0,{fileName:"C:/Users/damat/_REPOS/Astral Draft/components/reports/SeasonReviewDisplay.tsx",lineNumber:30,columnNumber:18},void 0),e.jsxDEV("div",{children:[e.jsxDEV("h3",{className:"font-bold text-lg text-cyan-300 mb-3 flex items-center gap-2",children:[e.jsxDEV(x,{},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/components/reports/SeasonReviewDisplay.tsx",lineNumber:35,columnNumber:98},void 0)," Season Superlatives"]},void 0,!0,{fileName:"C:/Users/damat/_REPOS/Astral Draft/components/reports/SeasonReviewDisplay.tsx",lineNumber:35,columnNumber:21},void 0),e.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:s.superlatives.map((a,r)=>e.jsxDEV(R,{superlative:a,team:t.find(l=>l.name===a.teamName)},r,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/components/reports/SeasonReviewDisplay.tsx",lineNumber:38,columnNumber:29},void 0))},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/components/reports/SeasonReviewDisplay.tsx",lineNumber:36,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/damat/_REPOS/Astral Draft/components/reports/SeasonReviewDisplay.tsx",lineNumber:34,columnNumber:17},void 0),e.jsxDEV("div",{children:[e.jsxDEV("h3",{className:"font-bold text-lg text-cyan-300 mb-3 flex items-center gap-2",children:[e.jsxDEV(p,{},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/components/reports/SeasonReviewDisplay.tsx",lineNumber:44,columnNumber:98},void 0)," Final Power Rankings"]},void 0,!0,{fileName:"C:/Users/damat/_REPOS/Astral Draft/components/reports/SeasonReviewDisplay.tsx",lineNumber:44,columnNumber:21},void 0),e.jsxDEV("div",{className:"bg-black/10 rounded-lg p-2 space-y-1",children:s.finalPowerRanking.map(a=>{const r=t.find(l=>l.name===a.teamName);return e.jsxDEV("div",{className:"flex items-center gap-4 p-1.5 rounded-md",children:[e.jsxDEV("span",{className:"font-display font-bold text-xl w-8 text-center text-cyan-400",children:a.rank},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/components/reports/SeasonReviewDisplay.tsx",lineNumber:50,columnNumber:37},void 0),e.jsxDEV("span",{className:"text-2xl",children:r?.avatar},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/components/reports/SeasonReviewDisplay.tsx",lineNumber:51,columnNumber:37},void 0),e.jsxDEV("span",{className:"font-semibold text-white",children:a.teamName},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/components/reports/SeasonReviewDisplay.tsx",lineNumber:52,columnNumber:37},void 0)]},a.rank,!0,{fileName:"C:/Users/damat/_REPOS/Astral Draft/components/reports/SeasonReviewDisplay.tsx",lineNumber:49,columnNumber:33},void 0)})},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/components/reports/SeasonReviewDisplay.tsx",lineNumber:45,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/damat/_REPOS/Astral Draft/components/reports/SeasonReviewDisplay.tsx",lineNumber:43,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/damat/_REPOS/Astral Draft/components/reports/SeasonReviewDisplay.tsx",lineNumber:29,columnNumber:14},void 0)]},void 0,!0,{fileName:"C:/Users/damat/_REPOS/Astral Draft/components/reports/SeasonReviewDisplay.tsx",lineNumber:22,columnNumber:9},void 0),V=()=>e.jsxDEV("div",{className:"p-4 sm:p-6 animate-pulse",children:[e.jsxDEV("div",{className:"h-8 bg-slate-700/50 rounded w-3/4 mx-auto mb-6"},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/SeasonReviewView.tsx",lineNumber:13,columnNumber:9},void 0),e.jsxDEV("div",{className:"space-y-3 mb-6",children:[e.jsxDEV("div",{className:"h-4 bg-slate-700/50 rounded w-full"},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/SeasonReviewView.tsx",lineNumber:15,columnNumber:13},void 0),e.jsxDEV("div",{className:"h-4 bg-slate-700/50 rounded w-5/6"},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/SeasonReviewView.tsx",lineNumber:16,columnNumber:13},void 0),e.jsxDEV("div",{className:"h-4 bg-slate-700/50 rounded w-full"},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/SeasonReviewView.tsx",lineNumber:17,columnNumber:13},void 0),e.jsxDEV("div",{className:"h-4 bg-slate-700/50 rounded w-4/6"},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/SeasonReviewView.tsx",lineNumber:18,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/SeasonReviewView.tsx",lineNumber:14,columnNumber:9},void 0),e.jsxDEV("div",{className:"h-4 bg-slate-700/50 rounded w-1/4 mb-4"},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/SeasonReviewView.tsx",lineNumber:20,columnNumber:9},void 0),e.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[e.jsxDEV("div",{className:"h-24 bg-slate-700/50 rounded-lg"},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/SeasonReviewView.tsx",lineNumber:22,columnNumber:13},void 0),e.jsxDEV("div",{className:"h-24 bg-slate-700/50 rounded-lg"},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/SeasonReviewView.tsx",lineNumber:23,columnNumber:13},void 0),e.jsxDEV("div",{className:"h-24 bg-slate-700/50 rounded-lg"},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/SeasonReviewView.tsx",lineNumber:24,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/SeasonReviewView.tsx",lineNumber:21,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/SeasonReviewView.tsx",lineNumber:12,columnNumber:5},void 0),h=({league:s,seasonYear:t,dispatch:a})=>{const[r,l]=n.useState(null),[f,o]=n.useState(!0),[d,m]=n.useState(null),[c,N]=n.useState(0),u=n.useCallback(async()=>{o(!0),m(null);try{const i=await b(s,t);i?l(i):m("The Oracle could not produce a season review. Please try again later.")}catch(i){console.error(i),m("An error occurred while consulting the Oracle for a season review.")}finally{o(!1)}},[s,t]);n.useEffect(()=>{u()},[u,c]);const v=()=>N(i=>i+1);return e.jsxDEV("div",{className:"w-full h-full flex flex-col p-4 sm:p-6 lg:p-8 overflow-y-auto",children:[e.jsxDEV("header",{className:"flex-shrink-0 flex justify-between items-center mb-6",children:[e.jsxDEV("div",{children:[e.jsxDEV("h1",{className:"font-display text-3xl sm:text-4xl font-extrabold tracking-wider uppercase text-[var(--text-primary)]",children:"Season Review"},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/SeasonReviewView.tsx",lineNumber:63,columnNumber:21},void 0),e.jsxDEV("p",{className:"text-sm text-[var(--text-secondary)] tracking-widest",children:[s.name," - ",t," Season"]},void 0,!0,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/SeasonReviewView.tsx",lineNumber:66,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/SeasonReviewView.tsx",lineNumber:62,columnNumber:17},void 0),e.jsxDEV("button",{onClick:()=>a({type:"SET_VIEW",payload:"LEAGUE_HISTORY"}),className:"px-4 py-2 bg-white/10 rounded-lg text-sm hover:bg-white/20",children:"Back to History"},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/SeasonReviewView.tsx",lineNumber:68,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/SeasonReviewView.tsx",lineNumber:61,columnNumber:14},void 0),e.jsxDEV("main",{className:"flex-grow glass-pane rounded-2xl overflow-hidden",children:e.jsxDEV("div",{className:"h-full overflow-y-auto",children:f?e.jsxDEV(V,{},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/SeasonReviewView.tsx",lineNumber:74,columnNumber:35},void 0):d?e.jsxDEV(S,{message:d,onRetry:v},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/SeasonReviewView.tsx",lineNumber:75,columnNumber:30},void 0):r?e.jsxDEV(E,{review:r,teams:s.teams},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/SeasonReviewView.tsx",lineNumber:76,columnNumber:31},void 0):e.jsxDEV("div",{className:"p-6 text-center text-gray-400",children:"No review available for this season."},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/SeasonReviewView.tsx",lineNumber:77,columnNumber:22},void 0)},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/SeasonReviewView.tsx",lineNumber:73,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/SeasonReviewView.tsx",lineNumber:72,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/SeasonReviewView.tsx",lineNumber:60,columnNumber:9},void 0)},O=()=>{const{state:s,dispatch:t}=w(),{league:a}=D(),r=s.activeSeasonReviewYear;return!a||!r?e.jsxDEV("div",{className:"p-8 text-center w-full h-full flex flex-col items-center justify-center",children:[e.jsxDEV("p",{children:"Please select a season to review from the League History."},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/SeasonReviewView.tsx",lineNumber:94,columnNumber:17},void 0),e.jsxDEV("button",{onClick:()=>t({type:"SET_VIEW",payload:"DASHBOARD"}),className:"mt-4 px-4 py-2 bg-cyan-500 rounded",children:"Back to Dashboard"},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/SeasonReviewView.tsx",lineNumber:95,columnNumber:18},void 0)]},void 0,!0,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/SeasonReviewView.tsx",lineNumber:93,columnNumber:13},void 0):e.jsxDEV(h,{league:a,seasonYear:r,dispatch:t},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/SeasonReviewView.tsx",lineNumber:102,columnNumber:12},void 0)};export{O as default};
