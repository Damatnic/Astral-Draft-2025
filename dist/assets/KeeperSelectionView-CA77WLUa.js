import{u as f,R as N,j as e}from"./index-COBmtdYu.js";import{u as p}from"./useLeague-Cpfoz4PJ.js";import{W as x}from"./Widget-BuBclpAe.js";import{E as d}from"./ErrorDisplay-DvGa1LPk.js";import{U as S}from"./UsersIcon-C128q--3.js";import{A as E}from"./Avatar-BTFtifDF.js";const A=()=>{const{state:b,dispatch:t}=f(),{league:a,myTeam:l}=p(),[n,o]=N.useState(new Set(l?.keepers||[]));if(!a||!l)return e.jsxDEV(d,{title:"Error",message:"Could not load league data.",onRetry:()=>t({type:"SET_VIEW",payload:"DASHBOARD"})},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/KeeperSelectionView.tsx",lineNumber:16,columnNumber:16},void 0);const r=a.settings.keeperCount||0;if(r===0)return e.jsxDEV(d,{title:"Not a Keeper League",message:"This league is not set up for keepers.",onRetry:()=>t({type:"SET_VIEW",payload:"TEAM_HUB"})},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/KeeperSelectionView.tsx",lineNumber:22,columnNumber:16},void 0);const u=s=>{o(m=>{const i=new Set(m);return i.has(s)?i.delete(s):i.size<r&&i.add(s),i})},c=()=>{t({type:"SET_KEEPERS",payload:{leagueId:a.id,teamId:l.id,keeperPlayerIds:Array.from(n)}}),t({type:"ADD_NOTIFICATION",payload:{message:"Keeper selections saved!",type:"SYSTEM"}}),t({type:"SET_VIEW",payload:"TEAM_HUB"})};return e.jsxDEV("div",{className:"w-full h-full flex flex-col p-4 sm:p-6 lg:p-8 overflow-y-auto",children:[e.jsxDEV("header",{className:"flex-shrink-0 flex justify-between items-center mb-6",children:[e.jsxDEV("div",{children:[e.jsxDEV("h1",{className:"font-display text-3xl sm:text-4xl font-extrabold tracking-wider uppercase text-[var(--text-primary)]",children:"Select Keepers"},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/KeeperSelectionView.tsx",lineNumber:52,columnNumber:21},void 0),e.jsxDEV("p",{className:"text-sm text-[var(--text-secondary)] tracking-widest",children:a.name},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/KeeperSelectionView.tsx",lineNumber:55,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/KeeperSelectionView.tsx",lineNumber:51,columnNumber:17},void 0),e.jsxDEV("button",{onClick:()=>t({type:"SET_VIEW",payload:"TEAM_HUB"}),className:"px-4 py-2 bg-white/10 rounded-lg text-sm hover:bg-white/20",children:"Back to Team Hub"},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/KeeperSelectionView.tsx",lineNumber:57,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/KeeperSelectionView.tsx",lineNumber:50,columnNumber:13},void 0),e.jsxDEV("main",{className:"flex-grow max-w-3xl mx-auto w-full",children:e.jsxDEV(x,{title:`Select Your Keepers (${n.size}/${r})`,icon:e.jsxDEV(S,{},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/KeeperSelectionView.tsx",lineNumber:62,columnNumber:98},void 0),children:e.jsxDEV("div",{className:"p-4",children:[e.jsxDEV("p",{className:"text-sm text-gray-400 mb-4",children:["Choose up to ",r," players from your previous season's roster to keep for the upcoming draft. These picks will replace your first ",r," round draft selections."]},void 0,!0,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/KeeperSelectionView.tsx",lineNumber:64,columnNumber:25},void 0),e.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:l.roster.map(s=>{const m=n.has(s.id);return e.jsxDEV("div",{onClick:()=>u(s.id),className:`p-3 rounded-lg flex items-center gap-3 cursor-pointer transition-all ${m?"bg-cyan-500/30 ring-2 ring-cyan-400":"bg-black/20 hover:bg-black/30"}`,children:[e.jsxDEV(E,{avatar:s.astralIntelligence?.spiritAnimal?.[0]||"üèà",className:"w-12 h-12 text-3xl rounded-md"},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/KeeperSelectionView.tsx",lineNumber:76,columnNumber:41},void 0),e.jsxDEV("div",{children:[e.jsxDEV("p",{className:"font-bold",children:s.name},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/KeeperSelectionView.tsx",lineNumber:78,columnNumber:45},void 0),e.jsxDEV("p",{className:"text-xs text-gray-400",children:[s.position," - ",s.team]},void 0,!0,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/KeeperSelectionView.tsx",lineNumber:79,columnNumber:45},void 0)]},void 0,!0,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/KeeperSelectionView.tsx",lineNumber:77,columnNumber:41},void 0)]},s.id,!0,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/KeeperSelectionView.tsx",lineNumber:69,columnNumber:37},void 0)})},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/KeeperSelectionView.tsx",lineNumber:65,columnNumber:25},void 0),e.jsxDEV("div",{className:"mt-6 flex justify-end",children:e.jsxDEV("button",{onClick:c,className:"px-6 py-2 bg-cyan-500 text-black font-bold text-sm rounded-md",children:"Save Selections"},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/KeeperSelectionView.tsx",lineNumber:86,columnNumber:29},void 0)},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/KeeperSelectionView.tsx",lineNumber:85,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/KeeperSelectionView.tsx",lineNumber:63,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/KeeperSelectionView.tsx",lineNumber:62,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/KeeperSelectionView.tsx",lineNumber:61,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/KeeperSelectionView.tsx",lineNumber:49,columnNumber:9},void 0)};export{A as default};
