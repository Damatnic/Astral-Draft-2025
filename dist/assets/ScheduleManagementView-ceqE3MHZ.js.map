{"version":3,"file":"ScheduleManagementView-ceqE3MHZ.js","sources":["../../views/ScheduleManagementView.tsx"],"sourcesContent":["\nimport React from 'react';\nimport { useAppState } from '../contexts/AppContext';\nimport { useLeague } from '../hooks/useLeague';\nimport { Widget } from '../components/ui/Widget';\nimport ErrorDisplay from '../components/core/ErrorDisplay';\nimport { CalendarIcon } from '../components/icons/CalendarIcon';\nimport type { Matchup } from '../types';\nimport { Avatar } from '../components/ui/Avatar';\n\nconst MatchupCard: React.FC<{ matchup: Matchup, league: ReturnType<typeof useLeague>['league'] }> = ({ matchup, league }) => {\n    const teamA = league?.teams.find(t => t.id === matchup.teamA.teamId);\n    const teamB = league?.teams.find(t => t.id === matchup.teamB.teamId);\n\n    if (!teamA || !teamB) return null;\n\n    return (\n        <div className=\"p-3 bg-black/10 rounded-lg flex items-center justify-center gap-4\">\n            <div className=\"flex items-center gap-2\">\n                <Avatar avatar={teamA.avatar} className=\"w-8 h-8 rounded-md\" />\n                <span className=\"font-semibold\">{teamA.name}</span>\n            </div>\n            <span className=\"text-red-400 font-bold\">vs</span>\n            <div className=\"flex items-center gap-2\">\n                <span className=\"font-semibold\">{teamB.name}</span>\n                <Avatar avatar={teamB.avatar} className=\"w-8 h-8 rounded-md\" />\n            </div>\n        </div>\n    );\n};\n\nconst ScheduleManagementView: React.FC = () => {\n    const { state, dispatch } = useAppState();\n    const { league } = useLeague();\n    const [selectedWeek, setSelectedWeek] = React.useState(1);\n\n    if (!league || state.user.id !== league.commissionerId) {\n        return <ErrorDisplay title=\"Access Denied\" message=\"You are not the commissioner of this league.\" onRetry={() => dispatch({ type: 'SET_VIEW', payload: 'DASHBOARD' })} />;\n    }\n    \n    if (league.schedule.length === 0) {\n        return <ErrorDisplay title=\"No Schedule\" message=\"The league schedule has not been generated yet. It will be created after the draft.\" onRetry={() => dispatch({ type: 'SET_VIEW', payload: 'COMMISSIONER_TOOLS' })} />;\n    }\n\n    const weeklyMatchups = league.schedule.filter(m => m.week === selectedWeek);\n    const maxWeek = Math.max(...league.schedule.map(m => m.week));\n\n    const handleRegenerate = () => {\n        if (window.confirm(`Are you sure you want to regenerate all matchups for Week ${selectedWeek}? This cannot be undone.`)) {\n            dispatch({ type: 'EDIT_MATCHUPS', payload: { leagueId: league.id, week: selectedWeek } });\n            dispatch({ type: 'ADD_NOTIFICATION', payload: { message: `Matchups for Week ${selectedWeek} have been regenerated.`, type: 'SYSTEM' }});\n        }\n    };\n\n    return (\n        <div className=\"w-full h-full flex flex-col p-4 sm:p-6 lg:p-8 overflow-y-auto\">\n            <header className=\"flex-shrink-0 flex justify-between items-center mb-6\">\n                <div>\n                    <h1 className=\"font-display text-3xl sm:text-4xl font-extrabold tracking-wider uppercase text-[var(--text-primary)]\">\n                        Schedule Management\n                    </h1>\n                    <p className=\"text-sm text-[var(--text-secondary)] tracking-widest\">{league.name}</p>\n                </div>\n                <button onClick={() => dispatch({ type: 'SET_VIEW', payload: 'COMMISSIONER_TOOLS' })} className=\"px-4 py-2 bg-white/10 rounded-lg text-sm hover:bg-white/20\">\n                    Back to Tools\n                </button>\n            </header>\n            <main className=\"flex-grow max-w-2xl mx-auto w-full\">\n                <Widget title=\"League Schedule\" icon={<CalendarIcon />}>\n                    <div className=\"p-4 border-b border-white/10 flex justify-between items-center\">\n                        <div className=\"flex items-center gap-2\">\n                            <button onClick={() => setSelectedWeek(w => Math.max(1, w-1))} disabled={selectedWeek === 1} className=\"px-3 py-1 bg-white/10 rounded-lg text-sm hover:bg-white/20 disabled:opacity-50\">\n                                &lt; Prev\n                            </button>\n                            <span className=\"font-bold w-20 text-center\">Week {selectedWeek}</span>\n                            <button onClick={() => setSelectedWeek(w => Math.min(maxWeek, w+1))} disabled={selectedWeek === maxWeek} className=\"px-3 py-1 bg-white/10 rounded-lg text-sm hover:bg-white/20 disabled:opacity-50\">\n                                Next &gt;\n                            </button>\n                        </div>\n                        <button \n                            onClick={handleRegenerate}\n                            className=\"px-4 py-2 text-sm font-bold bg-red-500/20 text-red-300 rounded-lg hover:bg-red-500/30\"\n                        >\n                            Regenerate Matchups\n                        </button>\n                    </div>\n                    <div className=\"p-4 space-y-2\">\n                        {weeklyMatchups.map((matchup, index) => (\n                            <MatchupCard key={index} matchup={matchup} league={league} />\n                        ))}\n                    </div>\n                </Widget>\n            </main>\n        </div>\n    );\n};\n\nexport default ScheduleManagementView;"],"names":["MatchupCard","matchup","league","teamA","t","teamB","jsxDEV","Avatar","this","ScheduleManagementView","state","dispatch","useAppState","useLeague","selectedWeek","setSelectedWeek","React","ErrorDisplay","weeklyMatchups","m","maxWeek","handleRegenerate","Widget","CalendarIcon","w","index"],"mappings":"kRAUA,MAAMA,EAA8F,CAAC,CAAE,QAAAC,EAAS,OAAAC,KAAa,CACzH,MAAMC,EAAQD,GAAQ,MAAM,QAAUE,EAAE,KAAOH,EAAQ,MAAM,MAAM,EAC7DI,EAAQH,GAAQ,MAAM,QAAUE,EAAE,KAAOH,EAAQ,MAAM,MAAM,EAEnE,MAAI,CAACE,GAAS,CAACE,EAAc,KAGzBC,EAAAA,OAAC,MAAA,CAAI,UAAU,oEACX,SAAA,CAAAA,EAAAA,OAAC,MAAA,CAAI,UAAU,0BACX,SAAA,CAAAA,SAACC,EAAA,CAAO,OAAQJ,EAAM,OAAQ,UAAU,oBAAA,EAAxC,OAAA,GAAA,CAAA,SAAA,sEAAA,WAAA,GAAA,aAAA,EAAA,EAAAK,MAA6D,EAC7DF,SAAC,OAAA,CAAK,UAAU,gBAAiB,WAAM,IAAA,EAAvC,OAAA,GAAA,CAAA,SAAA,sEAAA,WAAA,GAAA,aAAA,EAAA,EAAAE,MAA4C,CAAA,CAAA,EAFhD,OAAA,GAAA,CAAA,SAAA,sEAAA,WAAA,GAAA,aAAA,EAAA,EAAAA,MAGA,EACAF,SAAC,OAAA,CAAK,UAAU,yBAAyB,SAAA,IAAA,EAAzC,OAAA,GAAA,CAAA,SAAA,sEAAA,WAAA,GAAA,aAAA,EAAA,EAAAE,MAA2C,EAC3CF,EAAAA,OAAC,MAAA,CAAI,UAAU,0BACX,SAAA,CAAAA,SAAC,OAAA,CAAK,UAAU,gBAAiB,SAAAD,EAAM,IAAA,EAAvC,OAAA,GAAA,CAAA,SAAA,sEAAA,WAAA,GAAA,aAAA,EAAA,EAAAG,MAA4C,WAC3CD,EAAA,CAAO,OAAQF,EAAM,OAAQ,UAAU,oBAAA,EAAxC,OAAA,GAAA,CAAA,SAAA,sEAAA,WAAA,GAAA,aAAA,EAAA,EAAAG,MAA6D,CAAA,CAAA,EAFjE,OAAA,GAAA,CAAA,SAAA,sEAAA,WAAA,GAAA,aAAA,EAAA,EAAAA,MAGA,CAAA,CAAA,EATJ,OAAA,GAAA,CAAA,SAAA,sEAAA,WAAA,GAAA,aAAA,CAAA,EAAAA,MAUA,CAER,EAEMC,EAAmC,IAAM,CAC3C,KAAM,CAAE,MAAAC,EAAO,SAAAC,CAAA,EAAaC,EAAA,EACtB,CAAE,OAAAV,CAAA,EAAWW,EAAA,EACb,CAACC,EAAcC,CAAe,EAAIC,EAAM,SAAS,CAAC,EAExD,GAAI,CAACd,GAAUQ,EAAM,KAAK,KAAOR,EAAO,eACpC,OAAOI,EAAAA,OAACW,EAAA,CAAa,MAAM,gBAAgB,QAAQ,+CAA+C,QAAS,IAAMN,EAAS,CAAE,KAAM,WAAY,QAAS,WAAA,CAAa,CAAA,EAA7J,OAAA,GAAA,CAAA,SAAA,sEAAA,WAAA,GAAA,aAAA,EAAA,EAAAH,MAAgK,EAG3K,GAAIN,EAAO,SAAS,SAAW,EAC3B,OAAOI,EAAAA,OAACW,EAAA,CAAa,MAAM,cAAc,QAAQ,sFAAsF,QAAS,IAAMN,EAAS,CAAE,KAAM,WAAY,QAAS,oBAAA,CAAsB,CAAA,EAA3M,OAAA,GAAA,CAAA,SAAA,sEAAA,WAAA,GAAA,aAAA,EAAA,EAAAH,MAA8M,EAGzN,MAAMU,EAAiBhB,EAAO,SAAS,OAAOiB,GAAKA,EAAE,OAASL,CAAY,EACpEM,EAAU,KAAK,IAAI,GAAGlB,EAAO,SAAS,IAAIiB,GAAKA,EAAE,IAAI,CAAC,EAEtDE,EAAmB,IAAM,CACvB,OAAO,QAAQ,6DAA6DP,CAAY,0BAA0B,IAClHH,EAAS,CAAE,KAAM,gBAAiB,QAAS,CAAE,SAAUT,EAAO,GAAI,KAAMY,CAAA,CAAa,CAAG,EACxFH,EAAS,CAAE,KAAM,mBAAoB,QAAS,CAAE,QAAS,qBAAqBG,CAAY,0BAA2B,KAAM,QAAA,CAAS,CAAE,EAE9I,EAEA,OACIR,EAAAA,OAAC,MAAA,CAAI,UAAU,gEACX,SAAA,CAAAA,EAAAA,OAAC,SAAA,CAAO,UAAU,uDACd,SAAA,CAAAA,SAAC,MAAA,CACG,SAAA,CAAAA,SAAC,KAAA,CAAG,UAAU,uGAAuG,SAAA,qBAAA,EAArH,OAAA,GAAA,CAAA,SAAA,sEAAA,WAAA,GAAA,aAAA,EAAA,EAAAE,MAEA,EACAF,SAAC,IAAA,CAAE,UAAU,uDAAwD,WAAO,IAAA,EAA5E,OAAA,GAAA,CAAA,SAAA,sEAAA,WAAA,GAAA,aAAA,EAAA,EAAAE,MAAiF,CAAA,CAAA,EAJrF,OAAA,GAAA,CAAA,SAAA,sEAAA,WAAA,GAAA,aAAA,EAAA,EAAAA,MAKA,EACAF,EAAAA,OAAC,SAAA,CAAO,QAAS,IAAMK,EAAS,CAAE,KAAM,WAAY,QAAS,oBAAA,CAAsB,EAAG,UAAU,6DAA6D,SAAA,eAAA,EAA7J,OAAA,GAAA,CAAA,SAAA,sEAAA,WAAA,GAAA,aAAA,EAAA,EAAAH,MAEA,CAAA,CAAA,EATJ,OAAA,GAAA,CAAA,SAAA,sEAAA,WAAA,GAAA,aAAA,EAAA,EAAAA,MAUA,EACAF,EAAAA,OAAC,OAAA,CAAK,UAAU,qCACZ,SAAAA,EAAAA,OAACgB,GAAO,MAAM,kBAAkB,KAAMhB,EAAAA,OAACiB,EAAA,CAAA,EAAD,OAAA,GAAA,CAAA,SAAA,sEAAA,WAAA,GAAA,aAAA,EAAA,EAAAf,MAAc,EAChD,SAAA,CAAAF,EAAAA,OAAC,MAAA,CAAI,UAAU,iEACX,SAAA,CAAAA,EAAAA,OAAC,MAAA,CAAI,UAAU,0BACX,SAAA,CAAAA,SAAC,UAAO,QAAS,IAAMS,EAAgBS,GAAK,KAAK,IAAI,EAAGA,EAAE,CAAC,CAAC,EAAG,SAAUV,IAAiB,EAAG,UAAU,iFAAiF,SAAA,QAAA,EAAxL,OAAA,GAAA,CAAA,SAAA,sEAAA,WAAA,GAAA,aAAA,EAAA,EAAAN,MAEA,EACAF,EAAAA,OAAC,OAAA,CAAK,UAAU,6BAA6B,SAAA,CAAA,QAAMQ,CAAA,CAAA,EAAnD,OAAA,GAAA,CAAA,SAAA,sEAAA,WAAA,GAAA,aAAA,EAAA,EAAAN,MAAgE,WAC/D,SAAA,CAAO,QAAS,IAAMO,EAAgBS,GAAK,KAAK,IAAIJ,EAASI,EAAE,CAAC,CAAC,EAAG,SAAUV,IAAiBM,EAAS,UAAU,iFAAiF,SAAA,QAAA,EAApM,OAAA,GAAA,CAAA,SAAA,sEAAA,WAAA,GAAA,aAAA,EAAA,EAAAZ,MAEA,CAAA,CAAA,EAPJ,OAAA,GAAA,CAAA,SAAA,sEAAA,WAAA,GAAA,aAAA,EAAA,EAAAA,MAQA,EACAF,EAAAA,OAAC,SAAA,CACG,QAASe,EACT,UAAU,wFACb,SAAA,qBAAA,EAHD,OAAA,GAAA,CAAA,SAAA,sEAAA,WAAA,GAAA,aAAA,EAAA,EAAAb,MAAA,CAKA,CAAA,EAfJ,OAAA,GAAA,CAAA,SAAA,sEAAA,WAAA,GAAA,aAAA,EAAA,EAAAA,MAgBA,EACAF,EAAAA,OAAC,MAAA,CAAI,UAAU,gBACV,SAAAY,EAAe,IAAI,CAACjB,EAASwB,IAC1BnB,EAAAA,OAACN,EAAA,CAAwB,QAAAC,EAAkB,OAAAC,GAAzBuB,EAAlB,GAAA,CAAA,SAAA,sEAAA,WAAA,GAAA,aAAA,EAAA,EAAAjB,MAA2D,CAC9D,GAHL,OAAA,GAAA,CAAA,SAAA,sEAAA,WAAA,GAAA,aAAA,EAAA,EAAAA,MAIA,CAAA,CAAA,EAtBJ,OAAA,GAAA,CAAA,SAAA,sEAAA,WAAA,GAAA,aAAA,EAAA,EAAAA,MAuBA,CAAA,EAxBJ,OAAA,GAAA,CAAA,SAAA,sEAAA,WAAA,GAAA,aAAA,EAAA,EAAAA,MAyBA,CAAA,CAAA,EArCJ,OAAA,GAAA,CAAA,SAAA,sEAAA,WAAA,GAAA,aAAA,CAAA,EAAAA,MAsCA,CAER"}