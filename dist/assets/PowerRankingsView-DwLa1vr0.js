import{j as e,m as E,u as g,R as o}from"./index-COBmtdYu.js";import{t as D}from"./geminiService-1862MQGr.js";import{M as P,A as p,a as v}from"./MinusIcon-SQFhIhBF.js";import{A as C}from"./Avatar-BTFtifDF.js";import{C as S}from"./ChartBarIcon-CEVV4YNe.js";import{W as V}from"./Widget-BuBclpAe.js";import{u as h}from"./useLeague-Cpfoz4PJ.js";import{E as A}from"./ErrorDisplay-DvGa1LPk.js";const j=({trend:n})=>{switch(n){case"up":return e.jsxDEV(v,{className:"h-5 w-5 text-green-400"},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/components/rankings/PowerRankingCard.tsx",lineNumber:21,columnNumber:27},void 0);case"down":return e.jsxDEV(p,{className:"h-5 w-5 text-red-400"},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/components/rankings/PowerRankingCard.tsx",lineNumber:22,columnNumber:29},void 0);case"same":return e.jsxDEV(P,{className:"h-5 w-5 text-gray-500"},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/components/rankings/PowerRankingCard.tsx",lineNumber:23,columnNumber:29},void 0);default:return null}},O=({ranking:n,team:a,isMyTeam:t})=>a?e.jsxDEV(E.div,{className:`p-4 bg-white/5 rounded-lg flex gap-4 transition-all ${t?"ring-2 ring-cyan-400 bg-cyan-500/10":""}`,layout:!0,initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0},children:[e.jsxDEV("div",{className:"flex flex-col items-center flex-shrink-0",children:[e.jsxDEV("span",{className:"font-display font-bold text-4xl text-cyan-300",children:n.rank},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/components/rankings/PowerRankingCard.tsx",lineNumber:42,columnNumber:17},void 0),e.jsxDEV(j,{trend:n.trend},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/components/rankings/PowerRankingCard.tsx",lineNumber:43,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/damat/_REPOS/Astral Draft/components/rankings/PowerRankingCard.tsx",lineNumber:41,columnNumber:13},void 0),e.jsxDEV("div",{className:"flex-grow",children:[e.jsxDEV("div",{className:"flex items-center gap-2",children:[e.jsxDEV(C,{avatar:a.avatar,className:"w-10 h-10 text-2xl rounded-lg"},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/components/rankings/PowerRankingCard.tsx",lineNumber:47,columnNumber:21},void 0),e.jsxDEV("div",{children:[e.jsxDEV("p",{className:"font-bold text-white",children:a.name},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/components/rankings/PowerRankingCard.tsx",lineNumber:49,columnNumber:25},void 0),e.jsxDEV("p",{className:"text-xs text-gray-400",children:["(",a.record.wins,"-",a.record.losses,a.record.ties>0?`-${a.record.ties}`:"",")"]},void 0,!0,{fileName:"C:/Users/damat/_REPOS/Astral Draft/components/rankings/PowerRankingCard.tsx",lineNumber:50,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/damat/_REPOS/Astral Draft/components/rankings/PowerRankingCard.tsx",lineNumber:48,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/damat/_REPOS/Astral Draft/components/rankings/PowerRankingCard.tsx",lineNumber:46,columnNumber:17},void 0),e.jsxDEV("p",{className:"text-xs text-gray-300 mt-2 italic",children:['"',n.justification,'"']},void 0,!0,{fileName:"C:/Users/damat/_REPOS/Astral Draft/components/rankings/PowerRankingCard.tsx",lineNumber:55,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/damat/_REPOS/Astral Draft/components/rankings/PowerRankingCard.tsx",lineNumber:45,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/damat/_REPOS/Astral Draft/components/rankings/PowerRankingCard.tsx",lineNumber:32,columnNumber:9},void 0):null,i=({className:n="",variant:a="rect",width:t,height:l,rows:d=1,animation:N="pulse"})=>{const u=()=>{let s="";return N==="pulse"?s="animate-pulse":N==="wave"&&(s="animate-wave"),`${s} bg-slate-700/80`},c=()=>{switch(a){case"circle":return"rounded-full";case"text":return"rounded h-4";case"card":return"rounded-lg";case"table":return"rounded h-12";case"chart":return"rounded-lg";case"avatar":return"rounded-full w-10 h-10";default:return"rounded"}},m=()=>{const s={};return t&&(s.width=typeof t=="number"?`${t}px`:t),l&&(s.height=typeof l=="number"?`${l}px`:l),s};return a==="text"&&d>1?e.jsxDEV("div",{className:`space-y-2 ${n}`,children:Array.from({length:d},(s,x)=>e.jsxDEV("div",{className:`${u()} ${c()}`,style:{...m(),width:x===d-1?"75%":"100%"}},x,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/components/SkeletonLoader.tsx",lineNumber:61,columnNumber:11},void 0))},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/components/SkeletonLoader.tsx",lineNumber:59,columnNumber:7},void 0):e.jsxDEV("div",{className:`${u()} ${c()} ${n}`,style:m()},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/components/SkeletonLoader.tsx",lineNumber:75,columnNumber:5},void 0)},_=()=>e.jsxDEV("div",{className:"p-4 bg-white/5 rounded-lg flex gap-4",children:[e.jsxDEV("div",{className:"flex flex-col items-center flex-shrink-0",children:[e.jsxDEV(i,{className:"w-10 h-10 mb-2"},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/components/rankings/PowerRankingCardSkeleton.tsx",lineNumber:9,columnNumber:17},void 0),e.jsxDEV(i,{className:"w-6 h-4"},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/components/rankings/PowerRankingCardSkeleton.tsx",lineNumber:10,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/damat/_REPOS/Astral Draft/components/rankings/PowerRankingCardSkeleton.tsx",lineNumber:8,columnNumber:13},void 0),e.jsxDEV("div",{className:"flex-grow",children:[e.jsxDEV("div",{className:"flex items-center gap-2",children:[e.jsxDEV(i,{className:"w-10 h-10 rounded-lg"},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/components/rankings/PowerRankingCardSkeleton.tsx",lineNumber:14,columnNumber:21},void 0),e.jsxDEV("div",{className:"w-full",children:[e.jsxDEV(i,{className:"h-4 w-3/4 mb-2"},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/components/rankings/PowerRankingCardSkeleton.tsx",lineNumber:16,columnNumber:25},void 0),e.jsxDEV(i,{className:"h-3 w-1/2"},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/components/rankings/PowerRankingCardSkeleton.tsx",lineNumber:17,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/damat/_REPOS/Astral Draft/components/rankings/PowerRankingCardSkeleton.tsx",lineNumber:15,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/damat/_REPOS/Astral Draft/components/rankings/PowerRankingCardSkeleton.tsx",lineNumber:13,columnNumber:17},void 0),e.jsxDEV("div",{className:"mt-3 space-y-1",children:[e.jsxDEV(i,{className:"h-3 w-full"},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/components/rankings/PowerRankingCardSkeleton.tsx",lineNumber:21,columnNumber:21},void 0),e.jsxDEV(i,{className:"h-3 w-5/6"},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/components/rankings/PowerRankingCardSkeleton.tsx",lineNumber:22,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/damat/_REPOS/Astral Draft/components/rankings/PowerRankingCardSkeleton.tsx",lineNumber:20,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/damat/_REPOS/Astral Draft/components/rankings/PowerRankingCardSkeleton.tsx",lineNumber:12,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/damat/_REPOS/Astral Draft/components/rankings/PowerRankingCardSkeleton.tsx",lineNumber:7,columnNumber:9},void 0),U=({league:n,dispatch:a})=>{const{state:t}=g(),[l,d]=o.useState([]),[N,u]=o.useState(!0),[c,m]=o.useState(null),[s,x]=o.useState(0),b=n.teams.find(r=>r.owner.id===t.user.id)?.id,w=o.useCallback(async()=>{u(!0),m(null);try{const r=await D(n);r?(r.sort((f,R)=>f.rank-R.rank),d(r)):m("The Oracle could not produce power rankings. Please try again later.")}catch(r){console.error(r),m("An error occurred while consulting the Oracle for power rankings.")}finally{u(!1)}},[n]);o.useEffect(()=>{w()},[n.id,n.currentWeek,s,w]);const k=()=>{x(r=>r+1)};return e.jsxDEV("div",{className:"w-full h-full flex flex-col p-4 sm:p-6 lg:p-8 overflow-y-auto",children:[e.jsxDEV("header",{className:"flex-shrink-0 flex justify-between items-center mb-6",children:[e.jsxDEV("div",{children:[e.jsxDEV("h1",{className:"font-display text-3xl sm:text-4xl font-extrabold tracking-wider uppercase text-[var(--text-primary)]",children:"Power Rankings"},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/PowerRankingsView.tsx",lineNumber:54,columnNumber:21},void 0),e.jsxDEV("p",{className:"text-sm text-[var(--text-secondary)] tracking-widest",children:[n.name," - Week ",n.currentWeek]},void 0,!0,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/PowerRankingsView.tsx",lineNumber:57,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/PowerRankingsView.tsx",lineNumber:53,columnNumber:17},void 0),e.jsxDEV("button",{onClick:()=>a({type:"SET_VIEW",payload:"TEAM_HUB"}),className:"px-4 py-2 bg-white/10 rounded-lg text-sm hover:bg-white/20",children:"Back to My Team"},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/PowerRankingsView.tsx",lineNumber:59,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/PowerRankingsView.tsx",lineNumber:52,columnNumber:13},void 0),e.jsxDEV("main",{className:"flex-grow",children:e.jsxDEV(V,{title:"The Oracle's Official Rankings",icon:e.jsxDEV(S,{},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/PowerRankingsView.tsx",lineNumber:64,columnNumber:71},void 0),children:N?e.jsxDEV("div",{className:"p-2 md:p-4 grid grid-cols-1 md:grid-cols-2 gap-3",children:Array.from({length:n.teams.length||8}).map((r,f)=>e.jsxDEV(_,{},f,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/PowerRankingsView.tsx",lineNumber:67,columnNumber:93},void 0))},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/PowerRankingsView.tsx",lineNumber:66,columnNumber:25},void 0):c?e.jsxDEV(A,{message:c,onRetry:k},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/PowerRankingsView.tsx",lineNumber:70,columnNumber:30},void 0):e.jsxDEV("div",{className:"p-2 md:p-4 grid grid-cols-1 md:grid-cols-2 gap-3",children:l.map(r=>e.jsxDEV(O,{ranking:r,team:n.teams.find(f=>f.id===r.teamId),isMyTeam:r.teamId===b},r.teamId,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/PowerRankingsView.tsx",lineNumber:73,columnNumber:30},void 0))},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/PowerRankingsView.tsx",lineNumber:71,columnNumber:22},void 0)},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/PowerRankingsView.tsx",lineNumber:64,columnNumber:18},void 0)},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/PowerRankingsView.tsx",lineNumber:63,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/PowerRankingsView.tsx",lineNumber:51,columnNumber:10},void 0)},H=()=>{const{dispatch:n}=g(),{league:a}=h();return a?e.jsxDEV(U,{league:a,dispatch:n},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/PowerRankingsView.tsx",lineNumber:104,columnNumber:12},void 0):e.jsxDEV("div",{className:"p-8 text-center w-full h-full flex flex-col items-center justify-center",children:[e.jsxDEV("p",{children:"Please select a league to view power rankings."},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/PowerRankingsView.tsx",lineNumber:96,columnNumber:17},void 0),e.jsxDEV("button",{onClick:()=>n({type:"SET_VIEW",payload:"DASHBOARD"}),className:"mt-4 px-4 py-2 bg-cyan-500 rounded",children:"Back to Dashboard"},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/PowerRankingsView.tsx",lineNumber:97,columnNumber:18},void 0)]},void 0,!0,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/PowerRankingsView.tsx",lineNumber:95,columnNumber:13},void 0)};export{H as default};
