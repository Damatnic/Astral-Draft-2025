import{R as t,j as e,A as g,m as R,u as j,p as D,P as _}from"./index-COBmtdYu.js";import{W as f}from"./Widget-BuBclpAe.js";import{S as U}from"./SearchIcon-BtMVtm22.js";import{L as V,P as I}from"./PlaceClaimModal-C4vQ406T.js";import{C as k}from"./CloseIcon-YuQ4-ZlT.js";import L from"./PlayerDetailModal-uqiFnrvF.js";import{u as T}from"./useLeague-Cpfoz4PJ.js";import{o as M}from"./geminiService-1862MQGr.js";import{L as B}from"./LoadingSpinner-DSQnnH7P.js";import{T as F}from"./TrendingUpIcon-DP-GMy0c.js";import"./Modal-B7Hn7XWX.js";import"./Tabs-Cw-DKmaa.js";import"./AwardIcon-Mk8K_Um_.js";import"./InjuryIcon-DltiSZIs.js";import"./Tooltip-DfORbG6k.js";import"./NewsIcon-DYtVgHbb.js";import"./StopIcon-BwA1Oeo4.js";import"./Avatar-BTFtifDF.js";import"./index-CwQkY9CC.js";const $=({league:r})=>{const[i,s]=t.useState([]),[d,c]=t.useState(!0),[o,N]=t.useState(0);if(t.useEffect(()=>{(async()=>{c(!0);try{const n=await M(r);n&&s(n)}catch(n){console.error("Error fetching waiver intelligence",n)}finally{c(!1)}})()},[r.id,r.currentWeek]),t.useEffect(()=>{if(i.length>1){const m=setInterval(()=>{N(n=>(n+1)%i.length)},8e3);return()=>clearInterval(m)}},[i.length]),d)return e.jsxDEV(f,{title:"Oracle's Insight",icon:e.jsxDEV(V,{},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/components/team/WaiverIntelligenceWidget.tsx",lineNumber:48,columnNumber:53},void 0),children:e.jsxDEV(B,{size:"sm",text:"Scouring the waiver wire..."},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/components/team/WaiverIntelligenceWidget.tsx",lineNumber:49,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/components/team/WaiverIntelligenceWidget.tsx",lineNumber:48,columnNumber:14},void 0);if(i.length===0)return null;const l=i[o];return e.jsxDEV(f,{title:"Oracle's Insight",icon:e.jsxDEV(V,{},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/components/team/WaiverIntelligenceWidget.tsx",lineNumber:61,columnNumber:48},void 0),children:e.jsxDEV("div",{className:"p-3 overflow-hidden",children:e.jsxDEV(g,{mode:"wait",children:e.jsxDEV(R.div,{initial:{opacity:0,x:50},animate:{opacity:1,x:0},exit:{opacity:0,x:-50},transition:{duration:.5,ease:"easeInOut"},children:[e.jsxDEV("div",{className:"flex items-center gap-2 mb-1",children:[l.type==="STREAMING"&&e.jsxDEV(F,{className:"h-4 w-4 text-green-400"},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/components/team/WaiverIntelligenceWidget.tsx",lineNumber:74,columnNumber:67},void 0),e.jsxDEV("h4",{className:"font-bold text-sm text-cyan-300",children:l.title},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/components/team/WaiverIntelligenceWidget.tsx",lineNumber:75,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/Users/damat/_REPOS/Astral Draft/components/team/WaiverIntelligenceWidget.tsx",lineNumber:73,columnNumber:26},void 0),e.jsxDEV("p",{className:"text-xs text-gray-300 italic",children:['"',l.content,'"']},void 0,!0,{fileName:"C:/Users/damat/_REPOS/Astral Draft/components/team/WaiverIntelligenceWidget.tsx",lineNumber:77,columnNumber:25},void 0),e.jsxDEV("div",{className:"mt-2 flex flex-wrap gap-1",children:l.players.map(m=>e.jsxDEV("span",{className:"text-[10px] bg-black/20 px-1.5 py-0.5 rounded-full",children:m},m,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/components/team/WaiverIntelligenceWidget.tsx",lineNumber:80,columnNumber:33},void 0))},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/components/team/WaiverIntelligenceWidget.tsx",lineNumber:78,columnNumber:26},void 0)]},o,!0,{fileName:"C:/Users/damat/_REPOS/Astral Draft/components/team/WaiverIntelligenceWidget.tsx",lineNumber:64,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/components/team/WaiverIntelligenceWidget.tsx",lineNumber:63,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/components/team/WaiverIntelligenceWidget.tsx",lineNumber:62,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/components/team/WaiverIntelligenceWidget.tsx",lineNumber:61,columnNumber:9},void 0)},G=({league:r,myTeam:i,dispatch:s,playerNotes:d,playerAvatars:c})=>{const[o,N]=t.useState(""),[l,m]=t.useState("ALL"),[n,x]=t.useState(!1),[b,h]=t.useState(null),[W,E]=t.useState(null),C=new Set(r.teams.flatMap(a=>a.roster.map(u=>u.id))),p=D.filter(a=>!C.has(a.id)),S=t.useMemo(()=>p.filter(a=>{const u=o.toLowerCase(),v=a.name.toLowerCase().includes(u)||a.team.toLowerCase().includes(u),O=l==="ALL"||a.position===l;return v&&O}).slice(0,100),[p,o,l]),w=r.waiverClaims.filter(a=>a.teamId===i.id&&a.status==="PENDING"),A=a=>{h(a),x(!0)},P=a=>{s({type:"CANCEL_WAIVER_CLAIM",payload:{leagueId:r.id,claimId:a}}),s({type:"ADD_NOTIFICATION",payload:{message:"Waiver claim cancelled.",type:"SYSTEM"}})},y=["ALL","QB","RB","WR","TE","K","DST"];return e.jsxDEV("div",{className:"w-full h-full flex flex-col p-4 sm:p-6 lg:p-8 overflow-y-auto",children:[e.jsxDEV("header",{className:"flex-shrink-0 flex justify-between items-center mb-6",children:[e.jsxDEV("div",{children:[e.jsxDEV("h1",{className:"font-display text-3xl sm:text-4xl font-extrabold tracking-wider uppercase text-[var(--text-primary)]",children:"Waiver Wire"},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/WaiverWireView.tsx",lineNumber:53,columnNumber:21},void 0),e.jsxDEV("p",{className:"text-sm text-[var(--text-secondary)] tracking-widest",children:r.name},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/WaiverWireView.tsx",lineNumber:56,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/WaiverWireView.tsx",lineNumber:52,columnNumber:17},void 0),e.jsxDEV("div",{className:"flex gap-2",children:[e.jsxDEV("div",{className:"px-4 py-2 bg-green-500/10 rounded-lg text-sm",children:e.jsxDEV("span",{className:"text-green-300 font-bold",children:["FAAB: $",i.faab]},void 0,!0,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/WaiverWireView.tsx",lineNumber:60,columnNumber:25},void 0)},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/WaiverWireView.tsx",lineNumber:59,columnNumber:21},void 0),e.jsxDEV("button",{onClick:()=>s({type:"SET_VIEW",payload:"TEAM_HUB"}),className:"px-4 py-2 bg-white/10 rounded-lg text-sm hover:bg-white/20",children:"Back to Team"},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/WaiverWireView.tsx",lineNumber:62,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/WaiverWireView.tsx",lineNumber:58,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/WaiverWireView.tsx",lineNumber:51,columnNumber:13},void 0),e.jsxDEV("main",{className:"flex-grow grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxDEV("div",{className:"lg:col-span-2",children:e.jsxDEV(f,{title:"Available Free Agents",children:[e.jsxDEV("div",{className:"flex-shrink-0 p-2 space-y-2 border-b border-[var(--panel-border)]",children:[e.jsxDEV("div",{className:"relative",children:[e.jsxDEV("input",{type:"text",placeholder:"Search player...",value:o,onChange:a=>N(a.target.value),className:"w-full bg-black/10 dark:bg-gray-900/50 border border-[var(--panel-border)] rounded-md px-3 py-1.5 pl-8 text-sm placeholder:text-[var(--text-secondary)] focus:outline-none focus:ring-2 focus:ring-cyan-400"},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/WaiverWireView.tsx",lineNumber:72,columnNumber:33},void 0),e.jsxDEV(U,{className:"absolute left-2.5 top-1/2 -translate-y-1/2 h-4 w-4 text-[var(--text-secondary)]"},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/WaiverWireView.tsx",lineNumber:79,columnNumber:33},void 0)]},void 0,!0,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/WaiverWireView.tsx",lineNumber:71,columnNumber:29},void 0),e.jsxDEV("div",{className:"flex gap-1 justify-center flex-wrap",children:y.map(a=>e.jsxDEV("button",{onClick:()=>m(a),className:`px-2.5 py-0.5 text-xs font-bold rounded-full transition-all
                                            ${l===a?"bg-cyan-400 text-black":"bg-black/10 dark:bg-gray-700/50 text-[var(--text-secondary)] hover:bg-black/20 dark:hover:bg-gray-600/50"}
                                        `,children:a},a,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/WaiverWireView.tsx",lineNumber:83,columnNumber:37},void 0))},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/WaiverWireView.tsx",lineNumber:81,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/WaiverWireView.tsx",lineNumber:70,columnNumber:25},void 0),e.jsxDEV("div",{className:"p-2 space-y-1 overflow-y-auto",children:S.map(a=>e.jsxDEV("div",{className:"flex items-center justify-between p-1 pr-2 bg-white/5 rounded-md hover:bg-white/10 transition-colors",children:[e.jsxDEV("button",{onClick:()=>E(a),className:"flex-grow text-left p-1 flex items-center gap-2",children:[e.jsxDEV("div",{className:"font-bold text-lg text-cyan-400 w-8 text-center",children:a.rank},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/WaiverWireView.tsx",lineNumber:99,columnNumber:41},void 0),e.jsxDEV("div",{children:[e.jsxDEV("p",{className:"font-bold",children:a.name},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/WaiverWireView.tsx",lineNumber:101,columnNumber:45},void 0),e.jsxDEV("p",{className:"text-xs text-gray-400",children:[a.position," - ",a.team]},void 0,!0,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/WaiverWireView.tsx",lineNumber:102,columnNumber:45},void 0)]},void 0,!0,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/WaiverWireView.tsx",lineNumber:100,columnNumber:41},void 0)]},void 0,!0,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/WaiverWireView.tsx",lineNumber:98,columnNumber:37},void 0),e.jsxDEV("button",{onClick:()=>A(a),className:"flex items-center gap-1.5 px-3 py-1.5 text-xs font-bold bg-green-500/10 text-green-300 rounded-md hover:bg-green-500/20",children:[e.jsxDEV(_,{},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/WaiverWireView.tsx",lineNumber:106,columnNumber:41},void 0),"Claim"]},void 0,!0,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/WaiverWireView.tsx",lineNumber:105,columnNumber:37},void 0)]},a.id,!0,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/WaiverWireView.tsx",lineNumber:97,columnNumber:33},void 0))},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/WaiverWireView.tsx",lineNumber:95,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/WaiverWireView.tsx",lineNumber:69,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/WaiverWireView.tsx",lineNumber:68,columnNumber:17},void 0),e.jsxDEV("div",{className:"space-y-6",children:[e.jsxDEV(f,{title:"My Pending Claims",children:e.jsxDEV("div",{className:"p-3 space-y-2",children:w.length===0?e.jsxDEV("p",{className:"text-center text-xs text-gray-400 py-4",children:"You have no pending claims."},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/WaiverWireView.tsx",lineNumber:118,columnNumber:33},void 0):w.map(a=>{const u=D.find(v=>v.id===a.playerId);return e.jsxDEV("div",{className:"p-2 bg-black/10 rounded-md",children:[e.jsxDEV("div",{className:"flex justify-between items-center",children:[e.jsxDEV("p",{className:"font-semibold text-sm",children:u?.name},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/WaiverWireView.tsx",lineNumber:124,columnNumber:41},void 0),e.jsxDEV("button",{onClick:()=>P(a.id),className:"mobile-touch-target text-gray-500 hover:text-red-400 p-3 rounded-full","aria-label":"Cancel claim",children:e.jsxDEV(k,{className:"w-3 h-3"},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/WaiverWireView.tsx",lineNumber:125,columnNumber:201},void 0)},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/WaiverWireView.tsx",lineNumber:125,columnNumber:41},void 0)]},void 0,!0,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/WaiverWireView.tsx",lineNumber:123,columnNumber:37},void 0),e.jsxDEV("p",{className:"text-xs text-gray-400",children:["Bid: ",e.jsxDEV("span",{className:"font-bold text-yellow-300",children:["$",a.bid]},void 0,!0,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/WaiverWireView.tsx",lineNumber:127,columnNumber:79},void 0)]},void 0,!0,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/WaiverWireView.tsx",lineNumber:127,columnNumber:37},void 0)]},a.id,!0,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/WaiverWireView.tsx",lineNumber:122,columnNumber:33},void 0)})},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/WaiverWireView.tsx",lineNumber:116,columnNumber:25},void 0)},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/WaiverWireView.tsx",lineNumber:115,columnNumber:21},void 0),e.jsxDEV($,{league:r},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/WaiverWireView.tsx",lineNumber:132,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/WaiverWireView.tsx",lineNumber:114,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/WaiverWireView.tsx",lineNumber:67,columnNumber:13},void 0),e.jsxDEV(g,{children:[n&&b&&e.jsxDEV(I,{playerToAdd:b,myTeam:i,leagueId:r.id,dispatch:s,onClose:()=>x(!1)},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/WaiverWireView.tsx",lineNumber:137,columnNumber:21},void 0),W&&e.jsxDEV(L,{player:W,onClose:()=>E(null),playerNotes:d,dispatch:s,league:r,playerAvatars:c},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/WaiverWireView.tsx",lineNumber:146,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/WaiverWireView.tsx",lineNumber:135,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/WaiverWireView.tsx",lineNumber:50,columnNumber:9},void 0)},oe=()=>{const{state:r,dispatch:i}=j(),{league:s,myTeam:d}=T();return!s||!d?e.jsxDEV("div",{className:"w-full h-full flex items-center justify-center p-4",children:[e.jsxDEV("p",{children:"Could not load waiver wire. Please select a league first."},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/WaiverWireView.tsx",lineNumber:167,columnNumber:17},void 0),e.jsxDEV("button",{onClick:()=>i({type:"SET_VIEW",payload:"DASHBOARD"}),className:"ml-4 px-4 py-2 bg-cyan-500 rounded",children:"Back to Dashboard"},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/WaiverWireView.tsx",lineNumber:168,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/WaiverWireView.tsx",lineNumber:166,columnNumber:13},void 0):e.jsxDEV(G,{league:s,myTeam:d,dispatch:i,playerNotes:r.playerNotes,playerAvatars:r.playerAvatars},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/WaiverWireView.tsx",lineNumber:175,columnNumber:12},void 0)};export{oe as default};
