import{u,R as i,j as e,m as d}from"./index-COBmtdYu.js";import{u as f}from"./useLeague-Cpfoz4PJ.js";import{A as S}from"./geminiService-1862MQGr.js";import{E as o}from"./ErrorDisplay-DvGa1LPk.js";import{L as c}from"./LoadingSpinner-DSQnnH7P.js";import{M as x}from"./index-CwQkY9CC.js";const p=()=>{const{dispatch:t}=u(),{league:a,myTeam:s}=f(),[r,l]=i.useState(null),[m,n]=i.useState(!0);return i.useEffect(()=>{s&&a&&(a.status==="COMPLETE"||a.status==="PLAYOFFS")&&(n(!0),S(s).then(l).finally(()=>n(!1)))},[s,a]),!a||!s?e.jsxDEV(o,{title:"Error",message:"Could not load league data.",onRetry:()=>t({type:"SET_VIEW",payload:"DASHBOARD"})},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/SeasonStoryView.tsx",lineNumber:30,columnNumber:16},void 0):a.status!=="COMPLETE"&&a.status!=="PLAYOFFS"?e.jsxDEV(o,{title:"Not Ready",message:"Your season story will be available once the season is complete.",onRetry:()=>t({type:"SET_VIEW",payload:"TEAM_HUB"})},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/SeasonStoryView.tsx",lineNumber:34,columnNumber:16},void 0):e.jsxDEV("div",{className:"w-full h-full flex flex-col p-4 sm:p-6 lg:p-8 overflow-y-auto",children:[e.jsxDEV("header",{className:"flex-shrink-0 flex justify-between items-center mb-6",children:[e.jsxDEV("div",{children:[e.jsxDEV("h1",{className:"font-display text-3xl sm:text-4xl font-extrabold tracking-wider uppercase text-[var(--text-primary)]",children:"My Season Story"},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/SeasonStoryView.tsx",lineNumber:41,columnNumber:21},void 0),e.jsxDEV("p",{className:"text-sm text-[var(--text-secondary)] tracking-widest",children:[s.name," - ",a.name]},void 0,!0,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/SeasonStoryView.tsx",lineNumber:44,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/SeasonStoryView.tsx",lineNumber:40,columnNumber:17},void 0),e.jsxDEV("button",{onClick:()=>t({type:"SET_VIEW",payload:"TEAM_HUB"}),className:"px-4 py-2 bg-white/10 rounded-lg text-sm hover:bg-white/20",children:"Back to Team Hub"},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/SeasonStoryView.tsx",lineNumber:46,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/SeasonStoryView.tsx",lineNumber:39,columnNumber:13},void 0),e.jsxDEV("main",{className:"flex-grow max-w-4xl mx-auto w-full glass-pane rounded-2xl overflow-hidden",children:e.jsxDEV("div",{className:"p-6 md:p-8 h-full overflow-y-auto",children:m?e.jsxDEV(c,{text:"The Oracle is chronicling your epic season..."},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/SeasonStoryView.tsx",lineNumber:52,columnNumber:34},void 0):r?e.jsxDEV(d.div,{className:"prose prose-invert prose-headings:text-cyan-300 prose-strong:text-yellow-300",initial:{opacity:0},animate:{opacity:1},transition:{duration:.8},children:[e.jsxDEV("h1",{children:r.title},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/SeasonStoryView.tsx",lineNumber:62,columnNumber:30},void 0),e.jsxDEV(x,{children:r.narrative},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/SeasonStoryView.tsx",lineNumber:63,columnNumber:30},void 0)]},void 0,!0,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/SeasonStoryView.tsx",lineNumber:54,columnNumber:25},void 0):e.jsxDEV(o,{title:"Could not generate story",message:"The Oracle was unable to write your season's story. Please try again later."},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/SeasonStoryView.tsx",lineNumber:66,columnNumber:25},void 0)},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/SeasonStoryView.tsx",lineNumber:51,columnNumber:18},void 0)},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/SeasonStoryView.tsx",lineNumber:50,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/SeasonStoryView.tsx",lineNumber:38,columnNumber:9},void 0)};export{p as default};
