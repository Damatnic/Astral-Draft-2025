import{u,j as e}from"./index-COBmtdYu.js";import{u as f}from"./useLeague-Cpfoz4PJ.js";import{W as c}from"./Widget-BuBclpAe.js";import{E as N}from"./ErrorDisplay-DvGa1LPk.js";import{A as w}from"./Avatar-BTFtifDF.js";import{T as x}from"./TrophyIcon-CfAYaZE7.js";import{F as g}from"./FlameIcon-wyamR1Et.js";import{S as b}from"./ShieldAlertIcon-DdfZJaIe.js";const v=l=>{const r=l.teams.map(a=>{let t=0,i=0,o={week:0,score:0},m={week:0,score:1/0};return l.schedule.forEach(s=>{s.week>=l.currentWeek||(s.teamA.teamId===a.id?(t+=s.teamA.score,i+=s.teamB.score,s.teamA.score>o.score&&(o={week:s.week,score:s.teamA.score}),s.teamA.score<m.score&&(m={week:s.week,score:s.teamA.score})):s.teamB.teamId===a.id&&(t+=s.teamB.score,i+=s.teamA.score,s.teamB.score>o.score&&(o={week:s.week,score:s.teamB.score}),s.teamB.score<m.score&&(m={week:s.week,score:s.teamB.score})))}),{teamId:a.id,teamName:a.name,avatar:a.avatar,totalPointsFor:t,totalPointsAgainst:i,highestWeek:o,lowestWeek:m.score===1/0?{week:0,score:0}:m}});return{pointsFor:[...r].sort((a,t)=>t.totalPointsFor-a.totalPointsFor),pointsAgainst:[...r].sort((a,t)=>t.totalPointsAgainst-a.totalPointsAgainst),highestSingleGame:[...r].sort((a,t)=>t.highestWeek.score-a.highestWeek.score)}},d=({title:l,icon:r,data:n,valueKey:a,subtext:t})=>e.jsxDEV(c,{title:l,icon:r,children:e.jsxDEV("div",{className:"p-2 space-y-1",children:n.map((i,o)=>e.jsxDEV("div",{className:`flex items-center gap-3 p-2 rounded-md ${o===0?"bg-yellow-500/10":"bg-black/10"}`,children:[e.jsxDEV("span",{className:"font-bold text-lg w-6 text-center",children:o+1},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/LeagueStatsView.tsx",lineNumber:19,columnNumber:21},void 0),e.jsxDEV(w,{avatar:i.avatar,className:"w-8 h-8 rounded-md"},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/LeagueStatsView.tsx",lineNumber:20,columnNumber:21},void 0),e.jsxDEV("div",{className:"flex-grow",children:[e.jsxDEV("p",{className:"font-semibold text-sm",children:i.teamName},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/LeagueStatsView.tsx",lineNumber:22,columnNumber:25},void 0),t&&e.jsxDEV("p",{className:"text-xs text-gray-400",children:t(i)},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/LeagueStatsView.tsx",lineNumber:23,columnNumber:37},void 0)]},void 0,!0,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/LeagueStatsView.tsx",lineNumber:21,columnNumber:21},void 0),e.jsxDEV("p",{className:"font-bold text-lg font-mono",children:(a==="highestWeek"?i.highestWeek.score:i[a]).toFixed(2)},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/LeagueStatsView.tsx",lineNumber:25,columnNumber:21},void 0)]},i.teamId,!0,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/LeagueStatsView.tsx",lineNumber:18,columnNumber:17},void 0))},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/LeagueStatsView.tsx",lineNumber:16,columnNumber:9},void 0)},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/LeagueStatsView.tsx",lineNumber:15,columnNumber:5},void 0),h=()=>{const{dispatch:l}=u(),{league:r}=f();if(!r||r.status==="PRE_DRAFT"||r.status==="DRAFTING")return e.jsxDEV(N,{title:"Not Available",message:"League stats will be available once the season starts.",onRetry:()=>l({type:"SET_VIEW",payload:"LEAGUE_HUB"})},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/LeagueStatsView.tsx",lineNumber:39,columnNumber:16},void 0);const n=v(r);return e.jsxDEV("div",{className:"w-full h-full flex flex-col p-4 sm:p-6 lg:p-8 overflow-y-auto",children:[e.jsxDEV("header",{className:"flex-shrink-0 flex justify-between items-center mb-6",children:[e.jsxDEV("div",{children:[e.jsxDEV("h1",{className:"font-display text-3xl sm:text-4xl font-extrabold tracking-wider uppercase text-[var(--text-primary)]",children:"League Statistics"},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/LeagueStatsView.tsx",lineNumber:48,columnNumber:21},void 0),e.jsxDEV("p",{className:"text-sm text-[var(--text-secondary)] tracking-widest",children:r.name},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/LeagueStatsView.tsx",lineNumber:51,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/LeagueStatsView.tsx",lineNumber:47,columnNumber:17},void 0),e.jsxDEV("button",{onClick:()=>l({type:"SET_VIEW",payload:"LEAGUE_HUB"}),className:"px-4 py-2 bg-white/10 rounded-lg text-sm hover:bg-white/20",children:"Back to League Hub"},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/LeagueStatsView.tsx",lineNumber:53,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/LeagueStatsView.tsx",lineNumber:46,columnNumber:13},void 0),e.jsxDEV("main",{className:"flex-grow grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[e.jsxDEV(d,{title:"Total Points For",icon:e.jsxDEV(x,{},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/LeagueStatsView.tsx",lineNumber:60,columnNumber:27},void 0),data:n.pointsFor,valueKey:"totalPointsFor"},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/LeagueStatsView.tsx",lineNumber:58,columnNumber:17},void 0),e.jsxDEV(d,{title:"Best Week",icon:e.jsxDEV(g,{},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/LeagueStatsView.tsx",lineNumber:66,columnNumber:27},void 0),data:n.highestSingleGame,valueKey:"highestWeek",subtext:a=>`Week ${a.highestWeek.week}`},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/LeagueStatsView.tsx",lineNumber:64,columnNumber:17},void 0),e.jsxDEV(d,{title:"Total Points Against",icon:e.jsxDEV(b,{},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/LeagueStatsView.tsx",lineNumber:73,columnNumber:27},void 0),data:n.pointsAgainst,valueKey:"totalPointsAgainst"},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/LeagueStatsView.tsx",lineNumber:71,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/LeagueStatsView.tsx",lineNumber:57,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/LeagueStatsView.tsx",lineNumber:45,columnNumber:9},void 0)};export{h as default};
