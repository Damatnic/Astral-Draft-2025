import{j as e,u as D,R as n,m as b,p as v,S as c}from"./index-COBmtdYu.js";import{w}from"./geminiService-1862MQGr.js";import{W as E}from"./Widget-BuBclpAe.js";import{L as S}from"./LoadingSpinner-DSQnnH7P.js";import{A as V}from"./Avatar-BTFtifDF.js";import{G as h}from"./GemIcon-DvxRT-JW.js";import{Z as u}from"./ZapIcon-CiiS0iRN.js";import{u as y}from"./useLeague-Cpfoz4PJ.js";const p=({className:t})=>e.jsxDEV("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:t||"w-6 h-6",children:[e.jsxDEV("path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6"},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/components/icons/FirstPlaceIcon.tsx",lineNumber:6,columnNumber:9},void 0),e.jsxDEV("path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18"},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/components/icons/FirstPlaceIcon.tsx",lineNumber:7,columnNumber:9},void 0),e.jsxDEV("path",{d:"M4 22h16"},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/components/icons/FirstPlaceIcon.tsx",lineNumber:8,columnNumber:9},void 0),e.jsxDEV("path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22"},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/components/icons/FirstPlaceIcon.tsx",lineNumber:9,columnNumber:9},void 0),e.jsxDEV("path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22"},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/components/icons/FirstPlaceIcon.tsx",lineNumber:10,columnNumber:9},void 0),e.jsxDEV("path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z"},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/components/icons/FirstPlaceIcon.tsx",lineNumber:11,columnNumber:9},void 0),e.jsxDEV("path",{d:"M12 12V2"},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/components/icons/FirstPlaceIcon.tsx",lineNumber:12,columnNumber:9},void 0)]},void 0,!0,{fileName:"C:/Users/damat/_REPOS/Astral Draft/components/icons/FirstPlaceIcon.tsx",lineNumber:5,columnNumber:5},void 0),A={FIRST_PICK:e.jsxDEV(p,{},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/DraftStoryView.tsx",lineNumber:19,columnNumber:17},void 0),QB_RUSH:e.jsxDEV(u,{},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/DraftStoryView.tsx",lineNumber:20,columnNumber:14},void 0),DRAFT_STEAL:e.jsxDEV(h,{},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/DraftStoryView.tsx",lineNumber:21,columnNumber:18},void 0),THE_REACH:e.jsxDEV(u,{},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/DraftStoryView.tsx",lineNumber:22,columnNumber:16},void 0),MR_IRRELEVANT:e.jsxDEV(c,{},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/DraftStoryView.tsx",lineNumber:23,columnNumber:20},void 0)},P=({event:t,player:a,team:s})=>{const m=A[t.type]||e.jsxDEV(c,{},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/DraftStoryView.tsx",lineNumber:27,columnNumber:44},void 0);return e.jsxDEV("div",{className:"flex items-start gap-4",children:[e.jsxDEV("div",{className:"flex flex-col items-center",children:e.jsxDEV("div",{className:"flex items-center justify-center w-12 h-12 bg-cyan-400/10 rounded-full text-cyan-300 border-2 border-cyan-400/20",children:m},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/DraftStoryView.tsx",lineNumber:31,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/DraftStoryView.tsx",lineNumber:30,columnNumber:13},void 0),e.jsxDEV("div",{className:"pt-2",children:[e.jsxDEV("p",{className:"text-xs text-gray-400",children:["PICK ",t.timestamp]},void 0,!0,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/DraftStoryView.tsx",lineNumber:36,columnNumber:17},void 0),e.jsxDEV("p",{className:"font-semibold text-white",children:t.content},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/DraftStoryView.tsx",lineNumber:37,columnNumber:17},void 0),a&&s&&e.jsxDEV("div",{className:"flex items-center gap-2 mt-1 text-xs text-gray-300",children:[e.jsxDEV(V,{avatar:s.avatar,className:"w-5 h-5 text-sm rounded-full"},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/DraftStoryView.tsx",lineNumber:40,columnNumber:25},void 0),e.jsxDEV("span",{children:[s.name," selects ",e.jsxDEV("strong",{className:"text-yellow-300",children:a.name},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/DraftStoryView.tsx",lineNumber:41,columnNumber:51},void 0)]},void 0,!0,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/DraftStoryView.tsx",lineNumber:41,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/DraftStoryView.tsx",lineNumber:39,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/DraftStoryView.tsx",lineNumber:35,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/DraftStoryView.tsx",lineNumber:29,columnNumber:9},void 0)},R=({league:t,dispatch:a})=>{const[s,m]=n.useState([]),[N,o]=n.useState(!0),[d,f]=n.useState(null);return n.useEffect(()=>{(async()=>{o(!0);try{const i=await w(t);i?m(i.sort((l,x)=>l.timestamp-x.timestamp)):f("The Oracle couldn't find the story in this draft.")}catch{f("An error occurred while consulting the Oracle.")}finally{o(!1)}})()},[t]),e.jsxDEV("div",{className:"w-full h-full flex flex-col p-4 sm:p-6 lg:p-8 overflow-y-auto",children:[e.jsxDEV("header",{className:"flex-shrink-0 flex justify-between items-center mb-6",children:[e.jsxDEV("div",{children:[e.jsxDEV("h1",{className:"font-display text-3xl sm:text-4xl font-extrabold tracking-wider uppercase text-[var(--text-primary)]",children:"The Story of the Draft"},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/DraftStoryView.tsx",lineNumber:77,columnNumber:21},void 0),e.jsxDEV("p",{className:"text-sm text-[var(--text-secondary)] tracking-widest",children:t.name},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/DraftStoryView.tsx",lineNumber:80,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/DraftStoryView.tsx",lineNumber:76,columnNumber:17},void 0),e.jsxDEV("button",{onClick:()=>a({type:"SET_VIEW",payload:"ANALYTICS_HUB"}),className:"mobile-touch-target px-4 py-3 bg-white/10 rounded-lg text-sm hover:bg-white/20",children:"Back to Analytics"},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/DraftStoryView.tsx",lineNumber:82,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/DraftStoryView.tsx",lineNumber:75,columnNumber:13},void 0),e.jsxDEV("main",{className:"flex-grow max-w-3xl mx-auto w-full",children:e.jsxDEV(E,{title:"Key Moments & Highlights",children:e.jsxDEV("div",{className:"p-6",children:N?e.jsxDEV(S,{text:"Reading the tea leaves..."},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/DraftStoryView.tsx",lineNumber:89,columnNumber:34},void 0):d?e.jsxDEV("p",{className:"text-center text-red-400",children:d},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/DraftStoryView.tsx",lineNumber:90,columnNumber:30},void 0):e.jsxDEV("div",{className:"relative space-y-8",children:[e.jsxDEV("div",{className:"absolute left-6 top-0 bottom-0 w-0.5 bg-white/10"},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/DraftStoryView.tsx",lineNumber:94,columnNumber:29},void 0),s.map((r,i)=>e.jsxDEV(b.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:i*.15},children:e.jsxDEV(P,{event:r,player:v.find(l=>l.id===r.playerId),team:t.teams.find(l=>l.id===r.teamId)},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/DraftStoryView.tsx",lineNumber:105,columnNumber:37},void 0)},r.id,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/DraftStoryView.tsx",lineNumber:97,columnNumber:33},void 0))]},void 0,!0,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/DraftStoryView.tsx",lineNumber:92,columnNumber:25},void 0)},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/DraftStoryView.tsx",lineNumber:88,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/DraftStoryView.tsx",lineNumber:87,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/DraftStoryView.tsx",lineNumber:86,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/DraftStoryView.tsx",lineNumber:74,columnNumber:9},void 0)},k=()=>{const{dispatch:t}=D(),{league:a}=y();return a?e.jsxDEV(R,{league:a,dispatch:t},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/DraftStoryView.tsx",lineNumber:137,columnNumber:12},void 0):e.jsxDEV("div",{className:"p-8 text-center w-full h-full flex flex-col items-center justify-center",children:[e.jsxDEV("p",{children:"Please select a completed league to view its draft story."},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/DraftStoryView.tsx",lineNumber:129,columnNumber:17},void 0),e.jsxDEV("button",{onClick:()=>t({type:"SET_VIEW",payload:"DASHBOARD"}),className:"mobile-touch-target mt-4 px-4 py-3 bg-cyan-500 rounded",children:"Back to Dashboard"},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/DraftStoryView.tsx",lineNumber:130,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/DraftStoryView.tsx",lineNumber:128,columnNumber:13},void 0)};export{k as default};
