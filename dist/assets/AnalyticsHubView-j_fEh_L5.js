import{R as d,j as e,S as b,p as x,u as A,A as h,m as C}from"./index-COBmtdYu.js";import{W as c}from"./Widget-BuBclpAe.js";import{R as P,S as V,T as S}from"./geminiService-1862MQGr.js";import{L as N}from"./LoadingSpinner-DSQnnH7P.js";import{T as p}from"./TrophyIcon-CfAYaZE7.js";import{F as R}from"./FlameIcon-wyamR1Et.js";import{G as w}from"./GemIcon-DvxRT-JW.js";import{T as O}from"./TelescopeIcon-CiP2rfm-.js";import{T as D}from"./Tooltip-DfORbG6k.js";import{T as _}from"./Tabs-Cw-DKmaa.js";import{u as g}from"./useLeague-Cpfoz4PJ.js";import{A as E}from"./Avatar-BTFtifDF.js";import{E as j}from"./ErrorBoundary-Co5Itx9n.js";const U=a=>["A+","A","A-"].includes(a)?"text-green-400 border-green-400/50":["B+","B","B-"].includes(a)?"text-yellow-400 border-yellow-400/50":"text-red-400 border-red-400/50",y=({team:a,league:r})=>{const[t,s]=d.useState(a.draftGrade||null),[n,i]=d.useState(!a.draftGrade);return d.useEffect(()=>{a.draftGrade||(i(!0),P(a).then(l=>{l&&s(l)}).finally(()=>i(!1)))},[a,r]),n?e.jsxDEV("div",{className:"glass-pane p-4 rounded-xl flex items-center justify-center h-full",children:e.jsxDEV(N,{size:"sm",text:"Grading..."},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/components/analytics/DraftGradeCard.tsx",lineNumber:41,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/components/analytics/DraftGradeCard.tsx",lineNumber:40,columnNumber:13},void 0):t?e.jsxDEV("div",{className:"glass-pane p-4 rounded-xl flex flex-col gap-3",children:[e.jsxDEV("div",{className:"flex items-center justify-between",children:[e.jsxDEV("div",{children:[e.jsxDEV("p",{className:"font-bold text-white",children:a.name},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/components/analytics/DraftGradeCard.tsx",lineNumber:59,columnNumber:21},void 0),e.jsxDEV("p",{className:"text-xs text-gray-400",children:a.owner.name},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/components/analytics/DraftGradeCard.tsx",lineNumber:60,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/damat/_REPOS/Astral Draft/components/analytics/DraftGradeCard.tsx",lineNumber:58,columnNumber:17},void 0),e.jsxDEV("div",{className:`w-16 h-16 flex items-center justify-center rounded-full border-2 ${U(t.overall)}`,children:e.jsxDEV("span",{className:"text-3xl font-bold font-display",children:t.overall},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/components/analytics/DraftGradeCard.tsx",lineNumber:63,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/components/analytics/DraftGradeCard.tsx",lineNumber:62,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/damat/_REPOS/Astral Draft/components/analytics/DraftGradeCard.tsx",lineNumber:57,columnNumber:13},void 0),e.jsxDEV("p",{className:"text-xs italic text-gray-300",children:['"',t.narrative,'"']},void 0,!0,{fileName:"C:/Users/damat/_REPOS/Astral Draft/components/analytics/DraftGradeCard.tsx",lineNumber:66,columnNumber:13},void 0),e.jsxDEV("div",{className:"text-xs space-y-1",children:[e.jsxDEV("p",{children:[e.jsxDEV("strong",{children:"Best Value:"},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/components/analytics/DraftGradeCard.tsx",lineNumber:68,columnNumber:20},void 0)," ",t.bestPick.name," (",t.bestPick.position,")"]},void 0,!0,{fileName:"C:/Users/damat/_REPOS/Astral Draft/components/analytics/DraftGradeCard.tsx",lineNumber:68,columnNumber:17},void 0),e.jsxDEV("p",{children:[e.jsxDEV("strong",{children:"Biggest Reach:"},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/components/analytics/DraftGradeCard.tsx",lineNumber:69,columnNumber:20},void 0)," ",t.biggestReach.name," (",t.biggestReach.position,")"]},void 0,!0,{fileName:"C:/Users/damat/_REPOS/Astral Draft/components/analytics/DraftGradeCard.tsx",lineNumber:69,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/damat/_REPOS/Astral Draft/components/analytics/DraftGradeCard.tsx",lineNumber:67,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/damat/_REPOS/Astral Draft/components/analytics/DraftGradeCard.tsx",lineNumber:56,columnNumber:9},void 0):e.jsxDEV("div",{className:"glass-pane p-4 rounded-xl flex flex-col gap-3 text-center text-red-400",children:e.jsxDEV("p",{children:"Could not load draft grade."},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/components/analytics/DraftGradeCard.tsx",lineNumber:49,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/components/analytics/DraftGradeCard.tsx",lineNumber:48,columnNumber:13},void 0)},T=({award:a})=>{const r=t=>{const s=t.toLowerCase();return s.includes("steal")||s.includes("value")?e.jsxDEV(w,{},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/components/analytics/DraftRecap.tsx",lineNumber:21,columnNumber:82},void 0):s.includes("gambler")||s.includes("risk")?e.jsxDEV(R,{},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/components/analytics/DraftRecap.tsx",lineNumber:22,columnNumber:83},void 0):e.jsxDEV(p,{},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/components/analytics/DraftRecap.tsx",lineNumber:23,columnNumber:16},void 0)};return e.jsxDEV("div",{className:"bg-white/5 p-3 sm:p-4 rounded-lg flex items-start gap-3 sm:gap-4",children:[e.jsxDEV("div",{className:"text-cyan-400 mt-1 flex-shrink-0",children:r(a.awardTitle)},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/components/analytics/DraftRecap.tsx",lineNumber:28,columnNumber:13},void 0),e.jsxDEV("div",{className:"min-w-0 flex-1",children:[e.jsxDEV("h4",{className:"font-bold text-white text-sm sm:text-base break-words",children:a.awardTitle},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/components/analytics/DraftRecap.tsx",lineNumber:30,columnNumber:17},void 0),e.jsxDEV("p",{className:"text-xs sm:text-sm text-gray-300",children:[e.jsxDEV("span",{className:"font-semibold text-yellow-300",children:a.teamName},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/components/analytics/DraftRecap.tsx",lineNumber:32,columnNumber:21},void 0)," - ",a.playerName]},void 0,!0,{fileName:"C:/Users/damat/_REPOS/Astral Draft/components/analytics/DraftRecap.tsx",lineNumber:31,columnNumber:17},void 0),e.jsxDEV("p",{className:"text-xs text-gray-400 mt-1 italic break-words",children:['"',a.rationale,'"']},void 0,!0,{fileName:"C:/Users/damat/_REPOS/Astral Draft/components/analytics/DraftRecap.tsx",lineNumber:34,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/damat/_REPOS/Astral Draft/components/analytics/DraftRecap.tsx",lineNumber:29,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/damat/_REPOS/Astral Draft/components/analytics/DraftRecap.tsx",lineNumber:27,columnNumber:9},void 0)},H=({league:a,dispatch:r})=>{const[t,s]=d.useState(null),[n,i]=d.useState(!0),[l,m]=d.useState(null);return d.useEffect(()=>{(async()=>{if(a){i(!0),m(null);try{const u=await V(a);s(u)}catch(u){console.error(u),m("The Oracle is resting. Could not generate a draft recap.")}finally{i(!1)}}})()},[a]),n?e.jsxDEV("div",{className:"p-4 sm:p-6",children:e.jsxDEV(N,{text:"The Oracle is writing your draft story..."},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/components/analytics/DraftRecap.tsx",lineNumber:65,columnNumber:44},void 0)},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/components/analytics/DraftRecap.tsx",lineNumber:65,columnNumber:16},void 0):l||!t?e.jsxDEV("div",{className:"p-4 sm:p-6 text-center text-red-400 text-sm sm:text-base",children:l||"No recap data available."},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/components/analytics/DraftRecap.tsx",lineNumber:69,columnNumber:16},void 0):e.jsxDEV("div",{className:"p-3 sm:p-4 md:p-6",children:[e.jsxDEV("div",{className:"text-center",children:[e.jsxDEV("h2",{className:"font-display text-xl sm:text-2xl md:text-3xl font-bold mb-3 sm:mb-4",children:e.jsxDEV("span",{className:"bg-clip-text text-transparent bg-gradient-to-r from-green-300 via-cyan-300 to-indigo-400",children:t.title},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/components/analytics/DraftRecap.tsx",lineNumber:76,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/components/analytics/DraftRecap.tsx",lineNumber:75,columnNumber:17},void 0),e.jsxDEV("button",{onClick:()=>r({type:"SET_VIEW",payload:"DRAFT_STORY"}),className:"mb-3 sm:mb-4 flex items-center gap-2 mx-auto px-4 py-2 bg-gradient-to-r from-purple-500 to-indigo-600 text-white font-bold rounded-lg shadow-lg btn-primary text-sm mobile-touch-target",children:[e.jsxDEV(O,{},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/components/analytics/DraftRecap.tsx",lineNumber:84,columnNumber:21},void 0),"View Draft Story"]},void 0,!0,{fileName:"C:/Users/damat/_REPOS/Astral Draft/components/analytics/DraftRecap.tsx",lineNumber:80,columnNumber:18},void 0)]},void 0,!0,{fileName:"C:/Users/damat/_REPOS/Astral Draft/components/analytics/DraftRecap.tsx",lineNumber:74,columnNumber:13},void 0),e.jsxDEV("p",{className:"text-xs sm:text-sm text-gray-300 leading-relaxed mb-4 sm:mb-6 whitespace-pre-wrap",children:t.summary},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/components/analytics/DraftRecap.tsx",lineNumber:88,columnNumber:13},void 0),e.jsxDEV("div",{children:[e.jsxDEV("h3",{className:"font-bold text-base sm:text-lg text-cyan-300 mb-3 flex items-center gap-2",children:[e.jsxDEV(b,{},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/components/analytics/DraftRecap.tsx",lineNumber:91,columnNumber:107},void 0)," Draft Awards"]},void 0,!0,{fileName:"C:/Users/damat/_REPOS/Astral Draft/components/analytics/DraftRecap.tsx",lineNumber:91,columnNumber:17},void 0),e.jsxDEV("div",{className:"grid grid-cols-1 sm:grid-cols-1 md:grid-cols-2 lg:grid-cols-2 xl:grid-cols-3 gap-3 sm:gap-4",children:t.awards.map((o,u)=>e.jsxDEV(T,{award:o},u,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/components/analytics/DraftRecap.tsx",lineNumber:94,columnNumber:25},void 0))},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/components/analytics/DraftRecap.tsx",lineNumber:92,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/damat/_REPOS/Astral Draft/components/analytics/DraftRecap.tsx",lineNumber:90,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/damat/_REPOS/Astral Draft/components/analytics/DraftRecap.tsx",lineNumber:73,columnNumber:9},void 0)},k=["QB","RB","WR","TE"],f=3,I=({availablePlayers:a})=>{const r=d.useMemo(()=>k.map(t=>{const s=x.filter(l=>l.position===t&&l?.tier<=f),n=a.filter(l=>l.position===t&&l?.tier<=f),i=s.length>0?n.length/s.length*100:0;return{pos:t,availabilityPercent:i,tooltipText:`${n.length} of ${s.length} elite (Tiers 1-${f}) ${t}s remain.`}}),[a]);return e.jsxDEV("div",{className:"p-4",children:[e.jsxDEV("h4",{className:"font-bold text-sm text-center mb-1 text-gray-300",children:"Elite Talent Pool"},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/components/analytics/PositionalScarcityChart.tsx",lineNumber:36,columnNumber:13},void 0),e.jsxDEV("p",{className:"text-xs text-center mb-4 text-gray-500",children:"Percentage of Tiers 1-3 players remaining."},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/components/analytics/PositionalScarcityChart.tsx",lineNumber:37,columnNumber:13},void 0),e.jsxDEV("div",{className:"space-y-3",children:r.map(t=>e.jsxDEV(D,{text:t.tooltipText,children:e.jsxDEV("div",{className:"flex items-center gap-2 text-xs",children:[e.jsxDEV("span",{className:"w-8 font-bold text-gray-400",children:t.pos},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/components/analytics/PositionalScarcityChart.tsx",lineNumber:42,columnNumber:29},void 0),e.jsxDEV("div",{className:"flex-grow bg-black/20 h-5 rounded-full overflow-hidden",children:e.jsxDEV("div",{className:"h-full bg-gradient-to-r from-cyan-500 to-blue-500 rounded-full transition-all duration-500 ease-out flex items-center justify-end pr-2",style:{width:`${t.availabilityPercent}%`},children:e.jsxDEV("span",{className:"text-white font-bold text-[10px]",children:[Math.round(t.availabilityPercent),"%"]},void 0,!0,{fileName:"C:/Users/damat/_REPOS/Astral Draft/components/analytics/PositionalScarcityChart.tsx",lineNumber:48,columnNumber:36},void 0)},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/components/analytics/PositionalScarcityChart.tsx",lineNumber:44,columnNumber:33},void 0)},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/components/analytics/PositionalScarcityChart.tsx",lineNumber:43,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/Users/damat/_REPOS/Astral Draft/components/analytics/PositionalScarcityChart.tsx",lineNumber:41,columnNumber:25},void 0)},t.pos,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/components/analytics/PositionalScarcityChart.tsx",lineNumber:40,columnNumber:21},void 0))},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/components/analytics/PositionalScarcityChart.tsx",lineNumber:38,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/damat/_REPOS/Astral Draft/components/analytics/PositionalScarcityChart.tsx",lineNumber:35,columnNumber:10},void 0)},L=["QB","RB","WR","TE","K","DST"],G={QB:"from-red-500 to-red-700",RB:"from-green-500 to-green-700",WR:"from-blue-500 to-blue-700",TE:"from-orange-500 to-orange-700",K:"from-yellow-500 to-yellow-700",DST:"from-purple-500 to-purple-700"},M=({team:a})=>{const r=d.useMemo(()=>{const s={QB:0,RB:0,WR:0,TE:0,K:0,DST:0};return a.roster.forEach(n=>{s[n.position]!==void 0&&s[n.position]++}),L.map(n=>({position:n,count:s[n]}))},[a.roster]),t=Math.max(...r.map(s=>s.count),5);return e.jsxDEV("div",{className:"p-4",children:[e.jsxDEV("h4",{className:"font-bold text-sm text-center mb-4 text-gray-300",children:"Roster Composition"},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/components/analytics/MyTeamCompositionChart.tsx",lineNumber:39,columnNumber:14},void 0),e.jsxDEV("div",{className:"flex justify-around items-end h-48 gap-2",children:r.map(({position:s,count:n})=>e.jsxDEV(D,{text:`${n} ${s}${n!==1?"s":""}`,children:e.jsxDEV("div",{className:"flex flex-col items-center gap-1 w-full",children:[e.jsxDEV("div",{className:`w-full bg-gradient-to-t ${G[s]} rounded-t-md transition-all duration-500 ease-out`,style:{height:`${n/t*100}%`}},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/components/analytics/MyTeamCompositionChart.tsx",lineNumber:44,columnNumber:29},void 0),e.jsxDEV("span",{className:"text-xs font-bold text-gray-400",children:s},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/components/analytics/MyTeamCompositionChart.tsx",lineNumber:48,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/Users/damat/_REPOS/Astral Draft/components/analytics/MyTeamCompositionChart.tsx",lineNumber:43,columnNumber:25},void 0)},s,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/components/analytics/MyTeamCompositionChart.tsx",lineNumber:42,columnNumber:22},void 0))},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/components/analytics/MyTeamCompositionChart.tsx",lineNumber:40,columnNumber:14},void 0)]},void 0,!0,{fileName:"C:/Users/damat/_REPOS/Astral Draft/components/analytics/MyTeamCompositionChart.tsx",lineNumber:38,columnNumber:9},void 0)},v=({team:a,league:r,dispatch:t})=>{const[s,n]=d.useState(!1),i=a.teamNeeds,l=async()=>{n(!0);try{const m=await S(a);m&&t({type:"SET_TEAM_NEEDS",payload:{leagueId:r.id,teamId:a.id,needs:m}})}catch(m){console.error(m),t({type:"ADD_NOTIFICATION",payload:{message:"Could not analyze team needs.",type:"SYSTEM"}})}finally{n(!1)}};return d.useEffect(()=>{!i&&(r?.status==="IN_SEASON"||r?.status==="PLAYOFFS"||r?.status==="COMPLETE")&&l()},[a.id,r?.status]),e.jsxDEV(c,{title:"Team Needs Analysis",icon:e.jsxDEV(b,{},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/components/analytics/TeamNeedsAnalysis.tsx",lineNumber:43,columnNumber:51},void 0),children:e.jsxDEV("div",{className:"p-4",children:[s?e.jsxDEV(N,{size:"sm",text:"Analyzing roster..."},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/components/analytics/TeamNeedsAnalysis.tsx",lineNumber:46,columnNumber:21},void 0):i&&i.length>0?e.jsxDEV("div",{className:"space-y-3",children:i.map((m,o)=>e.jsxDEV("div",{className:"bg-black/10 p-3 rounded-lg",children:[e.jsxDEV("h4",{className:"font-bold text-red-400",children:m.position},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/components/analytics/TeamNeedsAnalysis.tsx",lineNumber:51,columnNumber:33},void 0),e.jsxDEV("p",{className:"text-xs italic text-gray-300",children:['"',m.rationale,'"']},void 0,!0,{fileName:"C:/Users/damat/_REPOS/Astral Draft/components/analytics/TeamNeedsAnalysis.tsx",lineNumber:52,columnNumber:33},void 0)]},o,!0,{fileName:"C:/Users/damat/_REPOS/Astral Draft/components/analytics/TeamNeedsAnalysis.tsx",lineNumber:50,columnNumber:29},void 0))},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/components/analytics/TeamNeedsAnalysis.tsx",lineNumber:48,columnNumber:21},void 0):e.jsxDEV("p",{className:"text-center text-sm text-gray-400 py-2",children:"The Oracle sees a well-balanced team with no glaring needs."},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/components/analytics/TeamNeedsAnalysis.tsx",lineNumber:57,columnNumber:21},void 0),e.jsxDEV("button",{onClick:l,disabled:s,className:"w-full mt-3 flex items-center justify-center gap-2 px-4 py-1.5 bg-transparent border border-cyan-400/50 text-cyan-300 font-bold text-xs rounded-md hover:bg-cyan-400/20 disabled:opacity-50",children:s?e.jsxDEV(e.Fragment,{children:[e.jsxDEV("div",{className:"w-4 h-4 border-2 border-t-transparent border-white rounded-full animate-spin"},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/components/analytics/TeamNeedsAnalysis.tsx",lineNumber:66,columnNumber:28},void 0),"Analyzing..."]},void 0,!0,{fileName:"C:/Users/damat/_REPOS/Astral Draft/components/analytics/TeamNeedsAnalysis.tsx",lineNumber:65,columnNumber:25},void 0):"Re-Analyze Needs"},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/components/analytics/TeamNeedsAnalysis.tsx",lineNumber:59,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/damat/_REPOS/Astral Draft/components/analytics/TeamNeedsAnalysis.tsx",lineNumber:44,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/components/analytics/TeamNeedsAnalysis.tsx",lineNumber:43,columnNumber:9},void 0)},F=({league:a})=>{const r=d.useMemo(()=>{const t={},s=[...a.draftPicks].filter(n=>n.timestamp).sort((n,i)=>n.overall-i.overall);for(let n=1;n<s.length;n++){const i=s[n],l=s[n-1];if(i.teamId&&i.timestamp&&l.timestamp){const m=(i.timestamp-l.timestamp)/1e3;t[i.teamId]||(t[i.teamId]=[]),t[i.teamId].push(m)}}return a.teams.map(n=>{const i=t[n.id]||[],l=i.length>0?i.reduce((m,o)=>m+o,0)/i.length:0;return{team:n,avgTime:l}}).sort((n,i)=>n.avgTime-i.avgTime)},[a]);return e.jsxDEV(c,{title:"Average Pick Time",children:e.jsxDEV("div",{className:"p-4",children:[e.jsxDEV("p",{className:"text-xs text-gray-400 mb-4",children:"See which managers were the most decisive during the draft. Time is measured from the previous pick to their own."},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/components/analytics/PickTimeAnalytics.tsx",lineNumber:47,columnNumber:17},void 0),e.jsxDEV("div",{className:"space-y-2",children:r.map(({team:t,avgTime:s},n)=>e.jsxDEV("div",{className:"flex items-center justify-between p-2 bg-black/10 rounded-md",children:[e.jsxDEV("div",{className:"flex items-center gap-3",children:[e.jsxDEV("span",{className:"font-bold text-lg w-6 text-center",children:n+1},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/components/analytics/PickTimeAnalytics.tsx",lineNumber:52,columnNumber:33},void 0),e.jsxDEV(E,{avatar:t.avatar,className:"w-8 h-8 rounded-md"},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/components/analytics/PickTimeAnalytics.tsx",lineNumber:53,columnNumber:33},void 0),e.jsxDEV("div",{children:e.jsxDEV("p",{className:"font-semibold text-sm",children:t.name},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/components/analytics/PickTimeAnalytics.tsx",lineNumber:55,columnNumber:37},void 0)},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/components/analytics/PickTimeAnalytics.tsx",lineNumber:54,columnNumber:33},void 0)]},void 0,!0,{fileName:"C:/Users/damat/_REPOS/Astral Draft/components/analytics/PickTimeAnalytics.tsx",lineNumber:51,columnNumber:29},void 0),e.jsxDEV("p",{className:"font-bold text-lg font-mono",children:s>0?s.toFixed(1)+"s":"N/A"},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/components/analytics/PickTimeAnalytics.tsx",lineNumber:58,columnNumber:29},void 0)]},t.id,!0,{fileName:"C:/Users/damat/_REPOS/Astral Draft/components/analytics/PickTimeAnalytics.tsx",lineNumber:50,columnNumber:25},void 0))},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/components/analytics/PickTimeAnalytics.tsx",lineNumber:48,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/damat/_REPOS/Astral Draft/components/analytics/PickTimeAnalytics.tsx",lineNumber:46,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/components/analytics/PickTimeAnalytics.tsx",lineNumber:45,columnNumber:9},void 0)},B=({league:a,dispatch:r})=>{const t=[...a.teams].map(s=>{const n=s.championshipProbHistory||[],i=n.length>0?n[n.length-1].probability:0;return{...s,currentProb:i}}).sort((s,n)=>n.currentProb-s.currentProb).slice(0,3);return e.jsxDEV(c,{title:"Championship Contenders",icon:e.jsxDEV(p,{},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/components/analytics/ChampionshipOddsPreview.tsx",lineNumber:29,columnNumber:55},void 0),children:e.jsxDEV("div",{className:"p-3 space-y-2",children:[t.map(s=>e.jsxDEV("div",{className:"flex items-center justify-between p-2 bg-black/10 rounded-md",children:[e.jsxDEV("div",{className:"flex items-center gap-2",children:[e.jsxDEV(E,{avatar:s.avatar,className:"w-8 h-8 rounded-md"},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/components/analytics/ChampionshipOddsPreview.tsx",lineNumber:34,columnNumber:29},void 0),e.jsxDEV("p",{className:"font-semibold text-sm",children:s.name},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/components/analytics/ChampionshipOddsPreview.tsx",lineNumber:35,columnNumber:29},void 0)]},void 0,!0,{fileName:"C:/Users/damat/_REPOS/Astral Draft/components/analytics/ChampionshipOddsPreview.tsx",lineNumber:33,columnNumber:25},void 0),e.jsxDEV("p",{className:"font-bold text-yellow-300",children:[s.currentProb.toFixed(1),"%"]},void 0,!0,{fileName:"C:/Users/damat/_REPOS/Astral Draft/components/analytics/ChampionshipOddsPreview.tsx",lineNumber:37,columnNumber:25},void 0)]},s.id,!0,{fileName:"C:/Users/damat/_REPOS/Astral Draft/components/analytics/ChampionshipOddsPreview.tsx",lineNumber:32,columnNumber:21},void 0)),e.jsxDEV("button",{onClick:()=>r({type:"SET_VIEW",payload:"CHAMPIONSHIP_ODDS"}),className:"w-full mt-2 py-1.5 text-xs font-bold bg-cyan-500/10 text-cyan-300 rounded-md hover:bg-cyan-500/20",children:"View Full Odds Chart"},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/components/analytics/ChampionshipOddsPreview.tsx",lineNumber:40,columnNumber:18},void 0)]},void 0,!0,{fileName:"C:/Users/damat/_REPOS/Astral Draft/components/analytics/ChampionshipOddsPreview.tsx",lineNumber:30,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/components/analytics/ChampionshipOddsPreview.tsx",lineNumber:29,columnNumber:9},void 0)},W=({league:a,dispatch:r})=>{const t=new Set(a.draftPicks.map(i=>i.playerId)),s=x.filter(i=>!t.has(i.id)),n=a.settings.aiAssistanceLevel==="FULL";return e.jsxDEV("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 sm:gap-6",children:[e.jsxDEV("div",{className:"md:col-span-2 lg:col-span-2 space-y-4 sm:space-y-6",children:[e.jsxDEV(c,{title:"Oracle's Post-Draft Analysis",children:e.jsxDEV(H,{league:a,dispatch:r},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/AnalyticsHubView.tsx",lineNumber:32,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/AnalyticsHubView.tsx",lineNumber:31,columnNumber:17},void 0),e.jsxDEV(c,{title:"Team-by-Team Grades",children:e.jsxDEV("div",{className:"p-3 sm:p-4 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-2 xl:grid-cols-3 gap-3 sm:gap-4",children:a.teams.map(i=>e.jsxDEV(y,{team:i,league:a},i.id,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/AnalyticsHubView.tsx",lineNumber:37,columnNumber:29},void 0))},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/AnalyticsHubView.tsx",lineNumber:35,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/AnalyticsHubView.tsx",lineNumber:34,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/AnalyticsHubView.tsx",lineNumber:30,columnNumber:13},void 0),e.jsxDEV("div",{className:"md:col-span-2 lg:col-span-1 space-y-4 sm:space-y-6",children:[e.jsxDEV(c,{title:"Positional Scarcity",children:e.jsxDEV(I,{availablePlayers:s},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/AnalyticsHubView.tsx",lineNumber:44,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/AnalyticsHubView.tsx",lineNumber:43,columnNumber:18},void 0),n&&e.jsxDEV(B,{league:a,dispatch:r},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/AnalyticsHubView.tsx",lineNumber:46,columnNumber:38},void 0)]},void 0,!0,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/AnalyticsHubView.tsx",lineNumber:42,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/AnalyticsHubView.tsx",lineNumber:29,columnNumber:9},void 0)},$=({league:a,myTeam:r,dispatch:t})=>{const s=a.settings.aiAssistanceLevel==="FULL";return e.jsxDEV("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4 sm:gap-6",children:[e.jsxDEV("div",{className:"lg:col-span-1 space-y-4 sm:space-y-6",children:[e.jsxDEV(c,{title:"My Draft Grade",children:e.jsxDEV("div",{className:"p-3 sm:p-4",children:e.jsxDEV(y,{team:r,league:a},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/AnalyticsHubView.tsx",lineNumber:59,columnNumber:25},void 0)},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/AnalyticsHubView.tsx",lineNumber:58,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/AnalyticsHubView.tsx",lineNumber:57,columnNumber:17},void 0),s&&e.jsxDEV(v,{team:r,league:a,dispatch:t},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/AnalyticsHubView.tsx",lineNumber:62,columnNumber:37},void 0)]},void 0,!0,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/AnalyticsHubView.tsx",lineNumber:56,columnNumber:13},void 0),e.jsxDEV("div",{className:"lg:col-span-2",children:e.jsxDEV(c,{title:"My Roster Analysis",children:e.jsxDEV(M,{team:r},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/AnalyticsHubView.tsx",lineNumber:66,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/AnalyticsHubView.tsx",lineNumber:65,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/AnalyticsHubView.tsx",lineNumber:64,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/AnalyticsHubView.tsx",lineNumber:55,columnNumber:9},void 0)},z=({league:a,myTeam:r,dispatch:t})=>{const[s,n]=d.useState("league"),i=a.settings.aiAssistanceLevel==="FULL",l=[{id:"league",label:"League-Wide"},{id:"my-team",label:"My Team"},{id:"performance",label:"Draft Performance"}];return(a.status==="IN_SEASON"||a.status==="PLAYOFFS"||a.status==="COMPLETE")&&i&&!l.find(o=>o.id==="needs")&&l.push({id:"needs",label:"Team Needs"}),e.jsxDEV("div",{className:"w-full h-full flex flex-col p-3 sm:p-4 md:p-6 lg:p-8 overflow-y-auto",children:[e.jsxDEV("header",{className:"flex-shrink-0 flex flex-col sm:flex-row sm:justify-between sm:items-center gap-3 sm:gap-0 mb-4 sm:mb-6",children:[e.jsxDEV("div",{children:[e.jsxDEV("h1",{className:"font-display text-2xl sm:text-3xl md:text-4xl font-extrabold tracking-wider uppercase text-[var(--text-primary)]",children:"Analytics Hub"},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/AnalyticsHubView.tsx",lineNumber:94,columnNumber:21},void 0),e.jsxDEV("p",{className:"text-xs sm:text-sm text-[var(--text-secondary)] tracking-widest",children:a.name},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/AnalyticsHubView.tsx",lineNumber:97,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/AnalyticsHubView.tsx",lineNumber:93,columnNumber:17},void 0),e.jsxDEV("div",{className:"flex flex-col sm:flex-row items-stretch sm:items-center space-y-2 sm:space-y-0 sm:space-x-3",children:[e.jsxDEV("button",{onClick:()=>t({type:"SET_VIEW",payload:"HISTORICAL_ANALYTICS"}),className:"flex items-center justify-center space-x-2 px-4 py-2 bg-purple-600 text-white rounded-lg text-sm hover:bg-purple-700 transition-colors mobile-touch-target",children:[e.jsxDEV("span",{children:"Historical Analytics"},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/AnalyticsHubView.tsx",lineNumber:104,columnNumber:25},void 0),e.jsxDEV("svg",{className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsxDEV("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/AnalyticsHubView.tsx",lineNumber:106,columnNumber:29},void 0)},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/AnalyticsHubView.tsx",lineNumber:105,columnNumber:25},void 0)]},void 0,!0,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/AnalyticsHubView.tsx",lineNumber:100,columnNumber:21},void 0),e.jsxDEV("button",{onClick:()=>t({type:"SET_VIEW",payload:"TEAM_HUB"}),className:"px-4 py-2 bg-white/10 rounded-lg text-sm hover:bg-white/20 mobile-touch-target",children:"Back to My Team"},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/AnalyticsHubView.tsx",lineNumber:109,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/AnalyticsHubView.tsx",lineNumber:99,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/AnalyticsHubView.tsx",lineNumber:92,columnNumber:13},void 0),e.jsxDEV("div",{className:"border-b border-[var(--panel-border)] mb-4 sm:mb-6",children:e.jsxDEV(_,{items:l,activeTab:s,onTabChange:n},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/AnalyticsHubView.tsx",lineNumber:115,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/AnalyticsHubView.tsx",lineNumber:114,columnNumber:13},void 0),e.jsxDEV("main",{className:"flex-grow",children:e.jsxDEV(h,{mode:"wait",children:e.jsxDEV(C.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.2},children:[s==="league"&&e.jsxDEV(W,{league:a,dispatch:t},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/AnalyticsHubView.tsx",lineNumber:128,columnNumber:52},void 0),s==="my-team"&&e.jsxDEV($,{league:a,myTeam:r,dispatch:t},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/AnalyticsHubView.tsx",lineNumber:129,columnNumber:53},void 0),s==="performance"&&e.jsxDEV(F,{league:a},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/AnalyticsHubView.tsx",lineNumber:130,columnNumber:57},void 0),s==="needs"&&i&&e.jsxDEV(v,{team:r,league:a,dispatch:t},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/AnalyticsHubView.tsx",lineNumber:131,columnNumber:70},void 0)]},s,!0,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/AnalyticsHubView.tsx",lineNumber:119,columnNumber:21},void 0)},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/AnalyticsHubView.tsx",lineNumber:118,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/AnalyticsHubView.tsx",lineNumber:117,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/AnalyticsHubView.tsx",lineNumber:91,columnNumber:10},void 0)},Y=()=>{const{dispatch:a}=A(),{league:r,myTeam:t}=g(),s=r&&(r.status==="DRAFT_COMPLETE"||r.status==="IN_SEASON"||r.status==="PLAYOFFS"||r.status==="COMPLETE");return!r||!t?e.jsxDEV("div",{className:"p-8 text-center w-full h-full flex flex-col items-center justify-center",children:[e.jsxDEV("p",{children:"Please select a completed league to view analytics."},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/AnalyticsHubView.tsx",lineNumber:155,columnNumber:17},void 0),e.jsxDEV("button",{onClick:()=>a({type:"SET_VIEW",payload:"DASHBOARD"}),className:"mt-4 px-4 py-2 bg-cyan-500 rounded",children:"Back to Dashboard"},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/AnalyticsHubView.tsx",lineNumber:156,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/AnalyticsHubView.tsx",lineNumber:154,columnNumber:13},void 0):s?e.jsxDEV("div",{className:"w-full h-full",children:e.jsxDEV(z,{league:r,myTeam:t,dispatch:a},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/AnalyticsHubView.tsx",lineNumber:176,columnNumber:13},void 0)},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/AnalyticsHubView.tsx",lineNumber:175,columnNumber:9},void 0):e.jsxDEV("div",{className:"p-8 text-center w-full h-full flex flex-col items-center justify-center",children:[e.jsxDEV("p",{children:"Draft analytics are available after the draft is complete."},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/AnalyticsHubView.tsx",lineNumber:166,columnNumber:17},void 0),e.jsxDEV("button",{onClick:()=>a({type:"SET_VIEW",payload:"DASHBOARD"}),className:"mt-4 px-4 py-2 bg-cyan-500 rounded",children:"Back to Dashboard"},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/AnalyticsHubView.tsx",lineNumber:167,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/AnalyticsHubView.tsx",lineNumber:165,columnNumber:13},void 0)},le=a=>e.jsxDEV(j,{children:e.jsxDEV(Y,{...a},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/AnalyticsHubView.tsx",lineNumber:183,columnNumber:9},void 0)},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/AnalyticsHubView.tsx",lineNumber:182,columnNumber:5},void 0);export{le as default};
