import{u as S,R as r,j as e}from"./index-COBmtdYu.js";import{u as b}from"./useLeague-Cpfoz4PJ.js";import{W as v}from"./Widget-BuBclpAe.js";import{E as u}from"./ErrorDisplay-DvGa1LPk.js";import{N as E}from"./geminiService-1862MQGr.js";import{T as j}from"./TrendingUpIcon-DP-GMy0c.js";import{L as w}from"./LoadingSpinner-DSQnnH7P.js";import{A as P}from"./Avatar-BTFtifDF.js";const U=()=>{const{state:D,dispatch:m}=S(),{league:s}=b(),[i,c]=r.useState(null),[f,n]=r.useState(!0),[o,d]=r.useState(null);if(r.useEffect(()=>{s&&(s.status==="IN_SEASON"||s.status==="PLAYOFFS")?(n(!0),d(null),E(s).then(t=>{t?c(t):d("The Oracle could not generate projections at this time.")}).catch(()=>d("An error occurred while consulting the Oracle.")).finally(()=>n(!1))):n(!1)},[s]),!s||!(s.status==="IN_SEASON"||s.status==="PLAYOFFS"))return e.jsxDEV(u,{title:"Not Available",message:"Projected standings are only available during an active season.",onRetry:()=>m({type:"SET_VIEW",payload:"LEAGUE_STANDINGS"})},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/ProjectedStandingsView.tsx",lineNumber:40,columnNumber:16},void 0);const N=i?[...i].sort((t,l)=>l.projectedWins-t.projectedWins):[];return e.jsxDEV("div",{className:"w-full h-full flex flex-col p-4 sm:p-6 lg:p-8 overflow-y-auto",children:[e.jsxDEV("header",{className:"flex-shrink-0 flex justify-between items-center mb-6",children:[e.jsxDEV("div",{children:[e.jsxDEV("h1",{className:"font-display text-3xl sm:text-4xl font-extrabold tracking-wider uppercase text-[var(--text-primary)]",children:"Projected Standings"},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/ProjectedStandingsView.tsx",lineNumber:51,columnNumber:21},void 0),e.jsxDEV("p",{className:"text-sm text-[var(--text-secondary)] tracking-widest",children:s.name},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/ProjectedStandingsView.tsx",lineNumber:54,columnNumber:21},void 0)]},void 0,!0,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/ProjectedStandingsView.tsx",lineNumber:50,columnNumber:17},void 0),e.jsxDEV("button",{onClick:()=>m({type:"SET_VIEW",payload:"LEAGUE_STANDINGS"}),className:"px-4 py-2 bg-white/10 rounded-lg text-sm hover:bg-white/20",children:"Back to Standings"},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/ProjectedStandingsView.tsx",lineNumber:56,columnNumber:17},void 0)]},void 0,!0,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/ProjectedStandingsView.tsx",lineNumber:49,columnNumber:13},void 0),e.jsxDEV("main",{className:"flex-grow",children:e.jsxDEV(v,{title:"End of Season Projections",icon:e.jsxDEV(j,{},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/ProjectedStandingsView.tsx",lineNumber:61,columnNumber:65},void 0),children:f?e.jsxDEV(w,{text:"Simulating the rest of the season..."},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/ProjectedStandingsView.tsx",lineNumber:62,columnNumber:34},void 0):o?e.jsxDEV(u,{message:o},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/ProjectedStandingsView.tsx",lineNumber:63,columnNumber:30},void 0):i&&e.jsxDEV("div",{className:"p-2",children:e.jsxDEV("table",{className:"w-full text-sm text-left",children:[e.jsxDEV("thead",{className:"bg-black/10",children:e.jsxDEV("tr",{children:[e.jsxDEV("th",{className:"p-3",children:"Rank"},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/ProjectedStandingsView.tsx",lineNumber:69,columnNumber:41},void 0),e.jsxDEV("th",{className:"p-3",children:"Team"},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/ProjectedStandingsView.tsx",lineNumber:70,columnNumber:41},void 0),e.jsxDEV("th",{className:"p-3 text-center",children:"Projected Record"},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/ProjectedStandingsView.tsx",lineNumber:71,columnNumber:41},void 0),e.jsxDEV("th",{className:"p-3",children:"Oracle's Outlook"},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/ProjectedStandingsView.tsx",lineNumber:72,columnNumber:41},void 0)]},void 0,!0,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/ProjectedStandingsView.tsx",lineNumber:68,columnNumber:37},void 0)},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/ProjectedStandingsView.tsx",lineNumber:67,columnNumber:33},void 0),e.jsxDEV("tbody",{children:N.map((t,l)=>{const a=s.teams.find(x=>x.id===t.teamId);return a?e.jsxDEV("tr",{className:"border-t border-white/5",children:[e.jsxDEV("td",{className:"p-3 font-bold text-cyan-400",children:l+1},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/ProjectedStandingsView.tsx",lineNumber:82,columnNumber:49},void 0),e.jsxDEV("td",{className:"p-3",children:e.jsxDEV("div",{className:"flex items-center gap-2",children:[e.jsxDEV(P,{avatar:a.avatar,className:"w-8 h-8 text-xl rounded-md"},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/ProjectedStandingsView.tsx",lineNumber:85,columnNumber:57},void 0),e.jsxDEV("div",{children:[e.jsxDEV("p",{className:"font-semibold text-white",children:a.name},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/ProjectedStandingsView.tsx",lineNumber:87,columnNumber:61},void 0),e.jsxDEV("p",{className:"text-xs text-gray-400",children:a.owner.name},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/ProjectedStandingsView.tsx",lineNumber:88,columnNumber:61},void 0)]},void 0,!0,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/ProjectedStandingsView.tsx",lineNumber:86,columnNumber:57},void 0)]},void 0,!0,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/ProjectedStandingsView.tsx",lineNumber:84,columnNumber:53},void 0)},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/ProjectedStandingsView.tsx",lineNumber:83,columnNumber:49},void 0),e.jsxDEV("td",{className:"p-3 font-mono text-center",children:[t.projectedWins,"-",t.projectedLosses,"-",t.projectedTies]},void 0,!0,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/ProjectedStandingsView.tsx",lineNumber:92,columnNumber:49},void 0),e.jsxDEV("td",{className:"p-3 text-xs italic text-gray-300",children:['"',t.narrative,'"']},void 0,!0,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/ProjectedStandingsView.tsx",lineNumber:95,columnNumber:49},void 0)]},a.id,!0,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/ProjectedStandingsView.tsx",lineNumber:81,columnNumber:45},void 0):null})},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/ProjectedStandingsView.tsx",lineNumber:75,columnNumber:33},void 0)]},void 0,!0,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/ProjectedStandingsView.tsx",lineNumber:66,columnNumber:29},void 0)},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/ProjectedStandingsView.tsx",lineNumber:65,columnNumber:25},void 0)},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/ProjectedStandingsView.tsx",lineNumber:61,columnNumber:17},void 0)},void 0,!1,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/ProjectedStandingsView.tsx",lineNumber:60,columnNumber:13},void 0)]},void 0,!0,{fileName:"C:/Users/damat/_REPOS/Astral Draft/views/ProjectedStandingsView.tsx",lineNumber:48,columnNumber:9},void 0)};export{U as default};
