{"version":3,"file":"WeeklyRecapVideoView-CbsxbUoP.js","sources":["../../components/reports/RecapVideoPlayer.tsx","../../views/WeeklyRecapVideoView.tsx"],"sourcesContent":["\nimport React from 'react';\nimport { motion, AnimatePresence } from 'framer-motion';\nimport type { RecapVideoScene, League } from '../../types';\nimport { Avatar } from '../ui/Avatar';\nimport { LazyImage } from '../ui/LazyImage';\nimport { PlayIcon } from '../icons/PlayIcon';\nimport { PauseIcon } from '../icons/PauseIcon';\nimport useSound from '../../hooks/useSound';\n\ninterface RecapVideoPlayerProps {\n    script: RecapVideoScene[];\n    league: League;\n}\n\nconst sceneDuration = 5000; // 5 seconds per scene\n\nconst TitleScene: React.FC<{ scene: RecapVideoScene }> = ({ scene }) => (\n    <motion.div\n        className=\"w-full h-full flex flex-col items-center justify-center text-center p-8 bg-gradient-to-br from-gray-900 to-black\"\n        {...{\n            initial: { opacity: 0, scale: 0.8 },\n            animate: { opacity: 1, scale: 1 },\n            exit: { opacity: 0, scale: 1.2 },\n            transition: { duration: 0.8 },\n        }}\n    >\n        <h1 className=\"font-display text-5xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-green-300 via-cyan-300 to-indigo-400\">\n            {scene.title}\n        </h1>\n        <p className=\"mt-4 text-lg text-gray-300\">{scene.narration}</p>\n    </motion.div>\n);\n\nconst MatchupScene: React.FC<{ scene: RecapVideoScene, league: League }> = ({ scene, league }) => {\n    const teamA = league.teams.find((t: any) => t.name === scene.teamAName);\n    const teamB = league.teams.find((t: any) => t.name === scene.teamBName);\n    return (\n         <motion.div\n            className=\"w-full h-full flex flex-col items-center justify-center p-8 bg-gradient-to-b from-gray-800 to-gray-900\"\n            {...{\n                initial: { opacity: 0 },\n                animate: { opacity: 1 },\n                exit: { opacity: 0 },\n                transition: { duration: 0.5 },\n            }}\n        >\n            <div className=\"flex flex-col sm:flex-row items-center justify-around w-full gap-4\">\n                <motion.div {...{ initial: { x: -50, opacity: 0 }, animate: { x: 0, opacity: 1 }, transition: { delay: 0.2 } }} className=\"text-center\">\n                    <Avatar avatar={teamA?.avatar || '🏈'} className=\"w-24 h-24 text-6xl mx-auto rounded-lg\" />\n                    <p className=\"mt-2 font-bold text-xl\">{teamA?.name}</p>\n                </motion.div>\n                <motion.div {...{ initial: { scale: 0 }, animate: { scale: 1 }, transition: { delay: 0.4 } }} className=\"text-center\">\n                    <p className=\"font-display text-6xl font-bold\">{scene.teamAScore?.toFixed(2)} - {scene.teamBScore?.toFixed(2)}</p>\n                    <p className=\"text-red-400 font-bold mt-1\">{scene.type === 'UPSET' ? 'UPSET ALERT' : 'FINAL'}</p>\n                </motion.div>\n                <motion.div {...{ initial: { x: 50, opacity: 0 }, animate: { x: 0, opacity: 1 }, transition: { delay: 0.2 } }} className=\"text-center\">\n                     <Avatar avatar={teamB?.avatar || '🏈'} className=\"w-24 h-24 text-6xl mx-auto rounded-lg\" />\n                    <p className=\"mt-2 font-bold text-xl\">{teamB?.name}</p>\n                </motion.div>\n            </div>\n            <motion.p {...{ initial: { y: 20, opacity: 0 }, animate: { y: 0, opacity: 1 }, transition: { delay: 0.8 } }} className=\"mt-8 text-lg text-gray-300 text-center italic\">\n                \"{scene.narration}\"\n            </motion.p>\n        </motion.div>\n    )\n};\n\nconst TopPerformerScene: React.FC<{ scene: RecapVideoScene, league: League }> = ({ scene, league }) => {\n    const team = league.teams.find((t: any) => t.name === scene.playerTeam);\n    return (\n         <motion.div\n            className=\"w-full h-full flex flex-col items-center justify-center p-8 bg-gradient-to-b from-yellow-900/50 to-gray-900\"\n            {...{\n                initial: { opacity: 0 },\n                animate: { opacity: 1 },\n                exit: { opacity: 0 },\n                transition: { duration: 0.5 },\n            }}\n        >\n            <motion.p {...{ initial: { y: -20 }, animate: { y: 0 } }} className=\"font-display text-3xl text-yellow-300\">PLAYER OF THE WEEK</motion.p>\n            <motion.div {...{ initial: { scale: 0.5 }, animate: { scale: 1 }, transition: { delay: 0.2 } }} className=\"my-4\">\n                <Avatar avatar={team?.avatar || '🏈'} className=\"w-24 h-24 text-6xl rounded-full ring-4 ring-yellow-400\" />\n            </motion.div>\n            <motion.p {...{ initial: { y: 20, opacity: 0 }, animate: { y: 0, opacity: 1 }, transition: { delay: 0.4 } }} className=\"text-3xl font-bold\">{scene.playerName}</motion.p>\n            <motion.p {...{ initial: { y: 20, opacity: 0 }, animate: { y: 0, opacity: 1 }, transition: { delay: 0.6 } }} className=\"text-5xl font-display font-bold text-yellow-300 my-2\">{scene.playerScore?.toFixed(2)} PTS</motion.p>\n            <motion.p {...{ initial: { y: 20, opacity: 0 }, animate: { y: 0, opacity: 1 }, transition: { delay: 0.8 } }} className=\"mt-4 text-lg text-gray-300 text-center italic\">\n                \"{scene.narration}\"\n            </motion.p>\n        </motion.div>\n    )\n};\n\nconst OutroScene: React.FC<{ scene: RecapVideoScene }> = ({ scene }) => (\n     <motion.div\n        className=\"w-full h-full flex flex-col items-center justify-center text-center p-8 bg-gradient-to-br from-gray-900 to-black\"\n        {...{\n            initial: { opacity: 0 },\n            animate: { opacity: 1 },\n            exit: { opacity: 0 },\n            transition: { duration: 1 },\n        }}\n    >\n        <LazyImage \n          src=\"/favicon.svg\" \n          alt=\"Astral Draft\" \n          className=\"w-16 h-16 mb-4\"\n          loading=\"lazy\"\n        />\n        <p className=\"text-lg text-gray-300\">{scene.narration}</p>\n    </motion.div>\n);\n\n\nconst RecapVideoPlayer: React.FC<RecapVideoPlayerProps> = ({ script, league }) => {\n    const [currentIndex, setCurrentIndex] = React.useState(0);\n    const [isPlaying, setIsPlaying] = React.useState(true);\n    const timerRef = React.useRef<ReturnType<typeof setTimeout> | null>(null);\n    const playClickSound = useSound('bid', 0.3);\n\n    React.useEffect(() => {\n        const advanceScene = () => {\n            setCurrentIndex(prev => {\n                if (prev < script.length - 1) {\n                    return prev + 1;\n                }\n                setIsPlaying(false);\n                return prev;\n            });\n        };\n\n        if (isPlaying) {\n            timerRef.current = setTimeout(advanceScene, sceneDuration);\n        }\n\n        return () => {\n            if (timerRef.current) {\n                clearTimeout(timerRef.current);\n            }\n        };\n    }, [currentIndex, isPlaying, script]);\n\n    const handlePlayPause = () => {\n        playClickSound();\n        setIsPlaying(prev => !prev);\n    };\n\n    const currentScene = script[currentIndex];\n\n    return (\n        <div className=\"w-full h-full flex flex-col relative text-white\">\n            <div className=\"flex-grow\">\n                <AnimatePresence mode=\"wait\">\n                    {currentScene.type === 'TITLE' && <TitleScene key={currentIndex} scene={currentScene} />}\n                    {(currentScene.type === 'MATCHUP' || currentScene.type === 'UPSET') && <MatchupScene key={currentIndex} scene={currentScene} league={league} />}\n                    {currentScene.type === 'TOP_PERFORMER' && <TopPerformerScene key={currentIndex} scene={currentScene} league={league} />}\n                    {currentScene.type === 'OUTRO' && <OutroScene key={currentIndex} scene={currentScene} />}\n                </AnimatePresence>\n            </div>\n            <div className=\"absolute bottom-0 left-0 right-0 p-4 bg-gradient-to-t from-black/80 to-transparent\">\n                <div className=\"w-full bg-white/20 h-1.5 rounded-full\">\n                    <motion.div \n                        className=\"h-full bg-cyan-400 rounded-full\"\n                        key={currentIndex}\n                        {...{\n                            initial: { width: '0%' },\n                            animate: { width: isPlaying ? '100%' : '0%' },\n                            transition: { duration: isPlaying ? sceneDuration / 1000 : 0, ease: 'linear' },\n                        }}\n                    />\n                </div>\n                <div className=\"flex items-center justify-between mt-2\">\n                    <button onClick={handlePlayPause} className=\"p-2 rounded-full text-white bg-white/10 hover:bg-white/20\">\n                        {isPlaying ? <PauseIcon /> : <PlayIcon />}\n                    </button>\n                    <span className=\"text-xs font-mono\">{currentIndex + 1} / {script.length}</span>\n                </div>\n            </div>\n        </div>\n    );\n};\n\nexport default RecapVideoPlayer;\n","\nimport React from 'react';\nimport { useAppState } from '../contexts/AppContext';\nimport { useLeague } from '../hooks/useLeague';\nimport { generateWeeklyRecapVideoScript } from '../services/geminiService';\nimport type { RecapVideoScene } from '../types';\nimport ErrorDisplay from '../components/core/ErrorDisplay';\nimport LoadingSpinner from '../components/ui/LoadingSpinner';\nimport RecapVideoPlayer from '../components/reports/RecapVideoPlayer';\n\nexport const WeeklyRecapVideoView: React.FC = () => {\n    const { state, dispatch } = useAppState();\n    const { league } = useLeague();\n    const [script, setScript] = React.useState<RecapVideoScene[] | null>(null);\n    const [isLoading, setIsLoading] = React.useState(true);\n    const [error, setError] = React.useState<string | null>(null);\n\n    const week = league ? (league.currentWeek > 1 ? league.currentWeek - 1 : 1) : 1;\n    const scriptCacheKey = league ? `${league.id}_${week}` : '';\n\n    React.useEffect(() => {\n        if (!league || !scriptCacheKey) return;\n\n        const cachedScript = state.weeklyRecapScripts[scriptCacheKey];\n        if (cachedScript) {\n            setScript(cachedScript);\n            setIsLoading(false);\n            return;\n        }\n\n        setIsLoading(true);\n        setError(null);\n        generateWeeklyRecapVideoScript(league, week)\n            .then(data => {\n                if (data) {\n                    setScript(data);\n                    dispatch({ type: 'SET_WEEKLY_RECAP_SCRIPT', payload: { key: scriptCacheKey, script: data } });\n                } else {\n                    setError(\"The Oracle could not produce a video script for this week.\");\n                }\n            })\n            .catch(() => setError(\"An error occurred while consulting the Oracle.\"))\n            .finally(() => setIsLoading(false));\n\n    }, [league, week, scriptCacheKey, state.weeklyRecapScripts, dispatch]);\n\n    if (!league) {\n        return <ErrorDisplay title=\"Error\" message=\"No active league found.\" onRetry={() => dispatch({ type: 'SET_VIEW', payload: 'DASHBOARD' })} />;\n    }\n\n    return (\n        <div className=\"w-full h-full flex flex-col items-center justify-center p-4\">\n            <div className=\"w-full max-w-4xl aspect-video bg-black rounded-2xl shadow-2xl shadow-black/50 overflow-hidden relative glass-pane\">\n                {isLoading && <LoadingSpinner text=\"Generating your weekly highlight reel...\" />}\n                {error && <ErrorDisplay message={error} />}\n                {script && <RecapVideoPlayer script={script} league={league} />}\n            </div>\n            <button\n                onClick={() => dispatch({ type: 'SET_VIEW', payload: 'WEEKLY_REPORT' })}\n                className=\"mt-6 px-4 py-2 bg-white/10 rounded-lg text-sm hover:bg-white/20\"\n            >\n                Back to Report\n            </button>\n        </div>\n    );\n};\n\nexport default WeeklyRecapVideoView;"],"names":["sceneDuration","TitleScene","scene","jsxDEV","motion","this","MatchupScene","league","teamA","t","teamB","Avatar","TopPerformerScene","team","OutroScene","LazyImage","RecapVideoPlayer","script","currentIndex","setCurrentIndex","React","isPlaying","setIsPlaying","timerRef","playClickSound","useSound","advanceScene","prev","handlePlayPause","currentScene","AnimatePresence","PauseIcon","PlayIcon","WeeklyRecapVideoView","state","dispatch","useAppState","useLeague","setScript","isLoading","setIsLoading","error","setError","week","scriptCacheKey","cachedScript","generateWeeklyRecapVideoScript","data","LoadingSpinner","ErrorDisplay"],"mappings":"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"}